(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ed(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cm={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function sR(){if(vE)return ku;vE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ku.Fragment=e,ku.jsx=t,ku.jsxs=t,ku}var EE;function aR(){return EE||(EE=1,Cm.exports=sR()),Cm.exports}var v=aR(),Im={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function oR(){if(bE)return Fe;bE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function P(A,$,G){this.props=A,this.context=$,this.refs=F,this.updater=G||N}P.prototype.isReactComponent={},P.prototype.setState=function(A,$){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,$,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function M(){}M.prototype=P.prototype;function U(A,$,G){this.props=A,this.context=$,this.refs=F,this.updater=G||N}var Y=U.prototype=new M;Y.constructor=U,O(Y,P.prototype),Y.isPureReactComponent=!0;var q=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function k(A,$,G,Z,ce,_e){return G=_e.ref,{$$typeof:n,type:A,key:$,ref:G!==void 0?G:null,props:_e}}function R(A,$){return k(A.type,$,void 0,void 0,void 0,A.props)}function D(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function L(A){var $={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(G){return $[G]})}var V=/\/+/g;function I(A,$){return typeof A=="object"&&A!==null&&A.key!=null?L(""+A.key):$.toString(36)}function C(){}function ge(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(C,C):(A.status="pending",A.then(function($){A.status==="pending"&&(A.status="fulfilled",A.value=$)},function($){A.status==="pending"&&(A.status="rejected",A.reason=$)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Ce(A,$,G,Z,ce){var _e=typeof A;(_e==="undefined"||_e==="boolean")&&(A=null);var Se=!1;if(A===null)Se=!0;else switch(_e){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(A.$$typeof){case n:case e:Se=!0;break;case _:return Se=A._init,Ce(Se(A._payload),$,G,Z,ce)}}if(Se)return ce=ce(A),Se=Z===""?"."+I(A,0):Z,q(ce)?(G="",Se!=null&&(G=Se.replace(V,"$&/")+"/"),Ce(ce,$,G,"",function(Pt){return Pt})):ce!=null&&(D(ce)&&(ce=R(ce,G+(ce.key==null||A&&A.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+Se)),$.push(ce)),1;Se=0;var De=Z===""?".":Z+":";if(q(A))for(var He=0;He<A.length;He++)Z=A[He],_e=De+I(Z,He),Se+=Ce(Z,$,G,_e,ce);else if(He=w(A),typeof He=="function")for(A=He.call(A),He=0;!(Z=A.next()).done;)Z=Z.value,_e=De+I(Z,He++),Se+=Ce(Z,$,G,_e,ce);else if(_e==="object"){if(typeof A.then=="function")return Ce(ge(A),$,G,Z,ce);throw $=String(A),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Se}function J(A,$,G){if(A==null)return A;var Z=[],ce=0;return Ce(A,Z,"","",function(_e){return $.call(G,_e,ce++)}),Z}function he(A){if(A._status===-1){var $=A._result;$=$(),$.then(function(G){(A._status===0||A._status===-1)&&(A._status=1,A._result=G)},function(G){(A._status===0||A._status===-1)&&(A._status=2,A._result=G)}),A._status===-1&&(A._status=0,A._result=$)}if(A._status===1)return A._result.default;throw A._result}var be=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ne(){}return Fe.Children={map:J,forEach:function(A,$,G){J(A,function(){$.apply(this,arguments)},G)},count:function(A){var $=0;return J(A,function(){$++}),$},toArray:function(A){return J(A,function($){return $})||[]},only:function(A){if(!D(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Fe.Component=P,Fe.Fragment=t,Fe.Profiler=a,Fe.PureComponent=U,Fe.StrictMode=i,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return H.H.useMemoCache(A)}},Fe.cache=function(A){return function(){return A.apply(null,arguments)}},Fe.cloneElement=function(A,$,G){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=O({},A.props),ce=A.key,_e=void 0;if($!=null)for(Se in $.ref!==void 0&&(_e=void 0),$.key!==void 0&&(ce=""+$.key),$)!se.call($,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&$.ref===void 0||(Z[Se]=$[Se]);var Se=arguments.length-2;if(Se===1)Z.children=G;else if(1<Se){for(var De=Array(Se),He=0;He<Se;He++)De[He]=arguments[He+2];Z.children=De}return k(A.type,ce,void 0,void 0,_e,Z)},Fe.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},Fe.createElement=function(A,$,G){var Z,ce={},_e=null;if($!=null)for(Z in $.key!==void 0&&(_e=""+$.key),$)se.call($,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=$[Z]);var Se=arguments.length-2;if(Se===1)ce.children=G;else if(1<Se){for(var De=Array(Se),He=0;He<Se;He++)De[He]=arguments[He+2];ce.children=De}if(A&&A.defaultProps)for(Z in Se=A.defaultProps,Se)ce[Z]===void 0&&(ce[Z]=Se[Z]);return k(A,_e,void 0,void 0,null,ce)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(A){return{$$typeof:d,render:A}},Fe.isValidElement=D,Fe.lazy=function(A){return{$$typeof:_,_payload:{_status:-1,_result:A},_init:he}},Fe.memo=function(A,$){return{$$typeof:g,type:A,compare:$===void 0?null:$}},Fe.startTransition=function(A){var $=H.T,G={};H.T=G;try{var Z=A(),ce=H.S;ce!==null&&ce(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Ne,be)}catch(_e){be(_e)}finally{H.T=$}},Fe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Fe.use=function(A){return H.H.use(A)},Fe.useActionState=function(A,$,G){return H.H.useActionState(A,$,G)},Fe.useCallback=function(A,$){return H.H.useCallback(A,$)},Fe.useContext=function(A){return H.H.useContext(A)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(A,$){return H.H.useDeferredValue(A,$)},Fe.useEffect=function(A,$,G){var Z=H.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(A,$)},Fe.useId=function(){return H.H.useId()},Fe.useImperativeHandle=function(A,$,G){return H.H.useImperativeHandle(A,$,G)},Fe.useInsertionEffect=function(A,$){return H.H.useInsertionEffect(A,$)},Fe.useLayoutEffect=function(A,$){return H.H.useLayoutEffect(A,$)},Fe.useMemo=function(A,$){return H.H.useMemo(A,$)},Fe.useOptimistic=function(A,$){return H.H.useOptimistic(A,$)},Fe.useReducer=function(A,$,G){return H.H.useReducer(A,$,G)},Fe.useRef=function(A){return H.H.useRef(A)},Fe.useState=function(A){return H.H.useState(A)},Fe.useSyncExternalStore=function(A,$,G){return H.H.useSyncExternalStore(A,$,G)},Fe.useTransition=function(){return H.H.useTransition()},Fe.version="19.1.0",Fe}var TE;function Lg(){return TE||(TE=1,Im.exports=oR()),Im.exports}var K=Lg();const cr=ed(K);var Dm={exports:{}},Nu={},km={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function lR(){return wE||(wE=1,function(n){function e(J,he){var be=J.length;J.push(he);e:for(;0<be;){var Ne=be-1>>>1,A=J[Ne];if(0<a(A,he))J[Ne]=he,J[be]=A,be=Ne;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var he=J[0],be=J.pop();if(be!==he){J[0]=be;e:for(var Ne=0,A=J.length,$=A>>>1;Ne<$;){var G=2*(Ne+1)-1,Z=J[G],ce=G+1,_e=J[ce];if(0>a(Z,be))ce<A&&0>a(_e,Z)?(J[Ne]=_e,J[ce]=be,Ne=ce):(J[Ne]=Z,J[G]=be,Ne=G);else if(ce<A&&0>a(_e,be))J[Ne]=_e,J[ce]=be,Ne=ce;else break e}}return he}function a(J,he){var be=J.sortIndex-he.sortIndex;return be!==0?be:J.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,b=null,w=3,N=!1,O=!1,F=!1,P=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function q(J){for(var he=t(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=J)i(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function H(J){if(F=!1,q(J),!O)if(t(p)!==null)O=!0,se||(se=!0,I());else{var he=t(g);he!==null&&Ce(H,he.startTime-J)}}var se=!1,k=-1,R=5,D=-1;function L(){return P?!0:!(n.unstable_now()-D<R)}function V(){if(P=!1,se){var J=n.unstable_now();D=J;var he=!0;try{e:{O=!1,F&&(F=!1,U(k),k=-1),N=!0;var be=w;try{t:{for(q(J),b=t(p);b!==null&&!(b.expirationTime>J&&L());){var Ne=b.callback;if(typeof Ne=="function"){b.callback=null,w=b.priorityLevel;var A=Ne(b.expirationTime<=J);if(J=n.unstable_now(),typeof A=="function"){b.callback=A,q(J),he=!0;break t}b===t(p)&&i(p),q(J)}else i(p);b=t(p)}if(b!==null)he=!0;else{var $=t(g);$!==null&&Ce(H,$.startTime-J),he=!1}}break e}finally{b=null,w=be,N=!1}he=void 0}}finally{he?I():se=!1}}}var I;if(typeof Y=="function")I=function(){Y(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ge=C.port2;C.port1.onmessage=V,I=function(){ge.postMessage(null)}}else I=function(){M(V,0)};function Ce(J,he){k=M(function(){J(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(J){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var be=w;w=he;try{return J()}finally{w=be}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(J,he){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var be=w;w=J;try{return he()}finally{w=be}},n.unstable_scheduleCallback=function(J,he,be){var Ne=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ne+be:Ne):be=Ne,J){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=be+A,J={id:_++,callback:he,priorityLevel:J,startTime:be,expirationTime:A,sortIndex:-1},be>Ne?(J.sortIndex=be,e(g,J),t(p)===null&&J===t(g)&&(F?(U(k),k=-1):F=!0,Ce(H,be-Ne))):(J.sortIndex=A,e(p,J),O||N||(O=!0,se||(se=!0,I()))),J},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(J){var he=w;return function(){var be=w;w=he;try{return J.apply(this,arguments)}finally{w=be}}}}(Nm)),Nm}var SE;function uR(){return SE||(SE=1,km.exports=lR()),km.exports}var Om={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function cR(){if(AE)return mn;AE=1;var n=Lg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},mn.flushSync=function(p){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=_,i.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:N}):_==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},mn.requestFormReset=function(p){i.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var xE;function hR(){if(xE)return Om.exports;xE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Om.exports=cR(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function fR(){if(RE)return Nu;RE=1;var n=uR(),e=Lg(),t=hR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),r;if(m===u)return d(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,u=m;break}if(S===u){T=!0,u=f,o=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===o){T=!0,o=m,u=f;break}if(S===u){T=!0,u=m,o=f;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case P:return"Profiler";case F:return"StrictMode";case H:return"Suspense";case se:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case Y:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:ge(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return ge(r(s))}catch{}}return null}var Ce=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ne=[],A=-1;function $(r){return{current:r}}function G(r){0>A||(r.current=Ne[A],Ne[A]=null,A--)}function Z(r,s){A++,Ne[A]=r.current,r.current=s}var ce=$(null),_e=$(null),Se=$(null),De=$(null);function He(r,s){switch(Z(Se,s),Z(_e,r),Z(ce,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Y0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Y0(s),r=K0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(ce),Z(ce,r)}function Pt(){G(ce),G(_e),G(Se)}function En(r){r.memoizedState!==null&&Z(De,r);var s=ce.current,o=K0(s,r.type);s!==o&&(Z(_e,r),Z(ce,o))}function fr(r){_e.current===r&&(G(ce),G(_e)),De.current===r&&(G(De),xu._currentValue=be)}var Rr=Object.prototype.hasOwnProperty,li=n.unstable_scheduleCallback,Cr=n.unstable_cancelCallback,es=n.unstable_shouldYield,ro=n.unstable_requestPaint,Cn=n.unstable_now,kc=n.unstable_getCurrentPriorityLevel,ts=n.unstable_ImmediatePriority,z=n.unstable_UserBlockingPriority,te=n.unstable_NormalPriority,ae=n.unstable_LowPriority,Ee=n.unstable_IdlePriority,ye=n.log,pe=n.unstable_setDisableYieldValue,ve=null,Re=null;function ze(r){if(typeof ye=="function"&&pe(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ve,r)}catch{}}var it=Math.clz32?Math.clz32:ci,ui=Math.log,Wn=Math.LN2;function ci(r){return r>>>=0,r===0?32:31-(ui(r)/Wn|0)|0}var dr=256,pr=4194304;function Ln(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hi(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?f=Ln(u):(T&=S,T!==0?f=Ln(T):o||(o=S&~r,o!==0&&(f=Ln(o))))):(S=u&~m,S!==0?f=Ln(S):T!==0?f=Ln(T):o||(o=u&~r,o!==0&&(f=Ln(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function fi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ns(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var r=dr;return dr<<=1,(dr&4194048)===0&&(dr=256),r}function Cl(){var r=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),r}function di(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function pi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Il(r,s,o,u,f,m){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,j=r.expirationTimes,ee=r.hiddenUpdates;for(o=T&~o;0<o;){var oe=31-it(o),fe=1<<oe;S[oe]=0,j[oe]=-1;var ne=ee[oe];if(ne!==null)for(ee[oe]=null,oe=0;oe<ne.length;oe++){var re=ne[oe];re!==null&&(re.lane&=-536870913)}o&=~fe}u!==0&&Ir(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(T&~s))}function Ir(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-it(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Dl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-it(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function rs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function io(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function is(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:dE(r.type))}function Nc(r,s){var o=he.p;try{return he.p=r,s()}finally{he.p=o}}var yt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+yt,Mt="__reactProps$"+yt,Zn="__reactContainer$"+yt,kl="__reactEvents$"+yt,kd="__reactListeners$"+yt,ss="__reactHandles$"+yt,Oc="__reactResources$"+yt,ua="__reactMarker$"+yt;function as(r){delete r[Ht],delete r[Mt],delete r[kl],delete r[kd],delete r[ss]}function mi(r){var s=r[Ht];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Zn]||o[Ht]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Z0(r);r!==null;){if(o=r[Ht])return o;r=Z0(r)}return s}r=o,o=r.parentNode}return null}function Dr(r){if(r=r[Ht]||r[Zn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function kr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function bn(r){var s=r[Oc];return s||(s=r[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(r){r[ua]=!0}var Nl=new Set,so={};function mr(r,s){gi(r,s),gi(r+"Capture",s)}function gi(r,s){for(so[r]=s,r=0;r<s.length;r++)Nl.add(s[r])}var Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},ca={};function Vc(r){return Rr.call(ca,r)?!0:Rr.call(Mc,r)?!1:Pc.test(r)?ca[r]=!0:(Mc[r]=!0,!1)}function os(r,s,o){if(Vc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Nr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function rn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var ha,Uc;function yi(r){if(ha===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ha=s&&s[1]||"",Uc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+r+Uc}var ao=!1;function oo(r,s){if(!r||ao)return"";ao=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ne=re}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(re){ne=re}r.call(fe.prototype)}}else{try{throw Error()}catch(re){ne=re}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var j=T.split(`
`),ee=S.split(`
`);for(f=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(u===j.length||f===ee.length)for(u=j.length-1,f=ee.length-1;1<=u&&0<=f&&j[u]!==ee[f];)f--;for(;1<=u&&0<=f;u--,f--)if(j[u]!==ee[f]){if(u!==1||f!==1)do if(u--,f--,0>f||j[u]!==ee[f]){var oe=`
`+j[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=f);break}}}finally{ao=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yi(o):""}function Ol(r){switch(r.tag){case 26:case 27:case 5:return yi(r.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return oo(r.type,!1);case 11:return oo(r.type.render,!1);case 1:return oo(r.type,!0);case 31:return yi("Activity");default:return""}}function lo(r){try{var s="";do s+=Ol(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nd(r){var s=Pl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function uo(r){r._valueTracker||(r._valueTracker=Nd(r))}function Ml(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Pl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function fa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Od=/[\n"\\]/g;function Vt(r){return r.replace(Od,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jn(r,s,o,u,f,m,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Tn(s)):r.value!==""+Tn(s)&&(r.value=""+Tn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?ls(r,T,Tn(s)):o!=null?ls(r,T,Tn(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Tn(S):r.removeAttribute("name")}function da(r,s,o,u,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+Tn(o):"",s=s!=null?""+Tn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function ls(r,s,o){s==="number"&&fa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function _i(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Tn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ot(r,s,o){if(s!=null&&(s=""+Tn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Tn(o):""}function pa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ce(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Tn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Jn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ma.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Vl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Lc(r,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Lc(r,m,s[m])}function Ul(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(r){return Md.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vi=null;function er(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ei=null,bi=null;function Ll(r){var s=Dr(r);if(s&&(r=s.stateNode)){var o=r[Mt]||null;e:switch(r=s.stateNode,s.type){case"input":if(jn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Mt]||null;if(!f)throw Error(i(90));jn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ml(u)}break e;case"textarea":ot(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&_i(r,!!o.multiple,s,!1)}}}var Or=!1;function jc(r,s,o){if(Or)return r(s,o);Or=!0;try{var u=r(s);return u}finally{if(Or=!1,(Ei!==null||bi!==null)&&(Nh(),Ei&&(s=Ei,r=bi,bi=Ei=null,Ll(s),r)))for(s=0;s<r.length;s++)Ll(r[s])}}function ga(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Mt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(gr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){tr=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{tr=!1}var Pr=null,us=null,Ti=null;function jl(){if(Ti)return Ti;var r,s=us,o=s.length,u,f="value"in Pr?Pr.value:Pr.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===f[m-u];u++);return Ti=f.slice(r,1<u?1-u:void 0)}function Mr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Vr(){return!0}function Fl(){return!1}function Xt(r){function s(o,u,f,m,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vr:Fl,this.isPropagationStopped=Fl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),s}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Xt(nt),_a=_({},nt,{view:0,detail:0}),Fc=Xt(_a),fo,po,Ur,va=_({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ur&&(Ur&&r.type==="mousemove"?(fo=r.screenX-Ur.screenX,po=r.screenY-Ur.screenY):po=fo=0,Ur=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:po}}),nr=Xt(va),zc=_({},va,{dataTransfer:0}),Vd=Xt(zc),Ea=_({},_a,{relatedTarget:0}),mo=Xt(Ea),zl=_({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),go=Xt(zl),Bc=_({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yo=Xt(Bc),Ud=_({},nt,{data:0}),Bl=Xt(Ud),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Hc[r])?!!s[r]:!1}function Ta(){return ql}var $c=_({},_a,{key:function(r){if(r.key){var s=ba[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(r){return r.type==="keypress"?Mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_o=Xt($c),Gc=_({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Xt(Gc),wi=_({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Yc=Xt(wi),Kc=_({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Xt(Kc),Xc=_({},va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vo=Xt(Xc),wn=_({},nt,{newState:0,oldState:0}),Wc=Xt(wn),Zc=[9,13,27,32],Lr=gr&&"CompositionEvent"in window,h=null;gr&&"documentMode"in document&&(h=document.documentMode);var y=gr&&"TextEvent"in window&&!h,E=gr&&(!Lr||h&&8<h&&11>=h),x=" ",X=!1;function ie(r,s){switch(r){case"keyup":return Zc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xe=!1;function $t(r,s){switch(r){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(X=!0,x);case"textInput":return r=s.data,r===x&&X?null:r;default:return null}}function We(r,s){if(Xe)return r==="compositionend"||!Lr&&ie(r,s)?(r=jl(),Ti=us=Pr=null,Xe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Wt[r.type]:s==="textarea"}function Si(r,s,o,u){Ei?bi?bi.push(u):bi=[u]:Ei=u,s=Lh(s,"onChange"),0<s.length&&(o=new ho("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var sn=null,jr=null;function $l(r){B0(r,0)}function Jc(r){var s=kr(r);if(Ml(s))return r}function u_(r,s){if(r==="change")return s}var c_=!1;if(gr){var Ld;if(gr){var jd="oninput"in document;if(!jd){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),jd=typeof h_.oninput=="function"}Ld=jd}else Ld=!1;c_=Ld&&(!document.documentMode||9<document.documentMode)}function f_(){sn&&(sn.detachEvent("onpropertychange",d_),jr=sn=null)}function d_(r){if(r.propertyName==="value"&&Jc(jr)){var s=[];Si(s,jr,r,er(r)),jc($l,s)}}function M1(r,s,o){r==="focusin"?(f_(),sn=s,jr=o,sn.attachEvent("onpropertychange",d_)):r==="focusout"&&f_()}function V1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jc(jr)}function U1(r,s){if(r==="click")return Jc(s)}function L1(r,s){if(r==="input"||r==="change")return Jc(s)}function j1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Fn=typeof Object.is=="function"?Object.is:j1;function Gl(r,s){if(Fn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Rr.call(s,f)||!Fn(r[f],s[f]))return!1}return!0}function p_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function m_(r,s){var o=p_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=p_(o)}}function g_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?g_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function y_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=fa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=fa(r.document)}return s}function Fd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var F1=gr&&"documentMode"in document&&11>=document.documentMode,Eo=null,zd=null,Yl=null,Bd=!1;function __(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bd||Eo==null||Eo!==fa(u)||(u=Eo,"selectionStart"in u&&Fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yl&&Gl(Yl,u)||(Yl=u,u=Lh(zd,"onSelect"),0<u.length&&(s=new ho("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Eo)))}function wa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var bo={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},qd={},v_={};gr&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Sa(r){if(qd[r])return qd[r];if(!bo[r])return r;var s=bo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in v_)return qd[r]=s[o];return r}var E_=Sa("animationend"),b_=Sa("animationiteration"),T_=Sa("animationstart"),z1=Sa("transitionrun"),B1=Sa("transitionstart"),q1=Sa("transitioncancel"),w_=Sa("transitionend"),S_=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function yr(r,s){S_.set(r,s),mr(s,[r])}var A_=new WeakMap;function rr(r,s){if(typeof r=="object"&&r!==null){var o=A_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:lo(s)},A_.set(r,s),s)}return{value:r,source:s,stack:lo(s)}}var ir=[],To=0,$d=0;function eh(){for(var r=To,s=$d=To=0;s<r;){var o=ir[s];ir[s++]=null;var u=ir[s];ir[s++]=null;var f=ir[s];ir[s++]=null;var m=ir[s];if(ir[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}m!==0&&x_(o,f,m)}}function th(r,s,o,u){ir[To++]=r,ir[To++]=s,ir[To++]=o,ir[To++]=u,$d|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gd(r,s,o,u){return th(r,s,o,u),nh(r)}function wo(r,s){return th(r,null,null,s),nh(r)}function x_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&s!==null&&(f=31-it(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function nh(r){if(50<_u)throw _u=0,Zp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var So={};function H1(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,o,u){return new H1(r,s,o,u)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,s){var o=r.alternate;return o===null?(o=zn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function R_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function rh(r,s,o,u,f,m){var T=0;if(u=r,typeof r=="function")Yd(r)&&(T=1);else if(typeof r=="string")T=Gx(r,o,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=zn(31,o,s,f),r.elementType=D,r.lanes=m,r;case O:return Aa(o.children,f,m,s);case F:T=8,f|=24;break;case P:return r=zn(12,o,s,f|2),r.elementType=P,r.lanes=m,r;case H:return r=zn(13,o,s,f),r.elementType=H,r.lanes=m,r;case se:return r=zn(19,o,s,f),r.elementType=se,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case Y:T=10;break e;case U:T=9;break e;case q:T=11;break e;case k:T=14;break e;case R:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=zn(T,o,s,f),s.elementType=r,s.type=u,s.lanes=m,s}function Aa(r,s,o,u){return r=zn(7,r,u,s),r.lanes=o,r}function Kd(r,s,o){return r=zn(6,r,null,s),r.lanes=o,r}function Qd(r,s,o){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ao=[],xo=0,ih=null,sh=0,sr=[],ar=0,xa=null,xi=1,Ri="";function Ra(r,s){Ao[xo++]=sh,Ao[xo++]=ih,ih=r,sh=s}function C_(r,s,o){sr[ar++]=xi,sr[ar++]=Ri,sr[ar++]=xa,xa=r;var u=xi;r=Ri;var f=32-it(u)-1;u&=~(1<<f),o+=1;var m=32-it(s)+f;if(30<m){var T=f-f%5;m=(u&(1<<T)-1).toString(32),u>>=T,f-=T,xi=1<<32-it(s)+f|o<<f|u,Ri=m+r}else xi=1<<m|o<<f|u,Ri=r}function Xd(r){r.return!==null&&(Ra(r,1),C_(r,1,0))}function Wd(r){for(;r===ih;)ih=Ao[--xo],Ao[xo]=null,sh=Ao[--xo],Ao[xo]=null;for(;r===xa;)xa=sr[--ar],sr[ar]=null,Ri=sr[--ar],sr[ar]=null,xi=sr[--ar],sr[ar]=null}var Sn=null,St=null,tt=!1,Ca=null,Fr=!1,Zd=Error(i(519));function Ia(r){var s=Error(i(418,""));throw Xl(rr(s,r)),Zd}function I_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ht]=r,s[Mt]=u,o){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(o=0;o<Eu.length;o++)Ye(Eu[o],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),da(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),uo(s);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),pa(s,u.value,u.defaultValue,u.children),uo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||G0(s.textContent,o)?(u.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),u.onScroll!=null&&Ye("scroll",s),u.onScrollEnd!=null&&Ye("scrollend",s),u.onClick!=null&&(s.onclick=jh),s=!0):s=!1,s||Ia(r)}function D_(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:Sn=Sn.return}}function Kl(r){if(r!==Sn)return!1;if(!tt)return D_(r),tt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||pm(r.type,r.memoizedProps)),o=!o),o&&St&&Ia(r),D_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){St=vr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}St=null}}else s===27?(s=St,As(r.type)?(r=_m,_m=null,St=r):St=s):St=Sn?vr(r.stateNode.nextSibling):null;return!0}function Ql(){St=Sn=null,tt=!1}function k_(){var r=Ca;return r!==null&&(kn===null?kn=r:kn.push.apply(kn,r),Ca=null),r}function Xl(r){Ca===null?Ca=[r]:Ca.push(r)}var Jd=$(null),Da=null,Ci=null;function cs(r,s,o){Z(Jd,s._currentValue),s._currentValue=o}function Ii(r){r._currentValue=Jd.current,G(Jd)}function ep(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function tp(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var j=0;j<s.length;j++)if(S.context===s[j]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),ep(m.return,o,r),u||(T=null);break e}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),ep(T,o,r),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===r){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Wl(r,s,o,u){r=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=f.type;Fn(f.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(f===De.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(xu):r=[xu])}f=f.return}r!==null&&tp(s,r,o,u),s.flags|=262144}function ah(r){for(r=r.firstContext;r!==null;){if(!Fn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ka(r){Da=r,Ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return N_(Da,r)}function oh(r,s){return Da===null&&ka(r),N_(r,s)}function N_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ci===null){if(r===null)throw Error(i(308));Ci=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ci=Ci.next=s;return o}var $1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},G1=n.unstable_scheduleCallback,Y1=n.unstable_NormalPriority,Yt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new $1,data:new Map,refCount:0}}function Zl(r){r.refCount--,r.refCount===0&&G1(Y1,function(){r.controller.abort()})}var Jl=null,rp=0,Ro=0,Co=null;function K1(r,s){if(Jl===null){var o=Jl=[];rp=0,Ro=sm(),Co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rp++,s.then(O_,O_),s}function O_(){if(--rp===0&&Jl!==null){Co!==null&&(Co.status="fulfilled");var r=Jl;Jl=null,Ro=0,Co=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Q1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var P_=J.S;J.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&K1(r,s),P_!==null&&P_(r,s)};var Na=$(null);function ip(){var r=Na.current;return r!==null?r:dt.pooledCache}function lh(r,s){s===null?Z(Na,Na.current):Z(Na,s.pool)}function M_(){var r=ip();return r===null?null:{parent:Yt._currentValue,pool:r}}var eu=Error(i(460)),V_=Error(i(474)),uh=Error(i(542)),sp={then:function(){}};function U_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ch(){}function L_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ch,ch),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,F_(r),r;default:if(typeof s.status=="string")s.then(ch,ch);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,F_(r),r}throw tu=s,eu}}var tu=null;function j_(){if(tu===null)throw Error(i(459));var r=tu;return tu=null,r}function F_(r){if(r===eu||r===uh)throw Error(i(483))}var hs=!1;function ap(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function op(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ds(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=nh(r),x_(r,null,o),s}return th(r,u,s,o),nh(r)}function nu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Dl(r,o)}}function lp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var up=!1;function ru(){if(up){var r=Co;if(r!==null)throw r}}function iu(r,s,o,u){up=!1;var f=r.updateQueue;hs=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var j=S,ee=j.next;j.next=null,T===null?m=ee:T.next=ee,T=j;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,S=oe.lastBaseUpdate,S!==T&&(S===null?oe.firstBaseUpdate=ee:S.next=ee,oe.lastBaseUpdate=j))}if(m!==null){var fe=f.baseState;T=0,oe=ee=j=null,S=m;do{var ne=S.lane&-536870913,re=ne!==S.lane;if(re?(Ze&ne)===ne:(u&ne)===ne){ne!==0&&ne===Ro&&(up=!0),oe!==null&&(oe=oe.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ue=r,Oe=S;ne=s;var ct=o;switch(Oe.tag){case 1:if(Ue=Oe.payload,typeof Ue=="function"){fe=Ue.call(ct,fe,ne);break e}fe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Oe.payload,ne=typeof Ue=="function"?Ue.call(ct,fe,ne):Ue,ne==null)break e;fe=_({},fe,ne);break e;case 2:hs=!0}}ne=S.callback,ne!==null&&(r.flags|=64,re&&(r.flags|=8192),re=f.callbacks,re===null?f.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:S.tag,payload:S.payload,callback:S.callback,next:null},oe===null?(ee=oe=re,j=fe):oe=oe.next=re,T|=ne;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;re=S,S=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);oe===null&&(j=fe),f.baseState=j,f.firstBaseUpdate=ee,f.lastBaseUpdate=oe,m===null&&(f.shared.lanes=0),bs|=T,r.lanes=T,r.memoizedState=fe}}function z_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function B_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)z_(o[r],s)}var Io=$(null),hh=$(0);function q_(r,s){r=Vi,Z(hh,r),Z(Io,s),Vi=r|s.baseLanes}function cp(){Z(hh,Vi),Z(Io,Io.current)}function hp(){Vi=hh.current,G(Io),G(hh)}var ps=0,Be=null,lt=null,Ut=null,fh=!1,Do=!1,Oa=!1,dh=0,su=0,ko=null,X1=0;function Ct(){throw Error(i(321))}function fp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Fn(r[o],s[o]))return!1;return!0}function dp(r,s,o,u,f,m){return ps=m,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=r===null||r.memoizedState===null?xv:Rv,Oa=!1,m=o(u,f),Oa=!1,Do&&(m=$_(s,o,u,f)),H_(r),m}function H_(r){J.H=vh;var s=lt!==null&&lt.next!==null;if(ps=0,Ut=lt=Be=null,fh=!1,su=0,ko=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&ah(r)&&(Zt=!0))}function $_(r,s,o,u){Be=r;var f=0;do{if(Do&&(ko=null),su=0,Do=!1,25<=f)throw Error(i(301));if(f+=1,Ut=lt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=rx,m=s(o,u)}while(Do);return m}function W1(){var r=J.H,s=r.useState()[0];return s=typeof s.then=="function"?au(s):s,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Be.flags|=1024),s}function pp(){var r=dh!==0;return dh=0,r}function mp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function gp(r){if(fh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fh=!1}ps=0,Ut=lt=Be=null,Do=!1,su=dh=0,ko=null}function In(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Be.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function Lt(){if(lt===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=Ut===null?Be.memoizedState:Ut.next;if(s!==null)Ut=s,lt=r;else{if(r===null)throw Be.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Ut===null?Be.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(r){var s=su;return su+=1,ko===null&&(ko=[]),r=L_(ko,r,s),s=Be,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?xv:Rv),r}function ph(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return au(r);if(r.$$typeof===Y)return pn(r)}throw Error(i(438,String(r)))}function _p(r){var s=null,o=Be.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=yp(),Be.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function Di(r,s){return typeof s=="function"?s(r):s}function mh(r){var s=Lt();return vp(s,lt,r)}function vp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var S=T=null,j=null,ee=s,oe=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(Ze&fe)===fe:(ps&fe)===fe){var ne=ee.revertLane;if(ne===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Ro&&(oe=!0);else if((ps&ne)===ne){ee=ee.next,ne===Ro&&(oe=!0);continue}else fe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(S=j=fe,T=m):j=j.next=fe,Be.lanes|=ne,bs|=ne;fe=ee.action,Oa&&o(m,fe),m=ee.hasEagerState?ee.eagerState:o(m,fe)}else ne={lane:fe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(S=j=ne,T=m):j=j.next=ne,Be.lanes|=fe,bs|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(j===null?T=m:j.next=S,!Fn(m,r.memoizedState)&&(Zt=!0,oe&&(o=Co,o!==null)))throw o;r.memoizedState=m,r.baseState=T,r.baseQueue=j,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Ep(r){var s=Lt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=r(m,T.action),T=T.next;while(T!==f);Fn(m,s.memoizedState)||(Zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function G_(r,s,o){var u=Be,f=Lt(),m=tt;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Fn((lt||f).memoizedState,o);T&&(f.memoizedState=o,Zt=!0),f=f.queue;var S=Q_.bind(null,u,f,r);if(ou(2048,8,S,[r]),f.getSnapshot!==s||T||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,No(9,gh(),K_.bind(null,u,f,o,s),null),dt===null)throw Error(i(349));m||(ps&124)!==0||Y_(u,s,o)}return o}function Y_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Be.updateQueue,s===null?(s=yp(),Be.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function K_(r,s,o,u){s.value=o,s.getSnapshot=u,X_(s)&&W_(r)}function Q_(r,s,o){return o(function(){X_(s)&&W_(r)})}function X_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Fn(r,o)}catch{return!0}}function W_(r){var s=wo(r,2);s!==null&&Gn(s,r,2)}function bp(r){var s=In();if(typeof r=="function"){var o=r;if(r=o(),Oa){ze(!0);try{o()}finally{ze(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},s}function Z_(r,s,o,u){return r.baseState=o,vp(r,lt,typeof u=="function"?u:Di)}function Z1(r,s,o,u,f){if(_h(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};J.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,J_(s,m)):(m.next=o.next,s.pending=o.next=m)}}function J_(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var m=J.T,T={};J.T=T;try{var S=o(f,u),j=J.S;j!==null&&j(T,S),ev(r,s,S)}catch(ee){Tp(r,s,ee)}finally{J.T=m}}else try{m=o(f,u),ev(r,s,m)}catch(ee){Tp(r,s,ee)}}function ev(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){tv(r,s,u)},function(u){return Tp(r,s,u)}):tv(r,s,o)}function tv(r,s,o){s.status="fulfilled",s.value=o,nv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,J_(r,o)))}function Tp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,nv(s),s=s.next;while(s!==u)}r.action=null}function nv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function rv(r,s){return s}function iv(r,s){if(tt){var o=dt.formState;if(o!==null){e:{var u=Be;if(tt){if(St){t:{for(var f=St,m=Fr;f.nodeType!==8;){if(!m){f=null;break t}if(f=vr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=vr(f.nextSibling),u=f.data==="F!";break e}}Ia(u)}u=!1}u&&(s=o[0])}}return o=In(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rv,lastRenderedState:s},o.queue=u,o=wv.bind(null,Be,u),u.dispatch=o,u=bp(!1),m=Rp.bind(null,Be,!1,u.queue),u=In(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=Z1.bind(null,Be,f,m,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function sv(r){var s=Lt();return av(s,lt,r)}function av(r,s,o){if(s=vp(r,s,rv)[0],r=mh(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=au(s)}catch(T){throw T===eu?uh:T}else u=s;s=Lt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Be.flags|=2048,No(9,gh(),J1.bind(null,f,o),null)),[u,m,r]}function J1(r,s){r.action=s}function ov(r){var s=Lt(),o=lt;if(o!==null)return av(s,o,r);Lt(),s=s.memoizedState,o=Lt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function No(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Be.updateQueue,s===null&&(s=yp(),Be.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function gh(){return{destroy:void 0,resource:void 0}}function lv(){return Lt().memoizedState}function yh(r,s,o,u){var f=In();u=u===void 0?null:u,Be.flags|=r,f.memoizedState=No(1|s,gh(),o,u)}function ou(r,s,o,u){var f=Lt();u=u===void 0?null:u;var m=f.memoizedState.inst;lt!==null&&u!==null&&fp(u,lt.memoizedState.deps)?f.memoizedState=No(s,m,o,u):(Be.flags|=r,f.memoizedState=No(1|s,m,o,u))}function uv(r,s){yh(8390656,8,r,s)}function cv(r,s){ou(2048,8,r,s)}function hv(r,s){return ou(4,2,r,s)}function fv(r,s){return ou(4,4,r,s)}function dv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function pv(r,s,o){o=o!=null?o.concat([r]):null,ou(4,4,dv.bind(null,s,r),o)}function wp(){}function mv(r,s){var o=Lt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&fp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function gv(r,s){var o=Lt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&fp(s,u[1]))return u[0];if(u=r(),Oa){ze(!0);try{r()}finally{ze(!1)}}return o.memoizedState=[u,s],u}function Sp(r,s,o){return o===void 0||(ps&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=v0(),Be.lanes|=r,bs|=r,o)}function yv(r,s,o,u){return Fn(o,s)?o:Io.current!==null?(r=Sp(r,o,u),Fn(r,s)||(Zt=!0),r):(ps&42)===0?(Zt=!0,r.memoizedState=o):(r=v0(),Be.lanes|=r,bs|=r,s)}function _v(r,s,o,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var T=J.T,S={};J.T=S,Rp(r,!1,s,o);try{var j=f(),ee=J.S;if(ee!==null&&ee(S,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var oe=Q1(j,u);lu(r,s,oe,$n(r))}else lu(r,s,u,$n(r))}catch(fe){lu(r,s,{then:function(){},status:"rejected",reason:fe},$n())}finally{he.p=m,J.T=T}}function ex(){}function Ap(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=vv(r).queue;_v(r,f,s,be,o===null?ex:function(){return Ev(r),o(u)})}function vv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:be},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ev(r){var s=vv(r).next.queue;lu(r,s,{},$n())}function xp(){return pn(xu)}function bv(){return Lt().memoizedState}function Tv(){return Lt().memoizedState}function tx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=fs(o);var u=ds(s,r,o);u!==null&&(Gn(u,s,o),nu(u,s,o)),s={cache:np()},r.payload=s;return}s=s.return}}function nx(r,s,o){var u=$n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},_h(r)?Sv(s,o):(o=Gd(r,s,o,u),o!==null&&(Gn(o,r,u),Av(o,s,u)))}function wv(r,s,o){var u=$n();lu(r,s,o,u)}function lu(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(_h(r))Sv(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,S=m(T,o);if(f.hasEagerState=!0,f.eagerState=S,Fn(S,T))return th(r,s,f,0),dt===null&&eh(),!1}catch{}finally{}if(o=Gd(r,s,f,u),o!==null)return Gn(o,r,u),Av(o,s,u),!0}return!1}function Rp(r,s,o,u){if(u={lane:2,revertLane:sm(),action:u,hasEagerState:!1,eagerState:null,next:null},_h(r)){if(s)throw Error(i(479))}else s=Gd(r,o,u,2),s!==null&&Gn(s,r,2)}function _h(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function Sv(r,s){Do=fh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Av(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Dl(r,o)}}var vh={readContext:pn,use:ph,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},xv={readContext:pn,use:ph,useCallback:function(r,s){return In().memoizedState=[r,s===void 0?null:s],r},useContext:pn,useEffect:uv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,yh(4194308,4,dv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return yh(4194308,4,r,s)},useInsertionEffect:function(r,s){yh(4,2,r,s)},useMemo:function(r,s){var o=In();s=s===void 0?null:s;var u=r();if(Oa){ze(!0);try{r()}finally{ze(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=In();if(o!==void 0){var f=o(s);if(Oa){ze(!0);try{o(s)}finally{ze(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=nx.bind(null,Be,r),[u.memoizedState,r]},useRef:function(r){var s=In();return r={current:r},s.memoizedState=r},useState:function(r){r=bp(r);var s=r.queue,o=wv.bind(null,Be,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:wp,useDeferredValue:function(r,s){var o=In();return Sp(o,r,s)},useTransition:function(){var r=bp(!1);return r=_v.bind(null,Be,r.queue,!0,!1),In().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Be,f=In();if(tt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),dt===null)throw Error(i(349));(Ze&124)!==0||Y_(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,uv(Q_.bind(null,u,m,r),[r]),u.flags|=2048,No(9,gh(),K_.bind(null,u,m,o,s),null),o},useId:function(){var r=In(),s=dt.identifierPrefix;if(tt){var o=Ri,u=xi;o=(u&~(1<<32-it(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=dh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=X1++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:xp,useFormState:iv,useActionState:iv,useOptimistic:function(r){var s=In();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rp.bind(null,Be,!0,o),o.dispatch=s,[r,s]},useMemoCache:_p,useCacheRefresh:function(){return In().memoizedState=tx.bind(null,Be)}},Rv={readContext:pn,use:ph,useCallback:mv,useContext:pn,useEffect:cv,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:gv,useReducer:mh,useRef:lv,useState:function(){return mh(Di)},useDebugValue:wp,useDeferredValue:function(r,s){var o=Lt();return yv(o,lt.memoizedState,r,s)},useTransition:function(){var r=mh(Di)[0],s=Lt().memoizedState;return[typeof r=="boolean"?r:au(r),s]},useSyncExternalStore:G_,useId:bv,useHostTransitionStatus:xp,useFormState:sv,useActionState:sv,useOptimistic:function(r,s){var o=Lt();return Z_(o,lt,r,s)},useMemoCache:_p,useCacheRefresh:Tv},rx={readContext:pn,use:ph,useCallback:mv,useContext:pn,useEffect:cv,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:gv,useReducer:Ep,useRef:lv,useState:function(){return Ep(Di)},useDebugValue:wp,useDeferredValue:function(r,s){var o=Lt();return lt===null?Sp(o,r,s):yv(o,lt.memoizedState,r,s)},useTransition:function(){var r=Ep(Di)[0],s=Lt().memoizedState;return[typeof r=="boolean"?r:au(r),s]},useSyncExternalStore:G_,useId:bv,useHostTransitionStatus:xp,useFormState:ov,useActionState:ov,useOptimistic:function(r,s){var o=Lt();return lt!==null?Z_(o,lt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:_p,useCacheRefresh:Tv},Oo=null,uu=0;function Eh(r){var s=uu;return uu+=1,Oo===null&&(Oo=[]),L_(Oo,r,s)}function cu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function bh(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Cv(r){var s=r._init;return s(r._payload)}function Iv(r){function s(Q,B){if(r){var W=Q.deletions;W===null?(Q.deletions=[B],Q.flags|=16):W.push(B)}}function o(Q,B){if(!r)return null;for(;B!==null;)s(Q,B),B=B.sibling;return null}function u(Q){for(var B=new Map;Q!==null;)Q.key!==null?B.set(Q.key,Q):B.set(Q.index,Q),Q=Q.sibling;return B}function f(Q,B){return Q=Ai(Q,B),Q.index=0,Q.sibling=null,Q}function m(Q,B,W){return Q.index=W,r?(W=Q.alternate,W!==null?(W=W.index,W<B?(Q.flags|=67108866,B):W):(Q.flags|=67108866,B)):(Q.flags|=1048576,B)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function S(Q,B,W,le){return B===null||B.tag!==6?(B=Kd(W,Q.mode,le),B.return=Q,B):(B=f(B,W),B.return=Q,B)}function j(Q,B,W,le){var Ae=W.type;return Ae===O?oe(Q,B,W.props.children,le,W.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Cv(Ae)===B.type)?(B=f(B,W.props),cu(B,W),B.return=Q,B):(B=rh(W.type,W.key,W.props,null,Q.mode,le),cu(B,W),B.return=Q,B)}function ee(Q,B,W,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=Qd(W,Q.mode,le),B.return=Q,B):(B=f(B,W.children||[]),B.return=Q,B)}function oe(Q,B,W,le,Ae){return B===null||B.tag!==7?(B=Aa(W,Q.mode,le,Ae),B.return=Q,B):(B=f(B,W),B.return=Q,B)}function fe(Q,B,W){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Kd(""+B,Q.mode,W),B.return=Q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return W=rh(B.type,B.key,B.props,null,Q.mode,W),cu(W,B),W.return=Q,W;case N:return B=Qd(B,Q.mode,W),B.return=Q,B;case R:var le=B._init;return B=le(B._payload),fe(Q,B,W)}if(Ce(B)||I(B))return B=Aa(B,Q.mode,W,null),B.return=Q,B;if(typeof B.then=="function")return fe(Q,Eh(B),W);if(B.$$typeof===Y)return fe(Q,oh(Q,B),W);bh(Q,B)}return null}function ne(Q,B,W,le){var Ae=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ae!==null?null:S(Q,B,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===Ae?j(Q,B,W,le):null;case N:return W.key===Ae?ee(Q,B,W,le):null;case R:return Ae=W._init,W=Ae(W._payload),ne(Q,B,W,le)}if(Ce(W)||I(W))return Ae!==null?null:oe(Q,B,W,le,null);if(typeof W.then=="function")return ne(Q,B,Eh(W),le);if(W.$$typeof===Y)return ne(Q,B,oh(Q,W),le);bh(Q,W)}return null}function re(Q,B,W,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Q=Q.get(W)||null,S(B,Q,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return Q=Q.get(le.key===null?W:le.key)||null,j(B,Q,le,Ae);case N:return Q=Q.get(le.key===null?W:le.key)||null,ee(B,Q,le,Ae);case R:var $e=le._init;return le=$e(le._payload),re(Q,B,W,le,Ae)}if(Ce(le)||I(le))return Q=Q.get(W)||null,oe(B,Q,le,Ae,null);if(typeof le.then=="function")return re(Q,B,W,Eh(le),Ae);if(le.$$typeof===Y)return re(Q,B,W,oh(B,le),Ae);bh(B,le)}return null}function Ue(Q,B,W,le){for(var Ae=null,$e=null,Ie=B,Pe=B=0,en=null;Ie!==null&&Pe<W.length;Pe++){Ie.index>Pe?(en=Ie,Ie=null):en=Ie.sibling;var et=ne(Q,Ie,W[Pe],le);if(et===null){Ie===null&&(Ie=en);break}r&&Ie&&et.alternate===null&&s(Q,Ie),B=m(et,B,Pe),$e===null?Ae=et:$e.sibling=et,$e=et,Ie=en}if(Pe===W.length)return o(Q,Ie),tt&&Ra(Q,Pe),Ae;if(Ie===null){for(;Pe<W.length;Pe++)Ie=fe(Q,W[Pe],le),Ie!==null&&(B=m(Ie,B,Pe),$e===null?Ae=Ie:$e.sibling=Ie,$e=Ie);return tt&&Ra(Q,Pe),Ae}for(Ie=u(Ie);Pe<W.length;Pe++)en=re(Ie,Q,Pe,W[Pe],le),en!==null&&(r&&en.alternate!==null&&Ie.delete(en.key===null?Pe:en.key),B=m(en,B,Pe),$e===null?Ae=en:$e.sibling=en,$e=en);return r&&Ie.forEach(function(Ds){return s(Q,Ds)}),tt&&Ra(Q,Pe),Ae}function Oe(Q,B,W,le){if(W==null)throw Error(i(151));for(var Ae=null,$e=null,Ie=B,Pe=B=0,en=null,et=W.next();Ie!==null&&!et.done;Pe++,et=W.next()){Ie.index>Pe?(en=Ie,Ie=null):en=Ie.sibling;var Ds=ne(Q,Ie,et.value,le);if(Ds===null){Ie===null&&(Ie=en);break}r&&Ie&&Ds.alternate===null&&s(Q,Ie),B=m(Ds,B,Pe),$e===null?Ae=Ds:$e.sibling=Ds,$e=Ds,Ie=en}if(et.done)return o(Q,Ie),tt&&Ra(Q,Pe),Ae;if(Ie===null){for(;!et.done;Pe++,et=W.next())et=fe(Q,et.value,le),et!==null&&(B=m(et,B,Pe),$e===null?Ae=et:$e.sibling=et,$e=et);return tt&&Ra(Q,Pe),Ae}for(Ie=u(Ie);!et.done;Pe++,et=W.next())et=re(Ie,Q,Pe,et.value,le),et!==null&&(r&&et.alternate!==null&&Ie.delete(et.key===null?Pe:et.key),B=m(et,B,Pe),$e===null?Ae=et:$e.sibling=et,$e=et);return r&&Ie.forEach(function(iR){return s(Q,iR)}),tt&&Ra(Q,Pe),Ae}function ct(Q,B,W,le){if(typeof W=="object"&&W!==null&&W.type===O&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var Ae=W.key;B!==null;){if(B.key===Ae){if(Ae=W.type,Ae===O){if(B.tag===7){o(Q,B.sibling),le=f(B,W.props.children),le.return=Q,Q=le;break e}}else if(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Cv(Ae)===B.type){o(Q,B.sibling),le=f(B,W.props),cu(le,W),le.return=Q,Q=le;break e}o(Q,B);break}else s(Q,B);B=B.sibling}W.type===O?(le=Aa(W.props.children,Q.mode,le,W.key),le.return=Q,Q=le):(le=rh(W.type,W.key,W.props,null,Q.mode,le),cu(le,W),le.return=Q,Q=le)}return T(Q);case N:e:{for(Ae=W.key;B!==null;){if(B.key===Ae)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){o(Q,B.sibling),le=f(B,W.children||[]),le.return=Q,Q=le;break e}else{o(Q,B);break}else s(Q,B);B=B.sibling}le=Qd(W,Q.mode,le),le.return=Q,Q=le}return T(Q);case R:return Ae=W._init,W=Ae(W._payload),ct(Q,B,W,le)}if(Ce(W))return Ue(Q,B,W,le);if(I(W)){if(Ae=I(W),typeof Ae!="function")throw Error(i(150));return W=Ae.call(W),Oe(Q,B,W,le)}if(typeof W.then=="function")return ct(Q,B,Eh(W),le);if(W.$$typeof===Y)return ct(Q,B,oh(Q,W),le);bh(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,B!==null&&B.tag===6?(o(Q,B.sibling),le=f(B,W),le.return=Q,Q=le):(o(Q,B),le=Kd(W,Q.mode,le),le.return=Q,Q=le),T(Q)):o(Q,B)}return function(Q,B,W,le){try{uu=0;var Ae=ct(Q,B,W,le);return Oo=null,Ae}catch(Ie){if(Ie===eu||Ie===uh)throw Ie;var $e=zn(29,Ie,null,Q.mode);return $e.lanes=le,$e.return=Q,$e}finally{}}}var Po=Iv(!0),Dv=Iv(!1),or=$(null),zr=null;function ms(r){var s=r.alternate;Z(Kt,Kt.current&1),Z(or,r),zr===null&&(s===null||Io.current!==null||s.memoizedState!==null)&&(zr=r)}function kv(r){if(r.tag===22){if(Z(Kt,Kt.current),Z(or,r),zr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(zr=r)}}else gs()}function gs(){Z(Kt,Kt.current),Z(or,or.current)}function ki(r){G(or),zr===r&&(zr=null),G(Kt)}var Kt=$(0);function Th(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ym(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ip={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=$n(),f=fs(u);f.payload=s,o!=null&&(f.callback=o),s=ds(r,f,u),s!==null&&(Gn(s,r,u),nu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=$n(),f=fs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ds(r,f,u),s!==null&&(Gn(s,r,u),nu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),u=fs(o);u.tag=2,s!=null&&(u.callback=s),s=ds(r,u,o),s!==null&&(Gn(s,r,o),nu(s,r,o))}};function Nv(r,s,o,u,f,m,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,T):s.prototype&&s.prototype.isPureReactComponent?!Gl(o,u)||!Gl(f,m):!0}function Ov(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Ip.enqueueReplaceState(s,s.state,null)}function Pa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var wh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Pv(r){wh(r)}function Mv(r){console.error(r)}function Vv(r){wh(r)}function Sh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Uv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dp(r,s,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){Sh(r,s)},o}function Lv(r){return r=fs(r),r.tag=3,r}function jv(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){Uv(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Uv(s,o,u),typeof f!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function ix(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Wl(s,o,f,!0),o=or.current,o!==null){switch(o.tag){case 13:return zr===null?em():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===sp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),nm(r,u,f)),!1;case 22:return o.flags|=65536,u===sp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),nm(r,u,f)),!1}throw Error(i(435,o.tag))}return nm(r,u,f),em(),!1}if(tt)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Zd&&(r=Error(i(422),{cause:u}),Xl(rr(r,o)))):(u!==Zd&&(s=Error(i(423),{cause:u}),Xl(rr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=rr(u,o),f=Dp(r.stateNode,u,f),lp(r,f),At!==4&&(At=2)),!1;var m=Error(i(520),{cause:u});if(m=rr(m,o),yu===null?yu=[m]:yu.push(m),At!==4&&(At=2),s===null)return!0;u=rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Dp(o.stateNode,u,r),lp(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ts===null||!Ts.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Lv(f),jv(f,r,o,u),lp(o,f),!1}o=o.return}while(o!==null);return!1}var Fv=Error(i(461)),Zt=!1;function an(r,s,o,u){s.child=r===null?Dv(s,null,o,u):Po(s,r.child,o,u)}function zv(r,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return ka(s),u=dp(r,s,o,T,m,f),S=pp(),r!==null&&!Zt?(mp(r,s,f),Ni(r,s,f)):(tt&&S&&Xd(s),s.flags|=1,an(r,s,u,f),s.child)}function Bv(r,s,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!Yd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,qv(r,s,m,u,f)):(r=rh(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Lp(r,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(T,u)&&r.ref===s.ref)return Ni(r,s,f)}return s.flags|=1,r=Ai(m,u),r.ref=s.ref,r.return=s,s.child=r}function qv(r,s,o,u,f){if(r!==null){var m=r.memoizedProps;if(Gl(m,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=m,Lp(r,f))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Ni(r,s,f)}return kp(r,s,o,u,f)}function Hv(r,s,o){var u=s.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return $v(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&lh(s,m!==null?m.cachePool:null),m!==null?q_(s,m):cp(),kv(s);else return s.lanes=s.childLanes=536870912,$v(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(lh(s,m.cachePool),q_(s,m),gs(),s.memoizedState=null):(r!==null&&lh(s,null),cp(),gs());return an(r,s,f,o),s.child}function $v(r,s,o,u){var f=ip();return f=f===null?null:{parent:Yt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&lh(s,null),cp(),kv(s),r!==null&&Wl(r,s,u,!0),null}function Ah(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function kp(r,s,o,u,f){return ka(s),o=dp(r,s,o,u,void 0,f),u=pp(),r!==null&&!Zt?(mp(r,s,f),Ni(r,s,f)):(tt&&u&&Xd(s),s.flags|=1,an(r,s,o,f),s.child)}function Gv(r,s,o,u,f,m){return ka(s),s.updateQueue=null,o=$_(s,u,o,f),H_(r),u=pp(),r!==null&&!Zt?(mp(r,s,m),Ni(r,s,m)):(tt&&u&&Xd(s),s.flags|=1,an(r,s,o,m),s.child)}function Yv(r,s,o,u,f){if(ka(s),s.stateNode===null){var m=So,T=o.contextType;typeof T=="object"&&T!==null&&(m=pn(T)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ip,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},ap(s),T=o.contextType,m.context=typeof T=="object"&&T!==null?pn(T):So,m.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Cp(s,o,T,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Ip.enqueueReplaceState(m,m.state,null),iu(s,u,m,f),ru(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var S=s.memoizedProps,j=Pa(o,S);m.props=j;var ee=m.context,oe=o.contextType;T=So,typeof oe=="object"&&oe!==null&&(T=pn(oe));var fe=o.getDerivedStateFromProps;oe=typeof fe=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||ee!==T)&&Ov(s,m,u,T),hs=!1;var ne=s.memoizedState;m.state=ne,iu(s,u,m,f),ru(),ee=s.memoizedState,S||ne!==ee||hs?(typeof fe=="function"&&(Cp(s,o,fe,u),ee=s.memoizedState),(j=hs||Nv(s,o,j,u,ne,ee,T))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ee),m.props=u,m.state=ee,m.context=T,u=j):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,op(r,s),T=s.memoizedProps,oe=Pa(o,T),m.props=oe,fe=s.pendingProps,ne=m.context,ee=o.contextType,j=So,typeof ee=="object"&&ee!==null&&(j=pn(ee)),S=o.getDerivedStateFromProps,(ee=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==fe||ne!==j)&&Ov(s,m,u,j),hs=!1,ne=s.memoizedState,m.state=ne,iu(s,u,m,f),ru();var re=s.memoizedState;T!==fe||ne!==re||hs||r!==null&&r.dependencies!==null&&ah(r.dependencies)?(typeof S=="function"&&(Cp(s,o,S,u),re=s.memoizedState),(oe=hs||Nv(s,o,oe,u,ne,re,j)||r!==null&&r.dependencies!==null&&ah(r.dependencies))?(ee||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,re,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,re,j)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),m.props=u,m.state=re,m.context=j,u=oe):(typeof m.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Ah(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=Po(s,r.child,null,f),s.child=Po(s,null,o,f)):an(r,s,o,f),s.memoizedState=m.state,r=s.child):r=Ni(r,s,f),r}function Kv(r,s,o,u){return Ql(),s.flags|=256,an(r,s,o,u),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Op(r){return{baseLanes:r,cachePool:M_()}}function Pp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function Qv(r,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=r!==null&&r.memoizedState===null?!1:(Kt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(tt){if(f?ms(s):gs(),tt){var S=St,j;if(j=S){e:{for(j=S,S=Fr;j.nodeType!==8;){if(!S){S=null;break e}if(j=vr(j.nextSibling),j===null){S=null;break e}}S=j}S!==null?(s.memoizedState={dehydrated:S,treeContext:xa!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},j=zn(18,null,null,0),j.stateNode=S,j.return=s,s.child=j,Sn=s,St=null,j=!0):j=!1}j||Ia(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ym(S)?s.lanes=32:s.lanes=536870912,null;ki(s)}return S=u.children,u=u.fallback,f?(gs(),f=s.mode,S=xh({mode:"hidden",children:S},f),u=Aa(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=Op(o),f.childLanes=Pp(r,T,o),s.memoizedState=Np,u):(ms(s),Mp(s,S))}if(j=r.memoizedState,j!==null&&(S=j.dehydrated,S!==null)){if(m)s.flags&256?(ms(s),s.flags&=-257,s=Vp(r,s,o)):s.memoizedState!==null?(gs(),s.child=r.child,s.flags|=128,s=null):(gs(),f=u.fallback,S=s.mode,u=xh({mode:"visible",children:u.children},S),f=Aa(f,S,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Po(s,r.child,null,o),u=s.child,u.memoizedState=Op(o),u.childLanes=Pp(r,T,o),s.memoizedState=Np,s=f);else if(ms(s),ym(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var ee=T.dgst;T=ee,u=Error(i(419)),u.stack="",u.digest=T,Xl({value:u,source:null,stack:null}),s=Vp(r,s,o)}else if(Zt||Wl(r,s,o,!1),T=(o&r.childLanes)!==0,Zt||T){if(T=dt,T!==null&&(u=o&-o,u=(u&42)!==0?1:rs(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==j.retryLane))throw j.retryLane=u,wo(r,u),Gn(T,r,u),Fv;S.data==="$?"||em(),s=Vp(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=j.treeContext,St=vr(S.nextSibling),Sn=s,tt=!0,Ca=null,Fr=!1,r!==null&&(sr[ar++]=xi,sr[ar++]=Ri,sr[ar++]=xa,xi=r.id,Ri=r.overflow,xa=s),s=Mp(s,u.children),s.flags|=4096);return s}return f?(gs(),f=u.fallback,S=s.mode,j=r.child,ee=j.sibling,u=Ai(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,ee!==null?f=Ai(ee,f):(f=Aa(f,S,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=r.child.memoizedState,S===null?S=Op(o):(j=S.cachePool,j!==null?(ee=Yt._currentValue,j=j.parent!==ee?{parent:ee,pool:ee}:j):j=M_(),S={baseLanes:S.baseLanes|o,cachePool:j}),f.memoizedState=S,f.childLanes=Pp(r,T,o),s.memoizedState=Np,u):(ms(s),o=r.child,r=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Mp(r,s){return s=xh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function xh(r,s){return r=zn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Vp(r,s,o){return Po(s,r.child,null,o),r=Mp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Xv(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),ep(r.return,s,o)}function Up(r,s,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function Wv(r,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(an(r,s,u.children,o),u=Kt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Xv(r,o,s);else if(r.tag===19)Xv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Z(Kt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Th(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Up(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Th(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Up(s,!0,o,null,m);break;case"together":Up(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ni(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),bs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Wl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ai(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ai(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Lp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ah(r)))}function sx(r,s,o){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),cs(s,Yt,r.memoizedState.cache),Ql();break;case 27:case 5:En(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:cs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ms(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Qv(r,s,o):(ms(s),r=Ni(r,s,o),r!==null?r.sibling:null);ms(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Wl(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Wv(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Kt,Kt.current),u)break;return null;case 22:case 23:return s.lanes=0,Hv(r,s,o);case 24:cs(s,Yt,r.memoizedState.cache)}return Ni(r,s,o)}function Zv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!Lp(r,o)&&(s.flags&128)===0)return Zt=!1,sx(r,s,o);Zt=(r.flags&131072)!==0}else Zt=!1,tt&&(s.flags&1048576)!==0&&C_(s,sh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Yd(u)?(r=Pa(u,r),s.tag=1,s=Yv(null,s,u,r,o)):(s.tag=0,s=kp(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===q){s.tag=11,s=zv(null,s,u,r,o);break e}else if(f===k){s.tag=14,s=Bv(null,s,u,r,o);break e}}throw s=ge(u)||u,Error(i(306,s,""))}}return s;case 0:return kp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Pa(u,s.pendingProps),Yv(r,s,u,f,o);case 3:e:{if(He(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,op(r,s),iu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,cs(s,Yt,u),u!==m.cache&&tp(s,[Yt],o,!0),ru(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Kv(r,s,u,o);break e}else if(u!==f){f=rr(Error(i(424)),s),Xl(f),s=Kv(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(St=vr(r.firstChild),Sn=s,tt=!0,Ca=null,Fr=!0,o=Dv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ql(),u===f){s=Ni(r,s,o);break e}an(r,s,u,o)}s=s.child}return s;case 26:return Ah(r,s),r===null?(o=nE(s.type,null,s.pendingProps,null))?s.memoizedState=o:tt||(o=s.type,r=s.pendingProps,u=Fh(Se.current).createElement(o),u[Ht]=s,u[Mt]=r,ln(u,o,r),Rt(u),s.stateNode=u):s.memoizedState=nE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return En(s),r===null&&tt&&(u=s.stateNode=J0(s.type,s.pendingProps,Se.current),Sn=s,Fr=!0,f=St,As(s.type)?(_m=f,St=vr(u.firstChild)):St=f),an(r,s,s.pendingProps.children,o),Ah(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&tt&&((f=u=St)&&(u=Ox(u,s.type,s.pendingProps,Fr),u!==null?(s.stateNode=u,Sn=s,St=vr(u.firstChild),Fr=!1,f=!0):f=!1),f||Ia(s)),En(s),f=s.type,m=s.pendingProps,T=r!==null?r.memoizedProps:null,u=m.children,pm(f,m)?u=null:T!==null&&pm(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=dp(r,s,W1,null,null,o),xu._currentValue=f),Ah(r,s),an(r,s,u,o),s.child;case 6:return r===null&&tt&&((r=o=St)&&(o=Px(o,s.pendingProps,Fr),o!==null?(s.stateNode=o,Sn=s,St=null,r=!0):r=!1),r||Ia(s)),null;case 13:return Qv(r,s,o);case 4:return He(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Po(s,null,u,o):an(r,s,u,o),s.child;case 11:return zv(r,s,s.type,s.pendingProps,o);case 7:return an(r,s,s.pendingProps,o),s.child;case 8:return an(r,s,s.pendingProps.children,o),s.child;case 12:return an(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,cs(s,s.type,u.value),an(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ka(s),f=pn(f),u=u(f),s.flags|=1,an(r,s,u,o),s.child;case 14:return Bv(r,s,s.type,s.pendingProps,o);case 15:return qv(r,s,s.type,s.pendingProps,o);case 19:return Wv(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=xh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ai(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Hv(r,s,o);case 24:return ka(s),u=pn(Yt),r===null?(f=ip(),f===null&&(f=dt,m=np(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},ap(s),cs(s,Yt,f)):((r.lanes&o)!==0&&(op(r,s),iu(s,null,null,o),ru()),f=r.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),cs(s,Yt,u)):(u=m.cache,cs(s,Yt,u),u!==f.cache&&tp(s,[Yt],o,!0))),an(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function Jv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!oE(s)){if(s=or.current,s!==null&&((Ze&4194048)===Ze?zr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==zr))throw tu=sp,V_;r.flags|=8192}}function Rh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Cl():536870912,r.lanes|=s,Lo|=s)}function hu(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Et(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function ax(r,s,o){var u=s.pendingProps;switch(Wd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Et(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ii(Yt),Pt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Kl(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,k_())),Et(s),null;case 26:return o=s.memoizedState,r===null?(Oi(s),o!==null?(Et(s),Jv(s,o)):(Et(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Oi(s),Et(s),Jv(s,o)):(Et(s),s.flags&=-16777217):(r.memoizedProps!==u&&Oi(s),Et(s),s.flags&=-16777217),null;case 27:fr(s),o=Se.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Et(s),null}r=ce.current,Kl(s)?I_(s):(r=J0(f,u,o),s.stateNode=r,Oi(s))}return Et(s),null;case 5:if(fr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Et(s),null}if(r=ce.current,Kl(s))I_(s);else{switch(f=Fh(Se.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[Ht]=s,r[Mt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(ln(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(s)}}return Et(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Se.current,Kl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Ht]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||G0(r.nodeValue,o)),r||Ia(s)}else r=Fh(r).createTextNode(u),r[Ht]=s,s.stateNode=r}return Et(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Kl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ht]=s}else Ql(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),f=!1}else f=k_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ki(s),s):(ki(s),null)}if(ki(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Rh(s,s.updateQueue),Et(s),null;case 4:return Pt(),r===null&&um(s.stateNode.containerInfo),Et(s),null;case 10:return Ii(s.type),Et(s),null;case 19:if(G(Kt),f=s.memoizedState,f===null)return Et(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)hu(f,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Th(r),m!==null){for(s.flags|=128,hu(f,!1),r=m.updateQueue,s.updateQueue=r,Rh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)R_(o,r),o=o.sibling;return Z(Kt,Kt.current&1|2),s.child}r=r.sibling}f.tail!==null&&Cn()>Dh&&(s.flags|=128,u=!0,hu(f,!1),s.lanes=4194304)}else{if(!u)if(r=Th(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Rh(s,r),hu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!tt)return Et(s),null}else 2*Cn()-f.renderingStartTime>Dh&&o!==536870912&&(s.flags|=128,u=!0,hu(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Cn(),s.sibling=null,r=Kt.current,Z(Kt,u?r&1|2:r&1),s):(Et(s),null);case 22:case 23:return ki(s),hp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),o=s.updateQueue,o!==null&&Rh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&G(Na),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ii(Yt),Et(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ox(r,s){switch(Wd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ii(Yt),Pt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return fr(s),null;case 13:if(ki(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ql()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return G(Kt),null;case 4:return Pt(),null;case 10:return Ii(s.type),null;case 22:case 23:return ki(s),hp(),r!==null&&G(Na),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ii(Yt),null;case 25:return null;default:return null}}function e0(r,s){switch(Wd(s),s.tag){case 3:Ii(Yt),Pt();break;case 26:case 27:case 5:fr(s);break;case 4:Pt();break;case 13:ki(s);break;case 19:G(Kt);break;case 10:Ii(s.type);break;case 22:case 23:ki(s),hp(),r!==null&&G(Na);break;case 24:Ii(Yt)}}function fu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==f)}}catch(S){ht(s,s.return,S)}}function ys(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var j=o,ee=S;try{ee()}catch(oe){ht(f,j,oe)}}}u=u.next}while(u!==m)}}catch(oe){ht(s,s.return,oe)}}function t0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{B_(s,o)}catch(u){ht(r,r.return,u)}}}function n0(r,s,o){o.props=Pa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ht(r,s,u)}}function du(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){ht(r,s,f)}}function Br(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ht(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ht(r,s,f)}else o.current=null}function r0(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ht(r,r.return,f)}}function jp(r,s,o){try{var u=r.stateNode;Cx(u,r.type,o,s),u[Mt]=s}catch(f){ht(r,r.return,f)}}function i0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&As(r.type)||r.tag===4}function Fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||i0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&As(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=jh));else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(zp(r,s,o),r=r.sibling;r!==null;)zp(r,s,o),r=r.sibling}function Ch(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ch(r,s,o),r=r.sibling;r!==null;)Ch(r,s,o),r=r.sibling}function s0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ln(s,u,o),s[Ht]=r,s[Mt]=o}catch(m){ht(r,r.return,m)}}var Pi=!1,It=!1,Bp=!1,a0=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function lx(r,s){if(r=r.containerInfo,fm=Gh,r=y_(r),Fd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,S=-1,j=-1,ee=0,oe=0,fe=r,ne=null;t:for(;;){for(var re;fe!==o||f!==0&&fe.nodeType!==3||(S=T+f),fe!==m||u!==0&&fe.nodeType!==3||(j=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ne=fe,fe=re;for(;;){if(fe===r)break t;if(ne===o&&++ee===f&&(S=T),ne===m&&++oe===u&&(j=T),(re=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=re}o=S===-1||j===-1?null:{start:S,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(dm={focusedElem:r,selectionRange:o},Gh=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Ue=Pa(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ue,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){ht(o,o.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)gm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}}function o0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(r,o),u&4&&fu(5,o);break;case 1:if(_s(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){ht(o,o.return,T)}else{var f=Pa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ht(o,o.return,T)}}u&64&&t0(o),u&512&&du(o,o.return);break;case 3:if(_s(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{B_(r,s)}catch(T){ht(o,o.return,T)}}break;case 27:s===null&&u&4&&s0(o);case 26:case 5:_s(r,o),s===null&&u&4&&r0(o),u&512&&du(o,o.return);break;case 12:_s(r,o);break;case 13:_s(r,o),u&4&&c0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=yx.bind(null,o),Mx(r,o))));break;case 22:if(u=o.memoizedState!==null||Pi,!u){s=s!==null&&s.memoizedState!==null||It,f=Pi;var m=It;Pi=u,(It=s)&&!m?vs(r,o,(o.subtreeFlags&8772)!==0):_s(r,o),Pi=f,It=m}break;case 30:break;default:_s(r,o)}}function l0(r){var s=r.alternate;s!==null&&(r.alternate=null,l0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&as(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Dn=!1;function Mi(r,s,o){for(o=o.child;o!==null;)u0(r,s,o),o=o.sibling}function u0(r,s,o){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ve,o)}catch{}switch(o.tag){case 26:It||Br(o,s),Mi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||Br(o,s);var u=_t,f=Dn;As(o.type)&&(_t=o.stateNode,Dn=!1),Mi(r,s,o),Tu(o.stateNode),_t=u,Dn=f;break;case 5:It||Br(o,s);case 6:if(u=_t,f=Dn,_t=null,Mi(r,s,o),_t=u,Dn=f,_t!==null)if(Dn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(m){ht(o,s,m)}else try{_t.removeChild(o.stateNode)}catch(m){ht(o,s,m)}break;case 18:_t!==null&&(Dn?(r=_t,W0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Du(r)):W0(_t,o.stateNode));break;case 4:u=_t,f=Dn,_t=o.stateNode.containerInfo,Dn=!0,Mi(r,s,o),_t=u,Dn=f;break;case 0:case 11:case 14:case 15:It||ys(2,o,s),It||ys(4,o,s),Mi(r,s,o);break;case 1:It||(Br(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&n0(o,s,u)),Mi(r,s,o);break;case 21:Mi(r,s,o);break;case 22:It=(u=It)||o.memoizedState!==null,Mi(r,s,o),It=u;break;default:Mi(r,s,o)}}function c0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Du(r)}catch(o){ht(s,s.return,o)}}function ux(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new a0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new a0),s;default:throw Error(i(435,r.tag))}}function qp(r,s){var o=ux(r);s.forEach(function(u){var f=_x.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Bn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(As(S.type)){_t=S.stateNode,Dn=!1;break e}break;case 5:_t=S.stateNode,Dn=!1;break e;case 3:case 4:_t=S.stateNode.containerInfo,Dn=!0;break e}S=S.return}if(_t===null)throw Error(i(160));u0(m,T,f),_t=null,Dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)h0(s,r),s=s.sibling}var _r=null;function h0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Bn(s,r),qn(r),u&4&&(ys(3,r,r.return),fu(3,r),ys(5,r,r.return));break;case 1:Bn(s,r),qn(r),u&512&&(It||o===null||Br(o,o.return)),u&64&&Pi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=_r;if(Bn(s,r),qn(r),u&512&&(It||o===null||Br(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ua]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),ln(m,u,o),m[Ht]=r,Rt(m),u=m;break e;case"link":var T=sE("link","href",f).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}m=f.createElement(u),ln(m,u,o),f.head.appendChild(m);break;case"meta":if(T=sE("meta","content",f).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}m=f.createElement(u),ln(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Ht]=r,Rt(m),u=m}r.stateNode=u}else aE(f,r.type,r.stateNode);else r.stateNode=iE(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?aE(f,r.type,r.stateNode):iE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&jp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Bn(s,r),qn(r),u&512&&(It||o===null||Br(o,o.return)),o!==null&&u&4&&jp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Bn(s,r),qn(r),u&512&&(It||o===null||Br(o,o.return)),r.flags&32){f=r.stateNode;try{Jn(f,"")}catch(re){ht(r,r.return,re)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,jp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Bp=!0);break;case 6:if(Bn(s,r),qn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(re){ht(r,r.return,re)}}break;case 3:if(qh=null,f=_r,_r=zh(s.containerInfo),Bn(s,r),_r=f,qn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Du(s.containerInfo)}catch(re){ht(r,r.return,re)}Bp&&(Bp=!1,f0(r));break;case 4:u=_r,_r=zh(r.stateNode.containerInfo),Bn(s,r),qn(r),_r=u;break;case 12:Bn(s,r),qn(r);break;case 13:Bn(s,r),qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qp=Cn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qp(r,u)));break;case 22:f=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,ee=Pi,oe=It;if(Pi=ee||f,It=oe||j,Bn(s,r),It=oe,Pi=ee,qn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||j||Pi||It||Ma(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(m=j.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=j.stateNode;var fe=j.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){ht(j,j.return,re)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(re){ht(j,j.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qp(r,o))));break;case 19:Bn(s,r),qn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qp(r,u)));break;case 30:break;case 21:break;default:Bn(s,r),qn(r)}}function qn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(i0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=Fp(r);Ch(r,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Jn(T,""),o.flags&=-33);var S=Fp(r);Ch(r,S,T);break;case 3:case 4:var j=o.stateNode.containerInfo,ee=Fp(r);zp(r,ee,j);break;default:throw Error(i(161))}}catch(oe){ht(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function f0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;f0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function _s(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o0(r,s.alternate,s),s=s.sibling}function Ma(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ys(4,s,s.return),Ma(s);break;case 1:Br(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&n0(s,s.return,o),Ma(s);break;case 27:Tu(s.stateNode);case 26:case 5:Br(s,s.return),Ma(s);break;case 22:s.memoizedState===null&&Ma(s);break;case 30:Ma(s);break;default:Ma(s)}r=r.sibling}}function vs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:vs(f,m,o),fu(4,m);break;case 1:if(vs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){ht(u,u.return,ee)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)z_(j[f],S)}catch(ee){ht(u,u.return,ee)}}o&&T&64&&t0(m),du(m,m.return);break;case 27:s0(m);case 26:case 5:vs(f,m,o),o&&u===null&&T&4&&r0(m),du(m,m.return);break;case 12:vs(f,m,o);break;case 13:vs(f,m,o),o&&T&4&&c0(f,m);break;case 22:m.memoizedState===null&&vs(f,m,o),du(m,m.return);break;case 30:break;default:vs(f,m,o)}s=s.sibling}}function Hp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Zl(o))}function $p(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zl(r))}function qr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(r,s,o,u),s=s.sibling}function d0(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:qr(r,s,o,u),f&2048&&fu(9,s);break;case 1:qr(r,s,o,u);break;case 3:qr(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zl(r)));break;case 12:if(f&2048){qr(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){ht(s,s.return,j)}}else qr(r,s,o,u);break;case 13:qr(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?qr(r,s,o,u):pu(r,s):m._visibility&2?qr(r,s,o,u):(m._visibility|=2,Mo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Hp(T,s);break;case 24:qr(r,s,o,u),f&2048&&$p(s.alternate,s);break;default:qr(r,s,o,u)}}function Mo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,T=s,S=o,j=u,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Mo(m,T,S,j,f),fu(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?Mo(m,T,S,j,f):pu(m,T):(oe._visibility|=2,Mo(m,T,S,j,f)),f&&ee&2048&&Hp(T.alternate,T);break;case 24:Mo(m,T,S,j,f),f&&ee&2048&&$p(T.alternate,T);break;default:Mo(m,T,S,j,f)}s=s.sibling}}function pu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:pu(o,u),f&2048&&Hp(u.alternate,u);break;case 24:pu(o,u),f&2048&&$p(u.alternate,u);break;default:pu(o,u)}s=s.sibling}}var mu=8192;function Vo(r){if(r.subtreeFlags&mu)for(r=r.child;r!==null;)p0(r),r=r.sibling}function p0(r){switch(r.tag){case 26:Vo(r),r.flags&mu&&r.memoizedState!==null&&Kx(_r,r.memoizedState,r.memoizedProps);break;case 5:Vo(r);break;case 3:case 4:var s=_r;_r=zh(r.stateNode.containerInfo),Vo(r),_r=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=mu,mu=16777216,Vo(r),mu=s):Vo(r));break;default:Vo(r)}}function m0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function gu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,y0(u,r)}m0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g0(r),r=r.sibling}function g0(r){switch(r.tag){case 0:case 11:case 15:gu(r),r.flags&2048&&ys(9,r,r.return);break;case 3:gu(r);break;case 12:gu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ih(r)):gu(r);break;default:gu(r)}}function Ih(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,y0(u,r)}m0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ys(8,s,s.return),Ih(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ih(s));break;default:Ih(s)}r=r.sibling}}function y0(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:ys(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=r;Jt!==null;){u=Jt;var f=u.sibling,m=u.return;if(l0(u),u===o){Jt=null;break e}if(f!==null){f.return=m,Jt=f;break e}Jt=m}}}var cx={getCacheForType:function(r){var s=pn(Yt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},hx=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,Ge=null,Ze=0,at=0,Hn=null,Es=!1,Uo=!1,Gp=!1,Vi=0,At=0,bs=0,Va=0,Yp=0,lr=0,Lo=0,yu=null,kn=null,Kp=!1,Qp=0,Dh=1/0,kh=null,Ts=null,on=0,ws=null,jo=null,Fo=0,Xp=0,Wp=null,_0=null,_u=0,Zp=null;function $n(){if((st&2)!==0&&Ze!==0)return Ze&-Ze;if(J.T!==null){var r=Ro;return r!==0?r:sm()}return is()}function v0(){lr===0&&(lr=(Ze&536870912)===0||tt?Rl():536870912);var r=or.current;return r!==null&&(r.flags|=32),lr}function Gn(r,s,o){(r===dt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(zo(r,0),Ss(r,Ze,lr,!1)),pi(r,o),((st&2)===0||r!==dt)&&(r===dt&&((st&2)===0&&(Va|=o),At===4&&Ss(r,Ze,lr,!1)),Hr(r))}function E0(r,s,o){if((st&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||fi(r,s),f=u?px(r,s):tm(r,s,!0),m=u;do{if(f===0){Uo&&!u&&Ss(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!fx(o)){f=tm(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=r;f=yu;var j=S.current.memoizedState.isDehydrated;if(j&&(zo(S,T).flags|=256),T=tm(S,T,!1),T!==2){if(Gp&&!j){S.errorRecoveryDisabledLanes|=m,Va|=m,f=4;break e}m=kn,kn=f,m!==null&&(kn===null?kn=m:kn.push.apply(kn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){zo(r,0),Ss(r,s,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ss(u,s,lr,!Es);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Qp+300-Cn(),10<f)){if(Ss(u,s,lr,!Es),hi(u,0,!0)!==0)break e;u.timeoutHandle=Q0(b0.bind(null,u,o,kn,kh,Kp,s,lr,Va,Lo,Es,m,2,-0,0),f);break e}b0(u,o,kn,kh,Kp,s,lr,Va,Lo,Es,m,0,-0,0)}}break}while(!0);Hr(r)}function b0(r,s,o,u,f,m,T,S,j,ee,oe,fe,ne,re){if(r.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:Yx},p0(s),fe=Qx(),fe!==null)){r.cancelPendingCommit=fe(C0.bind(null,r,s,m,o,u,f,T,S,j,oe,1,ne,re)),Ss(r,m,T,!ee);return}C0(r,s,m,o,u,f,T,S,j)}function fx(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Fn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(r,s,o,u){s&=~Yp,s&=~Va,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var m=31-it(f),T=1<<m;u[m]=-1,f&=~T}o!==0&&Ir(r,o,s)}function Nh(){return(st&6)===0?(vu(0),!1):!0}function Jp(){if(Ge!==null){if(at===0)var r=Ge.return;else r=Ge,Ci=Da=null,gp(r),Oo=null,uu=0,r=Ge;for(;r!==null;)e0(r.alternate,r),r=r.return;Ge=null}}function zo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Dx(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Jp(),dt=r,Ge=o=Ai(r.current,null),Ze=s,at=0,Hn=null,Es=!1,Uo=fi(r,s),Gp=!1,Lo=lr=Yp=Va=bs=At=0,kn=yu=null,Kp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-it(u),m=1<<f;s|=r[f],u&=~m}return Vi=s,eh(),o}function T0(r,s){Be=null,J.H=vh,s===eu||s===uh?(s=j_(),at=3):s===V_?(s=j_(),at=4):at=s===Fv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Ge===null&&(At=1,Sh(r,rr(s,r.current)))}function w0(){var r=J.H;return J.H=vh,r===null?vh:r}function S0(){var r=J.A;return J.A=cx,r}function em(){At=4,Es||(Ze&4194048)!==Ze&&or.current!==null||(Uo=!0),(bs&134217727)===0&&(Va&134217727)===0||dt===null||Ss(dt,Ze,lr,!1)}function tm(r,s,o){var u=st;st|=2;var f=w0(),m=S0();(dt!==r||Ze!==s)&&(kh=null,zo(r,s)),s=!1;var T=At;e:do try{if(at!==0&&Ge!==null){var S=Ge,j=Hn;switch(at){case 8:Jp(),T=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var ee=at;if(at=0,Hn=null,Bo(r,S,j,ee),o&&Uo){T=0;break e}break;default:ee=at,at=0,Hn=null,Bo(r,S,j,ee)}}dx(),T=At;break}catch(oe){T0(r,oe)}while(!0);return s&&r.shellSuspendCounter++,Ci=Da=null,st=u,J.H=f,J.A=m,Ge===null&&(dt=null,Ze=0,eh()),T}function dx(){for(;Ge!==null;)A0(Ge)}function px(r,s){var o=st;st|=2;var u=w0(),f=S0();dt!==r||Ze!==s?(kh=null,Dh=Cn()+500,zo(r,s)):Uo=fi(r,s);e:do try{if(at!==0&&Ge!==null){s=Ge;var m=Hn;t:switch(at){case 1:at=0,Hn=null,Bo(r,s,m,1);break;case 2:case 9:if(U_(m)){at=0,Hn=null,x0(s);break}s=function(){at!==2&&at!==9||dt!==r||(at=7),Hr(r)},m.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:U_(m)?(at=0,Hn=null,x0(s)):(at=0,Hn=null,Bo(r,s,m,7));break;case 5:var T=null;switch(Ge.tag){case 26:T=Ge.memoizedState;case 5:case 27:var S=Ge;if(!T||oE(T)){at=0,Hn=null;var j=S.sibling;if(j!==null)Ge=j;else{var ee=S.return;ee!==null?(Ge=ee,Oh(ee)):Ge=null}break t}}at=0,Hn=null,Bo(r,s,m,5);break;case 6:at=0,Hn=null,Bo(r,s,m,6);break;case 8:Jp(),At=6;break e;default:throw Error(i(462))}}mx();break}catch(oe){T0(r,oe)}while(!0);return Ci=Da=null,J.H=u,J.A=f,st=o,Ge!==null?0:(dt=null,Ze=0,eh(),At)}function mx(){for(;Ge!==null&&!es();)A0(Ge)}function A0(r){var s=Zv(r.alternate,r,Vi);r.memoizedProps=r.pendingProps,s===null?Oh(r):Ge=s}function x0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Gv(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=Gv(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:gp(s);default:e0(o,s),s=Ge=R_(s,Vi),s=Zv(o,s,Vi)}r.memoizedProps=r.pendingProps,s===null?Oh(r):Ge=s}function Bo(r,s,o,u){Ci=Da=null,gp(s),Oo=null,uu=0;var f=s.return;try{if(ix(r,f,s,o,Ze)){At=1,Sh(r,rr(o,r.current)),Ge=null;return}}catch(m){if(f!==null)throw Ge=f,m;At=1,Sh(r,rr(o,r.current)),Ge=null;return}s.flags&32768?(tt||u===1?r=!0:Uo||(Ze&536870912)!==0?r=!1:(Es=r=!0,(u===2||u===9||u===3||u===6)&&(u=or.current,u!==null&&u.tag===13&&(u.flags|=16384))),R0(s,r)):Oh(s)}function Oh(r){var s=r;do{if((s.flags&32768)!==0){R0(s,Es);return}r=s.return;var o=ax(s.alternate,s,Vi);if(o!==null){Ge=o;return}if(s=s.sibling,s!==null){Ge=s;return}Ge=s=r}while(s!==null);At===0&&(At=5)}function R0(r,s){do{var o=ox(r.alternate,r);if(o!==null){o.flags&=32767,Ge=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=o}while(r!==null);At=6,Ge=null}function C0(r,s,o,u,f,m,T,S,j){r.cancelPendingCommit=null;do Ph();while(on!==0);if((st&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=$d,Il(r,o,m,T,S,j),r===dt&&(Ge=dt=null,Ze=0),jo=s,ws=r,Fo=o,Xp=m,Wp=f,_0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vx(te,function(){return O0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=he.p,he.p=2,T=st,st|=4;try{lx(r,s,o)}finally{st=T,he.p=f,J.T=u}}on=1,I0(),D0(),k0()}}function I0(){if(on===1){on=0;var r=ws,s=jo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=he.p;he.p=2;var f=st;st|=4;try{h0(s,r);var m=dm,T=y_(r.containerInfo),S=m.focusedElem,j=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&g_(S.ownerDocument.documentElement,S)){if(j!==null&&Fd(S)){var ee=j.start,oe=j.end;if(oe===void 0&&(oe=ee),"selectionStart"in S)S.selectionStart=ee,S.selectionEnd=Math.min(oe,S.value.length);else{var fe=S.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ue=S.textContent.length,Oe=Math.min(j.start,Ue),ct=j.end===void 0?Oe:Math.min(j.end,Ue);!re.extend&&Oe>ct&&(T=ct,ct=Oe,Oe=T);var Q=m_(S,Oe),B=m_(S,ct);if(Q&&B&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==B.node||re.focusOffset!==B.offset)){var W=fe.createRange();W.setStart(Q.node,Q.offset),re.removeAllRanges(),Oe>ct?(re.addRange(W),re.extend(B.node,B.offset)):(W.setEnd(B.node,B.offset),re.addRange(W))}}}}for(fe=[],re=S;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var le=fe[S];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Gh=!!fm,dm=fm=null}finally{st=f,he.p=u,J.T=o}}r.current=s,on=2}}function D0(){if(on===2){on=0;var r=ws,s=jo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=he.p;he.p=2;var f=st;st|=4;try{o0(r,s.alternate,s)}finally{st=f,he.p=u,J.T=o}}on=3}}function k0(){if(on===4||on===3){on=0,ro();var r=ws,s=jo,o=Fo,u=_0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,jo=ws=null,N0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Ts=null),io(o),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ve,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=J.T,f=he.p,he.p=2,J.T=null;try{for(var m=r.onRecoverableError,T=0;T<u.length;T++){var S=u[T];m(S.value,{componentStack:S.stack})}}finally{J.T=s,he.p=f}}(Fo&3)!==0&&Ph(),Hr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Zp?_u++:(_u=0,Zp=r):_u=0,vu(0)}}function N0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Zl(s)))}function Ph(r){return I0(),D0(),k0(),O0()}function O0(){if(on!==5)return!1;var r=ws,s=Xp;Xp=0;var o=io(Fo),u=J.T,f=he.p;try{he.p=32>o?32:o,J.T=null,o=Wp,Wp=null;var m=ws,T=Fo;if(on=0,jo=ws=null,Fo=0,(st&6)!==0)throw Error(i(331));var S=st;if(st|=4,g0(m.current),d0(m,m.current,T,o),st=S,vu(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ve,m)}catch{}return!0}finally{he.p=f,J.T=u,N0(r,s)}}function P0(r,s,o){s=rr(o,s),s=Dp(r.stateNode,s,2),r=ds(r,s,2),r!==null&&(pi(r,2),Hr(r))}function ht(r,s,o){if(r.tag===3)P0(r,r,o);else for(;s!==null;){if(s.tag===3){P0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ts===null||!Ts.has(u))){r=rr(o,r),o=Lv(2),u=ds(s,o,2),u!==null&&(jv(o,u,s,r),pi(u,2),Hr(u));break}}s=s.return}}function nm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new hx;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Gp=!0,f.add(o),r=gx.bind(null,r,s,o),s.then(r,r))}function gx(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(Ze&o)===o&&(At===4||At===3&&(Ze&62914560)===Ze&&300>Cn()-Qp?(st&2)===0&&zo(r,0):Yp|=o,Lo===Ze&&(Lo=0)),Hr(r)}function M0(r,s){s===0&&(s=Cl()),r=wo(r,s),r!==null&&(pi(r,s),Hr(r))}function yx(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),M0(r,o)}function _x(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),M0(r,o)}function vx(r,s){return li(r,s)}var Mh=null,qo=null,rm=!1,Vh=!1,im=!1,Ua=0;function Hr(r){r!==qo&&r.next===null&&(qo===null?Mh=qo=r:qo=qo.next=r),Vh=!0,rm||(rm=!0,bx())}function vu(r,s){if(!im&&Vh){im=!0;do for(var o=!1,u=Mh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var T=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-it(42|r)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,j0(u,m))}else m=Ze,m=hi(u,u===dt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fi(u,m)||(o=!0,j0(u,m));u=u.next}while(o);im=!1}}function Ex(){V0()}function V0(){Vh=rm=!1;var r=0;Ua!==0&&(Ix()&&(r=Ua),Ua=0);for(var s=Cn(),o=null,u=Mh;u!==null;){var f=u.next,m=U0(u,s);m===0?(u.next=null,o===null?Mh=f:o.next=f,f===null&&(qo=o)):(o=u,(r!==0||(m&3)!==0)&&(Vh=!0)),u=f}vu(r)}function U0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var T=31-it(m),S=1<<T,j=f[T];j===-1?((S&o)===0||(S&u)!==0)&&(f[T]=ns(S,s)):j<=s&&(r.expiredLanes|=S),m&=~S}if(s=dt,o=Ze,o=hi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(at===2||at===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Cr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||fi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Cr(u),io(o)){case 2:case 8:o=z;break;case 32:o=te;break;case 268435456:o=Ee;break;default:o=te}return u=L0.bind(null,r),o=li(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Cr(u),r.callbackPriority=2,r.callbackNode=null,2}function L0(r,s){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ph()&&r.callbackNode!==o)return null;var u=Ze;return u=hi(r,r===dt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(E0(r,u,s),U0(r,Cn()),r.callbackNode!=null&&r.callbackNode===o?L0.bind(null,r):null)}function j0(r,s){if(Ph())return null;E0(r,s,!0)}function bx(){kx(function(){(st&6)!==0?li(ts,Ex):V0()})}function sm(){return Ua===0&&(Ua=Rl()),Ua}function F0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:co(""+r)}function z0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function Tx(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=F0((f[Mt]||null).action),T=u.submitter;T&&(s=(s=T[Mt]||null)?F0(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var S=new ho("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ua!==0){var j=T?z0(f,T):new FormData(f);Ap(o,{pending:!0,data:j,method:f.method,action:m},null,j)}}else typeof m=="function"&&(S.preventDefault(),j=T?z0(f,T):new FormData(f),Ap(o,{pending:!0,data:j,method:f.method,action:m},m,j))},currentTarget:f}]})}}for(var am=0;am<Hd.length;am++){var om=Hd[am],wx=om.toLowerCase(),Sx=om[0].toUpperCase()+om.slice(1);yr(wx,"on"+Sx)}yr(E_,"onAnimationEnd"),yr(b_,"onAnimationIteration"),yr(T_,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(z1,"onTransitionRun"),yr(B1,"onTransitionStart"),yr(q1,"onTransitionCancel"),yr(w_,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function B0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var T=u.length-1;0<=T;T--){var S=u[T],j=S.instance,ee=S.currentTarget;if(S=S.listener,j!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=ee;try{m(f)}catch(oe){wh(oe)}f.currentTarget=null,m=j}else for(T=0;T<u.length;T++){if(S=u[T],j=S.instance,ee=S.currentTarget,S=S.listener,j!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=ee;try{m(f)}catch(oe){wh(oe)}f.currentTarget=null,m=j}}}}function Ye(r,s){var o=s[kl];o===void 0&&(o=s[kl]=new Set);var u=r+"__bubble";o.has(u)||(q0(s,r,2,!1),o.add(u))}function lm(r,s,o){var u=0;s&&(u|=4),q0(o,r,u,s)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function um(r){if(!r[Uh]){r[Uh]=!0,Nl.forEach(function(o){o!=="selectionchange"&&(Ax.has(o)||lm(o,!1,r),lm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Uh]||(s[Uh]=!0,lm("selectionchange",!1,s))}}function q0(r,s,o,u){switch(dE(s)){case 2:var f=Zx;break;case 8:f=Jx;break;default:f=wm}o=f.bind(null,s,o,r),f=void 0,!tr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function cm(r,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=mi(S),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){u=m=T;continue e}S=S.parentNode}}u=u.return}jc(function(){var ee=m,oe=er(o),fe=[];e:{var ne=S_.get(r);if(ne!==void 0){var re=ho,Ue=r;switch(r){case"keypress":if(Mr(o)===0)break e;case"keydown":case"keyup":re=_o;break;case"focusin":Ue="focus",re=mo;break;case"focusout":Ue="blur",re=mo;break;case"beforeblur":case"afterblur":re=mo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Yc;break;case E_:case b_:case T_:re=go;break;case w_:re=Qc;break;case"scroll":case"scrollend":re=Fc;break;case"wheel":re=vo;break;case"copy":case"cut":case"paste":re=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Hl;break;case"toggle":case"beforetoggle":re=Wc}var Oe=(s&4)!==0,ct=!Oe&&(r==="scroll"||r==="scrollend"),Q=Oe?ne!==null?ne+"Capture":null:ne;Oe=[];for(var B=ee,W;B!==null;){var le=B;if(W=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||W===null||Q===null||(le=ga(B,Q),le!=null&&Oe.push(bu(B,le,W))),ct)break;B=B.return}0<Oe.length&&(ne=new re(ne,Ue,null,o,oe),fe.push({event:ne,listeners:Oe}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ne&&o!==vi&&(Ue=o.relatedTarget||o.fromElement)&&(mi(Ue)||Ue[Zn]))break e;if((re||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ue=o.relatedTarget||o.toElement,re=ee,Ue=Ue?mi(Ue):null,Ue!==null&&(ct=l(Ue),Oe=Ue.tag,Ue!==ct||Oe!==5&&Oe!==27&&Oe!==6)&&(Ue=null)):(re=null,Ue=ee),re!==Ue)){if(Oe=nr,le="onMouseLeave",Q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Hl,le="onPointerLeave",Q="onPointerEnter",B="pointer"),ct=re==null?ne:kr(re),W=Ue==null?ne:kr(Ue),ne=new Oe(le,B+"leave",re,o,oe),ne.target=ct,ne.relatedTarget=W,le=null,mi(oe)===ee&&(Oe=new Oe(Q,B+"enter",Ue,o,oe),Oe.target=W,Oe.relatedTarget=ct,le=Oe),ct=le,re&&Ue)t:{for(Oe=re,Q=Ue,B=0,W=Oe;W;W=Ho(W))B++;for(W=0,le=Q;le;le=Ho(le))W++;for(;0<B-W;)Oe=Ho(Oe),B--;for(;0<W-B;)Q=Ho(Q),W--;for(;B--;){if(Oe===Q||Q!==null&&Oe===Q.alternate)break t;Oe=Ho(Oe),Q=Ho(Q)}Oe=null}else Oe=null;re!==null&&H0(fe,ne,re,Oe,!1),Ue!==null&&ct!==null&&H0(fe,ct,Ue,Oe,!0)}}e:{if(ne=ee?kr(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ae=u_;else if(Gt(ne))if(c_)Ae=L1;else{Ae=V1;var $e=M1}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Ul(ee.elementType)&&(Ae=u_):Ae=U1;if(Ae&&(Ae=Ae(r,ee))){Si(fe,Ae,o,oe);break e}$e&&$e(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&ls(ne,"number",ne.value)}switch($e=ee?kr(ee):window,r){case"focusin":(Gt($e)||$e.contentEditable==="true")&&(Eo=$e,zd=ee,Yl=null);break;case"focusout":Yl=zd=Eo=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,__(fe,o,oe);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":__(fe,o,oe)}var Ie;if(Lr)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Xe?ie(r,o)&&(Pe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(E&&o.locale!=="ko"&&(Xe||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Xe&&(Ie=jl()):(Pr=oe,us="value"in Pr?Pr.value:Pr.textContent,Xe=!0)),$e=Lh(ee,Pe),0<$e.length&&(Pe=new Bl(Pe,r,null,o,oe),fe.push({event:Pe,listeners:$e}),Ie?Pe.data=Ie:(Ie=me(o),Ie!==null&&(Pe.data=Ie)))),(Ie=y?$t(r,o):We(r,o))&&(Pe=Lh(ee,"onBeforeInput"),0<Pe.length&&($e=new Bl("onBeforeInput","beforeinput",null,o,oe),fe.push({event:$e,listeners:Pe}),$e.data=Ie)),Tx(fe,r,ee,o,oe)}B0(fe,s)})}function bu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Lh(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ga(r,o),f!=null&&u.unshift(bu(r,f,m)),f=ga(r,s),f!=null&&u.push(bu(r,f,m))),r.tag===3)return u;r=r.return}return[]}function Ho(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function H0(r,s,o,u,f){for(var m=s._reactName,T=[];o!==null&&o!==u;){var S=o,j=S.alternate,ee=S.stateNode;if(S=S.tag,j!==null&&j===u)break;S!==5&&S!==26&&S!==27||ee===null||(j=ee,f?(ee=ga(o,m),ee!=null&&T.unshift(bu(o,ee,j))):f||(ee=ga(o,m),ee!=null&&T.push(bu(o,ee,j)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var xx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function $0(r){return(typeof r=="string"?r:""+r).replace(xx,`
`).replace(Rx,"")}function G0(r,s){return s=$0(s),$0(r)===s}function jh(){}function ut(r,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Jn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Jn(r,""+u);break;case"className":Nr(r,"class",u);break;case"tabIndex":Nr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(r,o,u);break;case"style":Vl(r,u,m);break;case"data":if(s!=="object"){Nr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=co(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ut(r,s,"name",f.name,f,null),ut(r,s,"formEncType",f.formEncType,f,null),ut(r,s,"formMethod",f.formMethod,f,null),ut(r,s,"formTarget",f.formTarget,f,null)):(ut(r,s,"encType",f.encType,f,null),ut(r,s,"method",f.method,f,null),ut(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=co(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=jh);break;case"onScroll":u!=null&&Ye("scroll",r);break;case"onScrollEnd":u!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=co(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),os(r,"popover",u);break;case"xlinkActuate":rn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":rn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":rn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":rn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":rn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":rn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":rn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":rn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":rn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":os(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pd.get(o)||o,os(r,o,u))}}function hm(r,s,o,u,f,m){switch(o){case"style":Vl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Jn(r,u):(typeof u=="number"||typeof u=="bigint")&&Jn(r,""+u);break;case"onScroll":u!=null&&Ye("scroll",r);break;case"onScrollEnd":u!=null&&Ye("scrollend",r);break;case"onClick":u!=null&&(r.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[Mt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):os(r,o,u)}}}function ln(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,m,T,o,null)}}f&&ut(r,s,"srcSet",o.srcSet,o,null),u&&ut(r,s,"src",o.src,o,null);return;case"input":Ye("invalid",r);var S=m=T=f=null,j=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":f=oe;break;case"type":T=oe;break;case"checked":j=oe;break;case"defaultChecked":ee=oe;break;case"value":m=oe;break;case"defaultValue":S=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:ut(r,s,u,oe,o,null)}}da(r,m,S,j,ee,T,f,!1),uo(r);return;case"select":Ye("invalid",r),u=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:ut(r,s,f,S,o,null)}s=m,o=T,r.multiple=!!u,s!=null?_i(r,!!u,s,!1):o!=null&&_i(r,!!u,o,!0);return;case"textarea":Ye("invalid",r),m=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ut(r,s,T,S,o,null)}pa(r,u,f,m),uo(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(r,s,j,u,o,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(u=0;u<Eu.length;u++)Ye(Eu[u],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,ee,u,o,null)}return;default:if(Ul(s)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&hm(r,s,oe,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ut(r,s,S,u,o,null))}function Cx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,j=null,ee=null,oe=null;for(re in o){var fe=o[re];if(o.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":j=fe;default:u.hasOwnProperty(re)||ut(r,s,re,null,u,fe)}}for(var ne in u){var re=u[ne];if(fe=o[ne],u.hasOwnProperty(ne)&&(re!=null||fe!=null))switch(ne){case"type":m=re;break;case"name":f=re;break;case"checked":ee=re;break;case"defaultChecked":oe=re;break;case"value":T=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==fe&&ut(r,s,ne,re,u,fe)}}jn(r,T,S,j,ee,oe,m,f);return;case"select":re=T=S=ne=null;for(m in o)if(j=o[m],o.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":re=j;default:u.hasOwnProperty(m)||ut(r,s,m,null,u,j)}for(f in u)if(m=u[f],j=o[f],u.hasOwnProperty(f)&&(m!=null||j!=null))switch(f){case"value":ne=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==j&&ut(r,s,f,m,u,j)}s=S,o=T,u=re,ne!=null?_i(r,!!o,ne,!1):!!u!=!!o&&(s!=null?_i(r,!!o,s,!0):_i(r,!!o,o?[]:"",!1));return;case"textarea":re=ne=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ut(r,s,S,null,u,f)}for(T in u)if(f=u[T],m=o[T],u.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":ne=f;break;case"defaultValue":re=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&ut(r,s,T,f,u,m)}ot(r,ne,re);return;case"option":for(var Ue in o)if(ne=o[Ue],o.hasOwnProperty(Ue)&&ne!=null&&!u.hasOwnProperty(Ue))switch(Ue){case"selected":r.selected=!1;break;default:ut(r,s,Ue,null,u,ne)}for(j in u)if(ne=u[j],re=o[j],u.hasOwnProperty(j)&&ne!==re&&(ne!=null||re!=null))switch(j){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:ut(r,s,j,ne,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)ne=o[Oe],o.hasOwnProperty(Oe)&&ne!=null&&!u.hasOwnProperty(Oe)&&ut(r,s,Oe,null,u,ne);for(ee in u)if(ne=u[ee],re=o[ee],u.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ut(r,s,ee,ne,u,re)}return;default:if(Ul(s)){for(var ct in o)ne=o[ct],o.hasOwnProperty(ct)&&ne!==void 0&&!u.hasOwnProperty(ct)&&hm(r,s,ct,void 0,u,ne);for(oe in u)ne=u[oe],re=o[oe],!u.hasOwnProperty(oe)||ne===re||ne===void 0&&re===void 0||hm(r,s,oe,ne,u,re);return}}for(var Q in o)ne=o[Q],o.hasOwnProperty(Q)&&ne!=null&&!u.hasOwnProperty(Q)&&ut(r,s,Q,null,u,ne);for(fe in u)ne=u[fe],re=o[fe],!u.hasOwnProperty(fe)||ne===re||ne==null&&re==null||ut(r,s,fe,ne,u,re)}var fm=null,dm=null;function Fh(r){return r.nodeType===9?r:r.ownerDocument}function Y0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function pm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mm=null;function Ix(){var r=window.event;return r&&r.type==="popstate"?r===mm?!1:(mm=r,!0):(mm=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(r){return X0.resolve(null).then(r).catch(Nx)}:Q0;function Nx(r){setTimeout(function(){throw r})}function As(r){return r==="head"}function W0(r,s){var o=s,u=0,f=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Tu(T.documentElement),o&2&&Tu(T.body),o&4)for(o=T.head,Tu(o),T=o.firstChild;T;){var S=T.nextSibling,j=T.nodeName;T[ua]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){r.removeChild(m),Du(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Du(s)}function gm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gm(o),as(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Ox(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ua])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=vr(r.nextSibling),r===null)break}return null}function Px(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=vr(r.nextSibling),r===null))return null;return r}function ym(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Mx(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function vr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var _m=null;function Z0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function J0(r,s,o){switch(s=Fh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);as(r)}var ur=new Map,eE=new Set;function zh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ui=he.d;he.d={f:Vx,r:Ux,D:Lx,C:jx,L:Fx,m:zx,X:qx,S:Bx,M:Hx};function Vx(){var r=Ui.f(),s=Nh();return r||s}function Ux(r){var s=Dr(r);s!==null&&s.tag===5&&s.type==="form"?Ev(s):Ui.r(r)}var $o=typeof document>"u"?null:document;function tE(r,s,o){var u=$o;if(u&&typeof s=="string"&&s){var f=Vt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),eE.has(f)||(eE.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),ln(s,"link",r),Rt(s),u.head.appendChild(s)))}}function Lx(r){Ui.D(r),tE("dns-prefetch",r,null)}function jx(r,s){Ui.C(r,s),tE("preconnect",r,s)}function Fx(r,s,o){Ui.L(r,s,o);var u=$o;if(u&&r&&s){var f='link[rel="preload"][as="'+Vt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Vt(o.imageSizes)+'"]')):f+='[href="'+Vt(r)+'"]';var m=f;switch(s){case"style":m=Go(r);break;case"script":m=Yo(r)}ur.has(m)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(m,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(wu(m))||s==="script"&&u.querySelector(Su(m))||(s=u.createElement("link"),ln(s,"link",r),Rt(s),u.head.appendChild(s)))}}function zx(r,s){Ui.m(r,s);var o=$o;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Yo(r)}if(!ur.has(m)&&(r=_({rel:"modulepreload",href:r},s),ur.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Su(m)))return}u=o.createElement("link"),ln(u,"link",r),Rt(u),o.head.appendChild(u)}}}function Bx(r,s,o){Ui.S(r,s,o);var u=$o;if(u&&r){var f=bn(u).hoistableStyles,m=Go(r);s=s||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(wu(m)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(m))&&vm(r,o);var j=T=u.createElement("link");Rt(j),ln(j,"link",r),j._p=new Promise(function(ee,oe){j.onload=ee,j.onerror=oe}),j.addEventListener("load",function(){S.loading|=1}),j.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function qx(r,s){Ui.X(r,s);var o=$o;if(o&&r){var u=bn(o).hoistableScripts,f=Yo(r),m=u.get(f);m||(m=o.querySelector(Su(f)),m||(r=_({src:r,async:!0},s),(s=ur.get(f))&&Em(r,s),m=o.createElement("script"),Rt(m),ln(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Hx(r,s){Ui.M(r,s);var o=$o;if(o&&r){var u=bn(o).hoistableScripts,f=Yo(r),m=u.get(f);m||(m=o.querySelector(Su(f)),m||(r=_({src:r,async:!0,type:"module"},s),(s=ur.get(f))&&Em(r,s),m=o.createElement("script"),Rt(m),ln(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function nE(r,s,o,u){var f=(f=Se.current)?zh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Go(o.href),o=bn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Go(o.href);var m=bn(f).hoistableStyles,T=m.get(r);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,T),(m=f.querySelector(wu(r)))&&!m._p&&(T.instance=m,T.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),m||$x(f,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yo(o),o=bn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Go(r){return'href="'+Vt(r)+'"'}function wu(r){return'link[rel="stylesheet"]['+r+"]"}function rE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function $x(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ln(s,"link",o),Rt(s),r.head.appendChild(s))}function Yo(r){return'[src="'+Vt(r)+'"]'}function Su(r){return"script[async]"+r}function iE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(u)return s.instance=u,Rt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Rt(u),ln(u,"style",f),Bh(u,o.precedence,r),s.instance=u;case"stylesheet":f=Go(o.href);var m=r.querySelector(wu(f));if(m)return s.state.loading|=4,s.instance=m,Rt(m),m;u=rE(o),(f=ur.get(f))&&vm(u,f),m=(r.ownerDocument||r).createElement("link"),Rt(m);var T=m;return T._p=new Promise(function(S,j){T.onload=S,T.onerror=j}),ln(m,"link",u),s.state.loading|=4,Bh(m,o.precedence,r),s.instance=m;case"script":return m=Yo(o.src),(f=r.querySelector(Su(m)))?(s.instance=f,Rt(f),f):(u=o,(f=ur.get(m))&&(u=_({},o),Em(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Rt(f),ln(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Bh(u,o.precedence,r));return s.instance}function Bh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Em(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var qh=null;function sE(r,s,o){if(qh===null){var u=new Map,f=qh=new Map;f.set(o,u)}else f=qh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[ua]||m[Ht]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=r+T;var S=u.get(T);S?S.push(m):u.set(T,[m])}}return u}function aE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Gx(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Au=null;function Yx(){}function Kx(r,s,o){if(Au===null)throw Error(i(475));var u=Au;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Go(o.href),m=r.querySelector(wu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Hh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,Rt(m);return}m=r.ownerDocument||r,o=rE(o),(f=ur.get(f))&&vm(o,f),m=m.createElement("link"),Rt(m);var T=m;T._p=new Promise(function(S,j){T.onload=S,T.onerror=j}),ln(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Hh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function Qx(){if(Au===null)throw Error(i(475));var r=Au;return r.stylesheets&&r.count===0&&bm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&bm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Hh(){if(this.count--,this.count===0){if(this.stylesheets)bm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $h=null;function bm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$h=new Map,s.forEach(Xx,r),$h=null,Hh.call(r))}function Xx(r,s){if(!(s.state.loading&4)){var o=$h.get(r);if(o)var u=o.get(null);else{o=new Map,$h.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,f),o.set(T,f),this.count++,u=Hh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var xu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function Wx(r,s,o,u,f,m,T,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function lE(r,s,o,u,f,m,T,S,j,ee,oe,fe){return r=new Wx(r,s,o,T,S,j,ee,fe),s=1,m===!0&&(s|=24),m=zn(3,null,null,s),r.current=m,m.stateNode=r,s=np(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},ap(m),r}function uE(r){return r?(r=So,r):So}function cE(r,s,o,u,f,m){f=uE(f),u.context===null?u.context=f:u.pendingContext=f,u=fs(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ds(r,u,s),o!==null&&(Gn(o,r,s),nu(o,r,s))}function hE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tm(r,s){hE(r,s),(r=r.alternate)&&hE(r,s)}function fE(r){if(r.tag===13){var s=wo(r,67108864);s!==null&&Gn(s,r,67108864),Tm(r,67108864)}}var Gh=!0;function Zx(r,s,o,u){var f=J.T;J.T=null;var m=he.p;try{he.p=2,wm(r,s,o,u)}finally{he.p=m,J.T=f}}function Jx(r,s,o,u){var f=J.T;J.T=null;var m=he.p;try{he.p=8,wm(r,s,o,u)}finally{he.p=m,J.T=f}}function wm(r,s,o,u){if(Gh){var f=Sm(u);if(f===null)cm(r,s,u,Yh,o),pE(r,u);else if(tR(f,r,s,o,u))u.stopPropagation();else if(pE(r,u),s&4&&-1<eR.indexOf(r)){for(;f!==null;){var m=Dr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ln(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var j=1<<31-it(T);S.entanglements[1]|=j,T&=~j}Hr(m),(st&6)===0&&(Dh=Cn()+500,vu(0))}}break;case 13:S=wo(m,2),S!==null&&Gn(S,m,2),Nh(),Tm(m,2)}if(m=Sm(u),m===null&&cm(r,s,u,Yh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else cm(r,s,u,null,o)}}function Sm(r){return r=er(r),Am(r)}var Yh=null;function Am(r){if(Yh=null,r=mi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Yh=r,null}function dE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kc()){case ts:return 2;case z:return 8;case te:case ae:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var xm=!1,xs=null,Rs=null,Cs=null,Ru=new Map,Cu=new Map,Is=[],eR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pE(r,s){switch(r){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(s.pointerId)}}function Iu(r,s,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Dr(s),s!==null&&fE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function tR(r,s,o,u,f){switch(s){case"focusin":return xs=Iu(xs,r,s,o,u,f),!0;case"dragenter":return Rs=Iu(Rs,r,s,o,u,f),!0;case"mouseover":return Cs=Iu(Cs,r,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return Ru.set(m,Iu(Ru.get(m)||null,r,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Cu.set(m,Iu(Cu.get(m)||null,r,s,o,u,f)),!0}return!1}function mE(r){var s=mi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Nc(r.priority,function(){if(o.tag===13){var u=$n();u=rs(u);var f=wo(o,u);f!==null&&Gn(f,o,u),Tm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Kh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Sm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);vi=u,o.target.dispatchEvent(u),vi=null}else return s=Dr(o),s!==null&&fE(s),r.blockedOn=o,!1;s.shift()}return!0}function gE(r,s,o){Kh(r)&&o.delete(s)}function nR(){xm=!1,xs!==null&&Kh(xs)&&(xs=null),Rs!==null&&Kh(Rs)&&(Rs=null),Cs!==null&&Kh(Cs)&&(Cs=null),Ru.forEach(gE),Cu.forEach(gE)}function Qh(r,s){r.blockedOn===s&&(r.blockedOn=null,xm||(xm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nR)))}var Xh=null;function yE(r){Xh!==r&&(Xh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xh===r&&(Xh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Am(u||o)===null)continue;break}var m=Dr(o);m!==null&&(r.splice(s,3),s-=3,Ap(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Du(r){function s(j){return Qh(j,r)}xs!==null&&Qh(xs,r),Rs!==null&&Qh(Rs,r),Cs!==null&&Qh(Cs,r),Ru.forEach(s),Cu.forEach(s);for(var o=0;o<Is.length;o++){var u=Is[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Is.length&&(o=Is[0],o.blockedOn===null);)mE(o),o.blockedOn===null&&Is.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],T=f[Mt]||null;if(typeof m=="function")T||yE(o);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Mt]||null)S=T.formAction;else if(Am(f)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),yE(o)}}}function Rm(r){this._internalRoot=r}Wh.prototype.render=Rm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=$n();cE(o,u,r,s,null,null)},Wh.prototype.unmount=Rm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;cE(r.current,2,null,r,null,null),Nh(),s[Zn]=null}};function Wh(r){this._internalRoot=r}Wh.prototype.unstable_scheduleHydration=function(r){if(r){var s=is();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Is.length&&s!==0&&s<Is[o].priority;o++);Is.splice(o,0,r),o===0&&mE(r)}};var _E=e.version;if(_E!=="19.1.0")throw Error(i(527,_E,"19.1.0"));he.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var rR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ve=Zh.inject(rR),Re=Zh}catch{}}return Nu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=Pv,m=Mv,T=Vv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=lE(r,1,!1,null,null,o,u,f,m,T,S,null),r[Zn]=s.current,um(r),new Rm(s)},Nu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",m=Pv,T=Mv,S=Vv,j=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),s=lE(r,1,!0,s,o??null,u,f,m,T,S,j,ee),s.context=uE(null),o=s.current,u=$n(),u=rs(u),f=fs(u),f.callback=null,ds(o,f,u),o=u,s.current.lanes=o,pi(s,o),Hr(s),r[Zn]=s.current,um(r),new Wh(s)},Nu.version="19.1.0",Nu}var CE;function dR(){if(CE)return Dm.exports;CE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dm.exports=fR(),Dm.exports}var pR=dR();const mR=ed(pR);var Ou={},IE;function gR(){if(IE)return Ou;IE=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.parse=c,Ou.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,N){const O=new l,F=w.length;if(F<2)return O;const P=N?.decode||_;let M=0;do{const U=w.indexOf("=",M);if(U===-1)break;const Y=w.indexOf(";",M),q=Y===-1?F:Y;if(U>q){M=w.lastIndexOf(";",U-1)+1;continue}const H=d(w,M,U),se=p(w,U,H),k=w.slice(H,se);if(O[k]===void 0){let R=d(w,U+1,q),D=p(w,q,R);const L=P(w.slice(R,D));O[k]=L}M=q+1}while(M<F);return O}function d(w,N,O){do{const F=w.charCodeAt(N);if(F!==32&&F!==9)return N}while(++N<O);return O}function p(w,N,O){for(;N>O;){const F=w.charCodeAt(--N);if(F!==32&&F!==9)return N+1}return O}function g(w,N,O){const F=O?.encode||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=F(N);if(!e.test(P))throw new TypeError(`argument val is invalid: ${N}`);let M=w+"="+P;if(!O)return M;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);M+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);M+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);M+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);M+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(M+="; HttpOnly"),O.secure&&(M+="; Secure"),O.partitioned&&(M+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return M}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return a.call(w)==="[object Date]"}return Ou}gR();var DE="popstate";function yR(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return ig("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:tc(a)}return vR(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _R(){return Math.random().toString(36).substring(2,10)}function kE(n,e){return{usr:n.state,key:n.key,idx:e}}function ig(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:t,key:e&&e.key||i||_R()}}function tc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ml(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function vR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){d="POP";let P=_(),M=P==null?null:P-g;g=P,p&&p({action:d,location:F.location,delta:M})}function w(P,M){d="PUSH";let U=ig(F.location,P,M);g=_()+1;let Y=kE(U,g),q=F.createHref(U);try{c.pushState(Y,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(q)}l&&p&&p({action:d,location:F.location,delta:1})}function N(P,M){d="REPLACE";let U=ig(F.location,P,M);g=_();let Y=kE(U,g),q=F.createHref(U);c.replaceState(Y,"",q),l&&p&&p({action:d,location:F.location,delta:0})}function O(P){return ER(P)}let F={get action(){return d},get location(){return n(a,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(DE,b),p=P,()=>{a.removeEventListener(DE,b),p=null}},createHref(P){return e(a,P)},createURL:O,encodeLocation(P){let M=O(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:N,go(P){return c.go(P)}};return F}function ER(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:tc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function $T(n,e,t="/"){return bR(n,e,t,!1)}function bR(n,e,t,i){let a=typeof e=="string"?ml(e):e,l=Ki(a.pathname||"/",t);if(l==null)return null;let c=GT(n);TR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=OR(l);d=kR(c[p],g,i)}return d}function GT(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(bt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=qi([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),GT(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:IR(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of YT(l.path))a(l,c,d)}),e}function YT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=YT(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function TR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var wR=/^:[\w-]+$/,SR=3,AR=2,xR=1,RR=10,CR=-2,NE=n=>n==="*";function IR(n,e){let t=n.split("/"),i=t.length;return t.some(NE)&&(i+=CR),e&&(i+=AR),t.filter(a=>!NE(a)).reduce((a,l)=>a+(wR.test(l)?SR:l===""?xR:RR),i)}function DR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function kR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=Cf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=Cf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:qi([l,b.pathname]),pathnameBase:UR(qi([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=qi([l,b.pathnameBase]))}return c}function Cf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=NR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:b},w)=>{if(_==="*"){let O=d[w]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const N=d[w];return b&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function NR(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function OR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ki(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function PR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ml(n):n;return{pathname:t?t.startsWith("/")?t:MR(t,e):e,search:LR(i),hash:jR(a)}}function MR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Pm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function KT(n){let e=VR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function QT(n,e,t,i=!1){let a;typeof n=="string"?a=ml(n):(a={...n},bt(!a.pathname||!a.pathname.includes("?"),Pm("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),Pm("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),Pm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let p=PR(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var qi=n=>n.join("/").replace(/\/\/+/g,"/"),UR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var XT=["POST","PUT","PATCH","DELETE"];new Set(XT);var zR=["GET",...XT];new Set(zR);var gl=K.createContext(null);gl.displayName="DataRouter";var td=K.createContext(null);td.displayName="DataRouterState";var WT=K.createContext({isTransitioning:!1});WT.displayName="ViewTransition";var BR=K.createContext(new Map);BR.displayName="Fetchers";var qR=K.createContext(null);qR.displayName="Await";var si=K.createContext(null);si.displayName="Navigation";var pc=K.createContext(null);pc.displayName="Location";var ai=K.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var jg=K.createContext(null);jg.displayName="RouteError";function HR(n,{relative:e}={}){bt(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(si),{hash:a,pathname:l,search:c}=gc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:qi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function mc(){return K.useContext(pc)!=null}function Wa(){return bt(mc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(pc).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JT(n){K.useContext(si).static||K.useLayoutEffect(n)}function yl(){let{isDataRoute:n}=K.useContext(ai);return n?rC():$R()}function $R(){bt(mc(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(gl),{basename:e,navigator:t}=K.useContext(si),{matches:i}=K.useContext(ai),{pathname:a}=Wa(),l=JSON.stringify(KT(i)),c=K.useRef(!1);return JT(()=>{c.current=!0}),K.useCallback((p,g={})=>{if(ri(c.current,ZT),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=QT(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}K.createContext(null);function ew(){let{matches:n}=K.useContext(ai),e=n[n.length-1];return e?e.params:{}}function gc(n,{relative:e}={}){let{matches:t}=K.useContext(ai),{pathname:i}=Wa(),a=JSON.stringify(KT(t));return K.useMemo(()=>QT(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function GR(n,e){return tw(n,e)}function tw(n,e,t,i){bt(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=K.useContext(si),{matches:l}=K.useContext(ai),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let M=_&&_.path||"";nw(p,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=Wa(),w;if(e){let M=typeof e=="string"?ml(e):e;bt(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=b;let N=w.pathname||"/",O=N;if(g!=="/"){let M=g.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(M.length).join("/")}let F=$T(n,{pathname:O});ri(_||F!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ri(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=WR(F&&F.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:qi([g,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:qi([g,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,i);return e&&P?K.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function YR(){let n=nC(),e=FR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,c)}var KR=K.createElement(YR,null),QR=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(ai.Provider,{value:this.props.routeContext},K.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XR({routeContext:n,match:e,children:t}){let i=K.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ai.Provider,{value:n},t)}function WR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:b}=t,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let b,w=!1,N=null,O=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||KR,c&&(d<0&&_===0?(nw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,O=null):d===_&&(w=!0,O=g.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,_+1)),P=()=>{let M;return b?M=N:w?M=O:g.route.Component?M=K.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,K.createElement(XR,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?K.createElement(QR,{location:t.location,revalidation:t.revalidation,component:N,error:b,children:P(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):P()},null)}function Fg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(n){let e=K.useContext(gl);return bt(e,Fg(n)),e}function JR(n){let e=K.useContext(td);return bt(e,Fg(n)),e}function eC(n){let e=K.useContext(ai);return bt(e,Fg(n)),e}function zg(n){let e=eC(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tC(){return zg("useRouteId")}function nC(){let n=K.useContext(jg),e=JR("useRouteError"),t=zg("useRouteError");return n!==void 0?n:e.errors?.[t]}function rC(){let{router:n}=ZR("useNavigate"),e=zg("useNavigate"),t=K.useRef(!1);return JT(()=>{t.current=!0}),K.useCallback(async(a,l={})=>{ri(t.current,ZT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var OE={};function nw(n,e,t){!e&&!OE[n]&&(OE[n]=!0,ri(!1,t))}K.memo(iC);function iC({routes:n,future:e,state:t}){return tw(n,void 0,t,e)}function Wo(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){bt(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=ml(t));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:w="default"}=t,N=K.useMemo(()=>{let O=Ki(p,c);return O==null?null:{location:{pathname:O,search:g,hash:_,state:b,key:w},navigationType:i}},[c,p,g,_,b,w,i]);return ri(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:K.createElement(si.Provider,{value:d},K.createElement(pc.Provider,{children:e,value:N}))}function aC({children:n,location:e}){return GR(sg(n),e)}function sg(n,e=[]){let t=[];return K.Children.forEach(n,(i,a)=>{if(!K.isValidElement(i))return;let l=[...e,a];if(i.type===K.Fragment){t.push.apply(t,sg(i.props.children,l));return}bt(i.type===Wo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=sg(i.props.children,l)),t.push(c)}),t}var df="get",pf="application/x-www-form-urlencoded";function nd(n){return n!=null&&typeof n.tagName=="string"}function oC(n){return nd(n)&&n.tagName.toLowerCase()==="button"}function lC(n){return nd(n)&&n.tagName.toLowerCase()==="form"}function uC(n){return nd(n)&&n.tagName.toLowerCase()==="input"}function cC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hC(n,e){return n.button===0&&(!e||e==="_self")&&!cC(n)}var ef=null;function fC(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var dC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(n){return n!=null&&!dC.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):n}function pC(n,e){let t,i,a,l,c;if(lC(n)){let d=n.getAttribute("action");i=d?Ki(d,e):null,t=n.getAttribute("method")||df,a=Mm(n.getAttribute("enctype"))||pf,l=new FormData(n)}else if(oC(n)||uC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ki(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||df,a=Mm(n.getAttribute("formenctype"))||Mm(d.getAttribute("enctype"))||pf,l=new FormData(d,n),!fC()){let{name:g,type:_,value:b}=n;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,b)}}else{if(nd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=df,i=null,a=pf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Bg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function mC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await mC(l,t);return c.links?c.links():[]}return[]}));return bC(i.flat(1).filter(gC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function PE(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _C(n,e,{includeHydrateFallback:t}={}){return vC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function vC(n){return[...new Set(n)]}function EC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function bC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(EC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TC=new Set([100,101,204,205]);function wC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ki(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function rw(){let n=K.useContext(gl);return Bg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SC(){let n=K.useContext(td);return Bg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qg=K.createContext(void 0);qg.displayName="FrameworkContext";function iw(){let n=K.useContext(qg);return Bg(n,"You must render this element inside a <HydratedRouter> element"),n}function AC(n,e){let t=K.useContext(qg),[i,a]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,w=K.useRef(null);K.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let F=M=>{M.forEach(U=>{c(U.isIntersecting)})},P=new IntersectionObserver(F,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[n]),K.useEffect(()=>{if(i){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[i]);let N=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Pu(d,N),onBlur:Pu(p,O),onMouseEnter:Pu(g,N),onMouseLeave:Pu(_,O),onTouchStart:Pu(b,N)}]:[!1,w,{}]}function Pu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xC({page:n,...e}){let{router:t}=rw(),i=K.useMemo(()=>$T(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?K.createElement(CC,{page:n,matches:i,...e}):null}function RC(n){let{manifest:e,routeModules:t}=iw(),[i,a]=K.useState([]);return K.useEffect(()=>{let l=!1;return yC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function CC({page:n,matches:e,...t}){let i=Wa(),{manifest:a,routeModules:l}=iw(),{basename:c}=rw(),{loaderData:d,matches:p}=SC(),g=K.useMemo(()=>PE(n,e,p,a,i,"data"),[n,e,p,a,i]),_=K.useMemo(()=>PE(n,e,p,a,i,"assets"),[n,e,p,a,i]),b=K.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,F=!1;if(e.forEach(M=>{let U=a.routes[M.route.id];!U||!U.hasLoader||(!g.some(Y=>Y.route.id===M.route.id)&&M.route.id in d&&l[M.route.id]?.shouldRevalidate||U.hasClientLoader?F=!0:O.add(M.route.id))}),O.size===0)return[];let P=wC(n,c);return F&&O.size>0&&P.searchParams.set("_routes",e.filter(M=>O.has(M.route.id)).map(M=>M.route.id).join(",")),[P.pathname+P.search]},[c,d,i,a,g,e,n,l]),w=K.useMemo(()=>_C(_,a),[_,a]),N=RC(_);return K.createElement(K.Fragment,null,b.map(O=>K.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),w.map(O=>K.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),N.map(({key:O,link:F})=>K.createElement("link",{key:O,...F})))}function IC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sw&&(window.__reactRouterVersion="7.6.3")}catch{}function DC({basename:n,children:e,window:t}){let i=K.useRef();i.current==null&&(i.current=yR({window:t,v5Compat:!0}));let a=i.current,[l,c]=K.useState({action:a.action,location:a.location}),d=K.useCallback(p=>{K.startTransition(()=>c(p))},[c]);return K.useLayoutEffect(()=>a.listen(d),[a,d]),K.createElement(sC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var aw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hg=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:b,...w},N){let{basename:O}=K.useContext(si),F=typeof g=="string"&&aw.test(g),P,M=!1;if(typeof g=="string"&&F&&(P=g,sw))try{let D=new URL(window.location.href),L=g.startsWith("//")?new URL(D.protocol+g):new URL(g),V=Ki(L.pathname,O);L.origin===D.origin&&V!=null?g=V+L.search+L.hash:M=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=HR(g,{relative:a}),[Y,q,H]=AC(i,w),se=PC(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:b});function k(D){e&&e(D),D.defaultPrevented||se(D)}let R=K.createElement("a",{...w,...H,href:P||U,onClick:M||l?e:k,ref:IC(N,q),target:p,"data-discover":!F&&t==="render"?"true":void 0});return Y&&!F?K.createElement(K.Fragment,null,R,K.createElement(xC,{page:U})):R});Hg.displayName="Link";var kC=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let b=gc(c,{relative:g.relative}),w=Wa(),N=K.useContext(td),{navigator:O,basename:F}=K.useContext(si),P=N!=null&&jC(b)&&d===!0,M=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,U=w.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(U=U.toLowerCase(),Y=Y?Y.toLowerCase():null,M=M.toLowerCase()),Y&&F&&(Y=Ki(Y,F)||Y);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=U===M||!a&&U.startsWith(M)&&U.charAt(q)==="/",se=Y!=null&&(Y===M||!a&&Y.startsWith(M)&&Y.charAt(M.length)==="/"),k={isActive:H,isPending:se,isTransitioning:P},R=H?e:void 0,D;typeof i=="function"?D=i(k):D=[i,H?"active":null,se?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return K.createElement(Hg,{...g,"aria-current":R,className:D,ref:_,style:L,to:c,viewTransition:d},typeof p=="function"?p(k):p)});kC.displayName="NavLink";var NC=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=df,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...w},N)=>{let O=UC(),F=LC(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&aw.test(d),U=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let q=Y.nativeEvent.submitter,H=q?.getAttribute("formmethod")||c;O(q||Y.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:b})};return K.createElement("form",{ref:N,method:P,action:F,onSubmit:i?p:U,...w,"data-discover":!M&&n==="render"?"true":void 0})});NC.displayName="Form";function OC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(n){let e=K.useContext(gl);return bt(e,OC(n)),e}function PC(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=yl(),p=Wa(),g=gc(n,{relative:l});return K.useCallback(_=>{if(hC(_,e)){_.preventDefault();let b=t!==void 0?t:tc(p)===tc(g);d(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,a,l,c])}var MC=0,VC=()=>`__${String(++MC)}__`;function UC(){let{router:n}=ow("useSubmit"),{basename:e}=K.useContext(si),t=tC();return K.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=pC(i,e);if(a.navigate===!1){let _=a.fetcherKey||VC();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function LC(n,{relative:e}={}){let{basename:t}=K.useContext(si),i=K.useContext(ai);bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...gc(n||".",{relative:e})},c=Wa();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qi([t,l.pathname])),tc(l)}function jC(n,e={}){let t=K.useContext(WT);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ow("useViewTransitionState"),a=gc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Cf(a.pathname,c)!=null||Cf(a.pathname,l)!=null}[...TC];const un=[];for(let n=0;n<256;++n)un.push((n+256).toString(16).slice(1));function FC(n,e=0){return(un[n[e+0]]+un[n[e+1]]+un[n[e+2]]+un[n[e+3]]+"-"+un[n[e+4]]+un[n[e+5]]+"-"+un[n[e+6]]+un[n[e+7]]+"-"+un[n[e+8]]+un[n[e+9]]+"-"+un[n[e+10]]+un[n[e+11]]+un[n[e+12]]+un[n[e+13]]+un[n[e+14]]+un[n[e+15]]).toLowerCase()}let Vm;const zC=new Uint8Array(16);function BC(){if(!Vm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vm=crypto.getRandomValues.bind(crypto)}return Vm(zC)}const qC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ME={randomUUID:qC};function HC(n,e,t){if(ME.randomUUID&&!n)return ME.randomUUID();n=n||{};const i=n.random??n.rng?.()??BC();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,FC(i)}const $C=()=>{};var VE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},GC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,_=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,N=g&63;p||(N=64,c||(w=64)),i.push(t[_],t[b],t[w],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new YC;const w=l<<2|d>>4;if(i.push(w),g!==64){const N=d<<4&240|g>>2;if(i.push(N),b!==64){const O=g<<6&192|b;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KC=function(n){const e=lw(n);return uw.encodeByteArray(e,!0)},If=function(n){return KC(n).replace(/\./g,"")},cw=function(n){try{return uw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=()=>QC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process>"u"||typeof VE>"u")return;const n=VE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cw(n[1]);return e&&JSON.parse(e)},rd=()=>{try{return $C()||XC()||WC()||ZC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hw=n=>{var e,t;return(t=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fw=n=>{const e=hw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dw=()=>{var n;return(n=rd())===null||n===void 0?void 0:n.config},pw=n=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $g(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[If(JSON.stringify(t)),If(JSON.stringify(c)),""].join(".")}const Gu={};function eI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?n.emulator.push(e):n.prod.push(e);return n}function tI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let UE=!1;function Gg(n,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Gu[n]===e||Gu[n]||UE)return;Gu[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=eI().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{UE=!0,c()},w}function _(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=tI(i),N=t("text"),O=document.getElementById(N)||document.createElement("span"),F=t("learnmore"),P=document.getElementById(F)||document.createElement("a"),M=t("preprendIcon"),U=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;d(Y),_(P,F);const q=g();p(U,M),Y.append(U,O,P,q),document.body.appendChild(Y)}l?(O.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function rI(){var n;const e=(n=rd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oI(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lI(){return!rI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uI(){try{return typeof indexedDB=="object"}catch{return!1}}function cI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="FirebaseError";class oi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=hI,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?fI(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new oi(a,d,i)}}function fI(n,e){return n.replace(dI,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const dI=/\{\$([^}]+)}/g;function pI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(LE(l)&&LE(c)){if(!Gs(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function LE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Lu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ju(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mI(n,e){const t=new gI(n,e);return t.subscribe.bind(t)}class gI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");yI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Um),a.error===void 0&&(a.error=Um),a.complete===void 0&&(a.complete=Um);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n){return n&&n._delegate?n._delegate:n}class Ys{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new JC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EI(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(n){return n===ja?void 0:n}function EI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _I(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const TI={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},wI=Ke.INFO,SI={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},AI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=SI[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=wI,this._logHandler=AI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const xI=(n,e)=>e.some(t=>n instanceof t);let jE,FE;function RI(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return FE||(FE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gw=new WeakMap,ag=new WeakMap,yw=new WeakMap,Lm=new WeakMap,Kg=new WeakMap;function II(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(zs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&gw.set(t,n)}).catch(()=>{}),Kg.set(e,n),e}function DI(n){if(ag.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ag.set(n,e)}let og={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ag.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kI(n){og=n(og)}function NI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(jm(this),e,...t);return yw.set(i,e.sort?e.sort():[e]),zs(i)}:CI().includes(n)?function(...e){return n.apply(jm(this),e),zs(gw.get(this))}:function(...e){return zs(n.apply(jm(this),e))}}function OI(n){return typeof n=="function"?NI(n):(n instanceof IDBTransaction&&DI(n),xI(n,RI())?new Proxy(n,og):n)}function zs(n){if(n instanceof IDBRequest)return II(n);if(Lm.has(n))return Lm.get(n);const e=OI(n);return e!==n&&(Lm.set(n,e),Kg.set(e,n)),e}const jm=n=>Kg.get(n);function PI(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=zs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(zs(c.result),p.oldVersion,p.newVersion,zs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const MI=["get","getKey","getAll","getAllKeys","count"],VI=["put","add","delete","clear"],Fm=new Map;function zE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=VI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||MI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Fm.set(e,l),l}kI(n=>({...n,get:(e,t,i)=>zE(e,t)||n.get(e,t,i),has:(e,t)=>!!zE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function LI(n){const e=n.getComponent();return e?.type==="VERSION"}const lg="@firebase/app",BE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Yg("@firebase/app"),jI="@firebase/app-compat",FI="@firebase/analytics-compat",zI="@firebase/analytics",BI="@firebase/app-check-compat",qI="@firebase/app-check",HI="@firebase/auth",$I="@firebase/auth-compat",GI="@firebase/database",YI="@firebase/data-connect",KI="@firebase/database-compat",QI="@firebase/functions",XI="@firebase/functions-compat",WI="@firebase/installations",ZI="@firebase/installations-compat",JI="@firebase/messaging",e2="@firebase/messaging-compat",t2="@firebase/performance",n2="@firebase/performance-compat",r2="@firebase/remote-config",i2="@firebase/remote-config-compat",s2="@firebase/storage",a2="@firebase/storage-compat",o2="@firebase/firestore",l2="@firebase/ai",u2="@firebase/firestore-compat",c2="firebase",h2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="[DEFAULT]",f2={[lg]:"fire-core",[jI]:"fire-core-compat",[zI]:"fire-analytics",[FI]:"fire-analytics-compat",[qI]:"fire-app-check",[BI]:"fire-app-check-compat",[HI]:"fire-auth",[$I]:"fire-auth-compat",[GI]:"fire-rtdb",[YI]:"fire-data-connect",[KI]:"fire-rtdb-compat",[QI]:"fire-fn",[XI]:"fire-fn-compat",[WI]:"fire-iid",[ZI]:"fire-iid-compat",[JI]:"fire-fcm",[e2]:"fire-fcm-compat",[t2]:"fire-perf",[n2]:"fire-perf-compat",[r2]:"fire-rc",[i2]:"fire-rc-compat",[s2]:"fire-gcs",[a2]:"fire-gcs-compat",[o2]:"fire-fst",[u2]:"fire-fst-compat",[l2]:"fire-vertex","fire-js":"fire-js",[c2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,d2=new Map,cg=new Map;function qE(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ya(n){const e=n.name;if(cg.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,n);for(const t of Df.values())qE(t,n);for(const t of d2.values())qE(t,n);return!0}function id(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new yc("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=h2;function _w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ug,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(t||(t=dw()),!t)throw Bs.create("no-options");const l=Df.get(a);if(l){if(Gs(t,l.options)&&Gs(i,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const c=new bI(a);for(const p of cg.values())c.addComponent(p);const d=new m2(t,i,c);return Df.set(a,d),d}function Qg(n=ug){const e=Df.get(n);if(!e&&n===ug&&dw())return _w();if(!e)throw Bs.create("no-app",{appName:n});return e}function Xr(n,e,t){var i;let a=(i=f2[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}Ya(new Ys(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="firebase-heartbeat-database",y2=1,nc="firebase-heartbeat-store";let zm=null;function vw(){return zm||(zm=PI(g2,y2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bs.create("idb-open",{originalErrorMessage:n.message})})),zm}async function _2(n){try{const t=(await vw()).transaction(nc),i=await t.objectStore(nc).get(Ew(n));return await t.done,i}catch(e){if(e instanceof oi)Qi.warn(e.message);else{const t=Bs.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(t.message)}}}async function HE(n,e){try{const i=(await vw()).transaction(nc,"readwrite");await i.objectStore(nc).put(e,Ew(n)),await i.done}catch(t){if(t instanceof oi)Qi.warn(t.message);else{const i=Bs.create("idb-set",{originalErrorMessage:t?.message});Qi.warn(i.message)}}}function Ew(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1024,E2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=$E();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>E2){const c=S2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Qi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$E(),{heartbeatsToSend:i,unsentEntries:a}=T2(this._heartbeatsCache.heartbeats),l=If(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Qi.warn(t),""}}}function $E(){return new Date().toISOString().substring(0,10)}function T2(n,e=v2){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),GE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),GE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class w2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uI()?cI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return HE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return HE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function GE(n){return If(JSON.stringify({version:2,heartbeats:n})).length}function S2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n){Ya(new Ys("platform-logger",e=>new UI(e),"PRIVATE")),Ya(new Ys("heartbeat",e=>new b2(e),"PRIVATE")),Xr(lg,BE,n),Xr(lg,BE,"esm2017"),Xr("fire-js","")}A2("");function Xg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x2=bw,Tw=new yc("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new Yg("@firebase/auth");function R2(n,...e){kf.logLevel<=Ke.WARN&&kf.warn(`Auth (${Za}): ${n}`,...e)}function mf(n,...e){kf.logLevel<=Ke.ERROR&&kf.error(`Auth (${Za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw Wg(n,...e)}function Wr(n,...e){return Wg(n,...e)}function ww(n,e,t){const i=Object.assign(Object.assign({},x2()),{[e]:t});return new yc("auth","Firebase",i).create(e,{appName:n.name})}function Hi(n){return ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Tw.create(n,...e)}function Me(n,e,...t){if(!n)throw Wg(e,...t)}function Fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mf(e),new Error(e)}function Xi(n,e){n||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function C2(){return YE()==="http:"||YE()==="https:"}function YE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C2()||sI()||"connection"in navigator)?navigator.onLine:!0}function D2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xi(t>e,"Short delay should be less than long delay!"),this.isMobile=nI()||aI()}get(){return I2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n,e){Xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new vc(3e4,6e4);function sa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function aa(n,e,t,i,a={}){return Aw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=_c(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return iI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ia(n.emulatorConfig.host)&&(g.credentials="include"),Sw.fetch()(await xw(n,n.config.apiHost,t,d),g)})}async function Aw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},k2),e);try{const a=new M2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw tf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw tf(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ww(n,_,g);Sr(n,_)}}catch(a){if(a instanceof oi)throw a;Sr(n,"network-request-failed",{message:String(a)})}}async function Ec(n,e,t,i,a={}){const l=await aa(n,e,t,i,a);return"mfaPendingCredential"in l&&Sr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function xw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Zg(n.config,a):`${n.config.apiScheme}://${a}`;return N2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function P2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wr(this.auth,"network-request-failed")),O2.get())})}}function tf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Wr(n,e,i);return a.customData._tokenResponse=t,a}function KE(n){return n!==void 0&&n.enterprise!==void 0}class V2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U2(n,e){return aa(n,"GET","/v2/recaptchaConfig",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(n,e){return aa(n,"POST","/v1/accounts:delete",e)}async function Nf(n,e){return aa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j2(n,e=!1){const t=vt(n),i=await t.getIdToken(e),a=Jg(i);Me(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Yu(Bm(a.auth_time)),issuedAtTime:Yu(Bm(a.iat)),expirationTime:Yu(Bm(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bm(n){return Number(n)*1e3}function Jg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=cw(t);return a?JSON.parse(a):(mf("Failed to decode base64 JWT payload"),null)}catch(a){return mf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function QE(n){const e=Jg(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof oi&&F2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function F2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(n){var e;const t=n.auth,i=await n.getIdToken(),a=await rc(n,Nf(t,{idToken:i}));Me(a?.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Rw(l.providerUserInfo):[],d=q2(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!d?.length,_=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,b)}async function B2(n){const e=vt(n);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Rw(n){return n.map(e=>{var{providerId:t}=e,i=Xg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,e){const t=await Aw(n,{},async()=>{const i=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await xw(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&ia(n.emulatorConfig.host)&&(p.credentials="include"),Sw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $2(n,e){return aa(n,"POST","/v2/accounts:revokeToken",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=QE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await H2(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new sl;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j2(this,e)}reload(){return B2(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Of(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await rc(this,L2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,g,_;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,F=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,M=(g=t.createdAt)!==null&&g!==void 0?g:void 0,U=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:q,isAnonymous:H,providerData:se,stsTokenManager:k}=t;Me(Y&&k,e,"internal-error");const R=sl.fromJSON(this.name,k);Me(typeof Y=="string",e,"internal-error"),ks(b,e.name),ks(w,e.name),Me(typeof q=="boolean",e,"internal-error"),Me(typeof H=="boolean",e,"internal-error"),ks(N,e.name),ks(O,e.name),ks(F,e.name),ks(P,e.name),ks(M,e.name),ks(U,e.name);const D=new Tr({uid:Y,auth:e,email:w,emailVerified:q,displayName:b,isAnonymous:H,photoURL:O,phoneNumber:N,tenantId:F,stsTokenManager:R,createdAt:M,lastLoginAt:U});return se&&Array.isArray(se)&&(D.providerData=se.map(L=>Object.assign({},L))),P&&(D._redirectEventId=P),D}static async _fromIdTokenResponse(e,t,i=!1){const a=new sl;a.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Of(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Rw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new sl;d.updateFromIdToken(i);const p=new Tr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new fg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function zi(n){Xi(n instanceof Function,"Expected a class definition");let e=XE.get(n);return e?(Xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Cw.type="NONE";const WE=Cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n,e,t){return`firebase:${n}:${e}:${t}`}class al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=gf(this.userKey,a.apiKey,l),this.fullPersistenceKey=gf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nf(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new al(zi(WE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||zi(WE);const c=gf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const w=await Nf(e,{idToken:_}).catch(()=>{});if(!w)break;b=await Tr._fromGetAccountInfoResponse(e,w,_)}else b=Tr._fromJSON(e,_);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new al(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new al(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pw(e))return"Blackberry";if(Mw(e))return"Webos";if(Dw(e))return"Safari";if((e.includes("chrome/")||kw(e))&&!e.includes("edge/"))return"Chrome";if(Ow(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Iw(n=vn()){return/firefox\//i.test(n)}function Dw(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kw(n=vn()){return/crios\//i.test(n)}function Nw(n=vn()){return/iemobile/i.test(n)}function Ow(n=vn()){return/android/i.test(n)}function Pw(n=vn()){return/blackberry/i.test(n)}function Mw(n=vn()){return/webos/i.test(n)}function ey(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function G2(n=vn()){var e;return ey(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y2(){return oI()&&document.documentMode===10}function Vw(n=vn()){return ey(n)||Ow(n)||Mw(n)||Pw(n)||/windows phone/i.test(n)||Nw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n,e=[]){let t;switch(n){case"Browser":t=ZE(vn());break;case"Worker":t=`${ZE(vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(n,e={}){return aa(n,"GET","/v2/passwordPolicy",sa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=6;class W2{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:X2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new K2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nf(this,{idToken:e}),i=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Hi(this));const t=e?vt(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q2(this),t=new W2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await $2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zi(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&R2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ja(n){return vt(n)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mI(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J2(n){sd=n}function Lw(n){return sd.loadJS(n)}function eD(){return sd.recaptchaEnterpriseScript}function tD(){return sd.gapiScript}function nD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rD{constructor(){this.enterprise=new iD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sD="recaptcha-enterprise",jw="NO_RECAPTCHA";class aD{constructor(e){this.type=sD,this.auth=Ja(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{U2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new V2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;KE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(jw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&KE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eD();p.length!==0&&(p+=d),Lw(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function eb(n,e,t,i=!1,a=!1){const l=new aD(n);let c;if(a)c=jw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function dg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await eb(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await eb(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n,e){const t=id(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Gs(l,e??{}))return a;Sr(a,"already-initialized")}return t.initialize({options:e})}function lD(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Fw(n,e,t){const i=Ja(n);Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!!t?.disableWarnings,l=zw(e),{host:c,port:d}=uD(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Me(Gs(g,i.config.emulator)&&Gs(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,ia(c)?($g(`${l}//${c}${p}`),Gg("Auth",!0)):a||cD()}function zw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uD(n){const e=zw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:tb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:tb(c)}}}function tb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function cD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,t){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function hD(n,e){return aa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){return Ec(n,"POST","/v1/accounts:signInWithPassword",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e){return Ec(n,"POST","/v1/accounts:signInWithEmailLink",sa(n,e))}async function pD(n,e){return Ec(n,"POST","/v1/accounts:signInWithEmailLink",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends ty{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new ic(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ic(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dg(e,t,"signInWithPassword",fD);case"emailLink":return dD(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dg(e,i,"signUpPassword",hD);case"emailLink":return pD(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(n,e){return Ec(n,"POST","/v1/accounts:signInWithIdp",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Ka extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Xg(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ka(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ol(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ol(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ol(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_c(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yD(n){const e=Lu(ju(n)).link,t=e?Lu(ju(e)).deep_link_id:null,i=Lu(ju(n)).deep_link_id;return(i?Lu(ju(i)).link:null)||i||t||e||n}class ny{constructor(e){var t,i,a,l,c,d;const p=Lu(ju(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,b=gD((a=p.mode)!==null&&a!==void 0?a:null);Me(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=yD(e);try{return new ny(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,t){return ic._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ny.parseLink(t);return Me(i,"argument-error"),ic._fromEmailAndCode(e,i.code,i.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends bc{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ka._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ps.credential(t,i)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends bc{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends bc{constructor(){super("twitter.com")}static credential(e,t){return Ka._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vs.credential(t,i)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,e){return Ec(n,"POST","/v1/accounts:signUp",sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Tr._fromIdTokenResponse(e,i,a),c=nb(i);return new Qa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=nb(i);return new Qa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function nb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends oi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Pf(e,t,i,a)}}function qw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(n,l,e,i):l})}async function vD(n,e,t=!1){const i=await rc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(n,e,t=!1){const{auth:i}=n;if(Yn(i.app))return Promise.reject(Hi(i));const a="reauthenticate";try{const l=await rc(n,qw(i,a,e,n),t);Me(l.idToken,i,"internal-error");const c=Jg(l.idToken);Me(c,i,"internal-error");const{sub:d}=c;return Me(n.uid===d,i,"user-mismatch"),Qa._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Sr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(n,e,t=!1){if(Yn(n.app))return Promise.reject(Hi(n));const i="signIn",a=await qw(n,i,e),l=await Qa._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function bD(n,e){return Hw(Ja(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(n){const e=Ja(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TD(n,e,t){if(Yn(n.app))return Promise.reject(Hi(n));const i=Ja(n),c=await dg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_D).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$w(n),p}),d=await Qa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function wD(n,e,t){return Yn(n.app)?Promise.reject(Hi(n)):bD(vt(n),_l.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&$w(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,e){return vt(n).setPersistence(e)}function AD(n,e,t,i){return vt(n).onIdTokenChanged(e,t,i)}function xD(n,e,t){return vt(n).beforeAuthStateChanged(e,t)}function sc(n,e,t,i){return vt(n).onAuthStateChanged(e,t,i)}function RD(n){return vt(n).signOut()}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1e3,ID=10;class Yw extends Gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);Y2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ID):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yw.type="LOCAL";const DD=Yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kw.type="SESSION";const Qw=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await kD(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=ry("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function OD(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function PD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MD(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function VD(){return Xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firebaseLocalStorageDb",UD=1,Vf="firebaseLocalStorage",Zw="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function LD(){const n=indexedDB.deleteDatabase(Ww);return new Tc(n).toPromise()}function pg(){const n=indexedDB.open(Ww,UD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vf,{keyPath:Zw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Vf)?e(i):(i.close(),await LD(),e(await pg()))})})}async function rb(n,e,t){const i=od(n,!0).put({[Zw]:e,value:t});return new Tc(i).toPromise()}async function jD(n,e){const t=od(n,!1).get(e),i=await new Tc(t).toPromise();return i===void 0?null:i.value}function ib(n,e){const t=od(n,!0).delete(e);return new Tc(t).toPromise()}const FD=800,zD=3;class Jw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(VD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PD(),!this.activeServiceWorker)return;this.sender=new ND(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await rb(e,Mf,"1"),await ib(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>jD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=od(a,!1).getAll();return new Tc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jw.type="LOCAL";const eS=Jw;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n,e){return e?zi(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ol(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qD(n){return Hw(n.auth,new iy(n),n.bypassAuthState)}function HD(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),ED(t,new iy(n),n.bypassAuthState)}async function $D(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),vD(t,new iy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qD;case"linkViaPopup":case"linkViaRedirect":return $D;case"reauthViaPopup":case"reauthViaRedirect":return HD;default:Sr(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new vc(2e3,1e4);class rl extends tS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GD.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="pendingRedirect",yf=new Map;class KD extends tS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const i=await QD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(n,e){const t=ZD(e),i=WD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function XD(n,e){yf.set(n._key(),e)}function WD(n){return zi(n._redirectPersistence)}function ZD(n){return gf(YD,n.config.apiKey,n.name)}async function JD(n,e,t=!1){if(Yn(n.app))return Promise.reject(Hi(n));const i=Ja(n),a=BD(i,e),c=await new KD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=10*60*1e3;class tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!nS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ek&&this.cachedEventUids.clear(),this.cachedEventUids.has(sb(e))}saveEventToCache(e){this.cachedEventUids.add(sb(e)),this.lastProcessedEventTime=Date.now()}}function sb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function nk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,e={}){return aa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sk=/^https?/;async function ak(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rk(n);for(const t of e)try{if(ok(t))return}catch{}Sr(n,"unauthorized-domain")}function ok(n){const e=hg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!sk.test(t))return!1;if(ik.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new vc(3e4,6e4);function ab(){const n=Zr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uk(n){return new Promise((e,t)=>{var i,a,l;function c(){ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ab(),t(Wr(n,"network-request-failed"))},timeout:lk.get()})}if(!((a=(i=Zr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Zr().gapi)===null||l===void 0)&&l.load)c();else{const d=nD("iframefcb");return Zr()[d]=()=>{gapi.load?c():t(Wr(n,"network-request-failed"))},Lw(`${tD()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw _f=null,e})}let _f=null;function ck(n){return _f=_f||uk(n),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new vc(5e3,15e3),fk="__/auth/iframe",dk="emulator/auth/iframe",pk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gk(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zg(e,dk):`https://${n.config.authDomain}/${fk}`,i={apiKey:e.apiKey,appName:n.name,v:Za},a=mk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${_c(i).slice(1)}`}async function yk(n){const e=await ck(n),t=Zr().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:gk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Wr(n,"network-request-failed"),d=Zr().setTimeout(()=>{l(c)},hk.get());function p(){Zr().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vk=500,Ek=600,bk="_blank",Tk="http://localhost";class ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wk(n,e,t,i=vk,a=Ek){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},_k),{width:i.toString(),height:a.toString(),top:l,left:c}),g=vn().toLowerCase();t&&(d=kw(g)?bk:t),Iw(g)&&(e=e||Tk,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[N,O])=>`${w}${N}=${O},`,"");if(G2(g)&&d!=="_self")return Sk(e||"",d),new ob(null);const b=window.open(e||"",d,_);Me(b,n,"popup-blocked");try{b.focus()}catch{}return new ob(b)}function Sk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="__/auth/handler",xk="emulator/auth/handler",Rk=encodeURIComponent("fac");async function lb(n,e,t,i,a,l){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Za,eventId:a};if(e instanceof Bw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",pI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof bc){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${Rk}=${encodeURIComponent(p)}`:"";return`${Ck(n)}?${_c(d).slice(1)}${g}`}function Ck({config:n}){return n.emulator?Zg(n,xk):`https://${n.authDomain}/${Ak}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class Ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qw,this._completeRedirectFn=JD,this._overrideRedirectResult=XD}async _openPopup(e,t,i,a){var l;Xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await lb(e,t,i,hg(),a);return wk(e,c,ry())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await lb(e,t,i,hg(),a);return OD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Xi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await yk(e),i=new tk(e);return t.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[qm];c!==void 0&&t(!!c),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ak(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vw()||Dw()||ey()}}const Dk=Ik;var ub="@firebase/auth",cb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ok(n){Ya(new Ys("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uw(n)},g=new Z2(i,a,l,p);return lD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ya(new Ys("auth-internal",e=>{const t=Ja(e.getProvider("auth").getImmediate());return(i=>new kk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(ub,cb,Nk(n)),Xr(ub,cb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=5*60,Mk=pw("authIdTokenMaxAge")||Pk;let hb=null;const Vk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Mk)return;const a=t?.token;hb!==a&&(hb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Uk(n=Qg()){const e=id(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oD(n,{popupRedirectResolver:Dk,persistence:[eS,DD,Qw]}),i=pw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Vk(l.toString());xD(t,c,()=>c(t.currentUser)),AD(t,d=>c(d))}}const a=hw("auth");return a&&Fw(t,`http://${a}`),t}function Lk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}J2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Wr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Lk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ok("Browser");var jk="firebase",Fk="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(jk,Fk,"app");var fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,rS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function D(){}D.prototype=R.prototype,k.D=R.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(L,V,I){for(var C=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)C[ge-2]=arguments[ge];return R.prototype[V].apply(L,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,R,D){D||(D=0);var L=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)L[V]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(V=0;16>V;++V)L[V]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=k.g[0],D=k.g[1],V=k.g[2];var I=k.g[3],C=R+(I^D&(V^I))+L[0]+3614090360&4294967295;R=D+(C<<7&4294967295|C>>>25),C=I+(V^R&(D^V))+L[1]+3905402710&4294967295,I=R+(C<<12&4294967295|C>>>20),C=V+(D^I&(R^D))+L[2]+606105819&4294967295,V=I+(C<<17&4294967295|C>>>15),C=D+(R^V&(I^R))+L[3]+3250441966&4294967295,D=V+(C<<22&4294967295|C>>>10),C=R+(I^D&(V^I))+L[4]+4118548399&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(V^R&(D^V))+L[5]+1200080426&4294967295,I=R+(C<<12&4294967295|C>>>20),C=V+(D^I&(R^D))+L[6]+2821735955&4294967295,V=I+(C<<17&4294967295|C>>>15),C=D+(R^V&(I^R))+L[7]+4249261313&4294967295,D=V+(C<<22&4294967295|C>>>10),C=R+(I^D&(V^I))+L[8]+1770035416&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(V^R&(D^V))+L[9]+2336552879&4294967295,I=R+(C<<12&4294967295|C>>>20),C=V+(D^I&(R^D))+L[10]+4294925233&4294967295,V=I+(C<<17&4294967295|C>>>15),C=D+(R^V&(I^R))+L[11]+2304563134&4294967295,D=V+(C<<22&4294967295|C>>>10),C=R+(I^D&(V^I))+L[12]+1804603682&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(V^R&(D^V))+L[13]+4254626195&4294967295,I=R+(C<<12&4294967295|C>>>20),C=V+(D^I&(R^D))+L[14]+2792965006&4294967295,V=I+(C<<17&4294967295|C>>>15),C=D+(R^V&(I^R))+L[15]+1236535329&4294967295,D=V+(C<<22&4294967295|C>>>10),C=R+(V^I&(D^V))+L[1]+4129170786&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^V&(R^D))+L[6]+3225465664&4294967295,I=R+(C<<9&4294967295|C>>>23),C=V+(R^D&(I^R))+L[11]+643717713&4294967295,V=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(V^I))+L[0]+3921069994&4294967295,D=V+(C<<20&4294967295|C>>>12),C=R+(V^I&(D^V))+L[5]+3593408605&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^V&(R^D))+L[10]+38016083&4294967295,I=R+(C<<9&4294967295|C>>>23),C=V+(R^D&(I^R))+L[15]+3634488961&4294967295,V=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(V^I))+L[4]+3889429448&4294967295,D=V+(C<<20&4294967295|C>>>12),C=R+(V^I&(D^V))+L[9]+568446438&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^V&(R^D))+L[14]+3275163606&4294967295,I=R+(C<<9&4294967295|C>>>23),C=V+(R^D&(I^R))+L[3]+4107603335&4294967295,V=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(V^I))+L[8]+1163531501&4294967295,D=V+(C<<20&4294967295|C>>>12),C=R+(V^I&(D^V))+L[13]+2850285829&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^V&(R^D))+L[2]+4243563512&4294967295,I=R+(C<<9&4294967295|C>>>23),C=V+(R^D&(I^R))+L[7]+1735328473&4294967295,V=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(V^I))+L[12]+2368359562&4294967295,D=V+(C<<20&4294967295|C>>>12),C=R+(D^V^I)+L[5]+4294588738&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^V)+L[8]+2272392833&4294967295,I=R+(C<<11&4294967295|C>>>21),C=V+(I^R^D)+L[11]+1839030562&4294967295,V=I+(C<<16&4294967295|C>>>16),C=D+(V^I^R)+L[14]+4259657740&4294967295,D=V+(C<<23&4294967295|C>>>9),C=R+(D^V^I)+L[1]+2763975236&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^V)+L[4]+1272893353&4294967295,I=R+(C<<11&4294967295|C>>>21),C=V+(I^R^D)+L[7]+4139469664&4294967295,V=I+(C<<16&4294967295|C>>>16),C=D+(V^I^R)+L[10]+3200236656&4294967295,D=V+(C<<23&4294967295|C>>>9),C=R+(D^V^I)+L[13]+681279174&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^V)+L[0]+3936430074&4294967295,I=R+(C<<11&4294967295|C>>>21),C=V+(I^R^D)+L[3]+3572445317&4294967295,V=I+(C<<16&4294967295|C>>>16),C=D+(V^I^R)+L[6]+76029189&4294967295,D=V+(C<<23&4294967295|C>>>9),C=R+(D^V^I)+L[9]+3654602809&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^V)+L[12]+3873151461&4294967295,I=R+(C<<11&4294967295|C>>>21),C=V+(I^R^D)+L[15]+530742520&4294967295,V=I+(C<<16&4294967295|C>>>16),C=D+(V^I^R)+L[2]+3299628645&4294967295,D=V+(C<<23&4294967295|C>>>9),C=R+(V^(D|~I))+L[0]+4096336452&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~V))+L[7]+1126891415&4294967295,I=R+(C<<10&4294967295|C>>>22),C=V+(R^(I|~D))+L[14]+2878612391&4294967295,V=I+(C<<15&4294967295|C>>>17),C=D+(I^(V|~R))+L[5]+4237533241&4294967295,D=V+(C<<21&4294967295|C>>>11),C=R+(V^(D|~I))+L[12]+1700485571&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~V))+L[3]+2399980690&4294967295,I=R+(C<<10&4294967295|C>>>22),C=V+(R^(I|~D))+L[10]+4293915773&4294967295,V=I+(C<<15&4294967295|C>>>17),C=D+(I^(V|~R))+L[1]+2240044497&4294967295,D=V+(C<<21&4294967295|C>>>11),C=R+(V^(D|~I))+L[8]+1873313359&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~V))+L[15]+4264355552&4294967295,I=R+(C<<10&4294967295|C>>>22),C=V+(R^(I|~D))+L[6]+2734768916&4294967295,V=I+(C<<15&4294967295|C>>>17),C=D+(I^(V|~R))+L[13]+1309151649&4294967295,D=V+(C<<21&4294967295|C>>>11),C=R+(V^(D|~I))+L[4]+4149444226&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~V))+L[11]+3174756917&4294967295,I=R+(C<<10&4294967295|C>>>22),C=V+(R^(I|~D))+L[2]+718787259&4294967295,V=I+(C<<15&4294967295|C>>>17),C=D+(I^(V|~R))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+I&4294967295}i.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var D=R-this.blockSize,L=this.B,V=this.h,I=0;I<R;){if(V==0)for(;I<=D;)a(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<R;)if(L[V++]=k.charCodeAt(I++),V==this.blockSize){a(this,L),V=0;break}}else for(;I<R;)if(L[V++]=k[I++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var D=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=D&255,D/=256;for(this.u(k),k=Array(16),R=D=0;4>R;++R)for(var L=0;32>L;L+=8)k[D++]=this.g[R]>>>L&255;return k};function l(k,R){var D=d;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=R(k)}function c(k,R){this.h=R;for(var D=[],L=!0,V=k.length-1;0<=V;V--){var I=k[V]|0;L&&I==R||(D[V]=I,L=!1)}this.g=D}var d={};function p(k){return-128<=k&&128>k?l(k,function(R){return new c([R|0],0>R?-1:0)}):new c([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return P(g(-k));for(var R=[],D=1,L=0;k>=D;L++)R[L]=k/D|0,D*=4294967296;return new c(R,0)}function _(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return P(_(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),L=b,V=0;V<k.length;V+=8){var I=Math.min(8,k.length-V),C=parseInt(k.substring(V,V+I),R);8>I?(I=g(Math.pow(R,I)),L=L.j(I).add(g(C))):(L=L.j(D),L=L.add(g(C)))}return L}var b=p(0),w=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(F(this))return-P(this).m();for(var k=0,R=1,D=0;D<this.g.length;D++){var L=this.i(D);k+=(0<=L?L:4294967296+L)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(F(this))return"-"+P(this).toString(k);for(var R=g(Math.pow(k,6)),D=this,L="";;){var V=q(D,R).g;D=M(D,V.j(R));var I=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=V,O(D))return I+L;for(;6>I.length;)I="0"+I;L=I+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function F(k){return k.h==-1}n.l=function(k){return k=M(this,k),F(k)?-1:O(k)?0:1};function P(k){for(var R=k.g.length,D=[],L=0;L<R;L++)D[L]=~k.g[L];return new c(D,~k.h).add(w)}n.abs=function(){return F(this)?P(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],L=0,V=0;V<=R;V++){var I=L+(this.i(V)&65535)+(k.i(V)&65535),C=(I>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);L=C>>>16,I&=65535,C&=65535,D[V]=C<<16|I}return new c(D,D[D.length-1]&-2147483648?-1:0)};function M(k,R){return k.add(P(R))}n.j=function(k){if(O(this)||O(k))return b;if(F(this))return F(k)?P(this).j(P(k)):P(P(this).j(k));if(F(k))return P(this.j(P(k)));if(0>this.l(N)&&0>k.l(N))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,D=[],L=0;L<2*R;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<k.g.length;V++){var I=this.i(L)>>>16,C=this.i(L)&65535,ge=k.i(V)>>>16,Ce=k.i(V)&65535;D[2*L+2*V]+=C*Ce,U(D,2*L+2*V),D[2*L+2*V+1]+=I*Ce,U(D,2*L+2*V+1),D[2*L+2*V+1]+=C*ge,U(D,2*L+2*V+1),D[2*L+2*V+2]+=I*ge,U(D,2*L+2*V+2)}for(L=0;L<R;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=R;L<2*R;L++)D[L]=0;return new c(D,0)};function U(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function Y(k,R){this.g=k,this.h=R}function q(k,R){if(O(R))throw Error("division by zero");if(O(k))return new Y(b,b);if(F(k))return R=q(P(k),R),new Y(P(R.g),P(R.h));if(F(R))return R=q(k,P(R)),new Y(P(R.g),R.h);if(30<k.g.length){if(F(k)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var D=w,L=R;0>=L.l(k);)D=H(D),L=H(L);var V=se(D,1),I=se(L,1);for(L=se(L,2),D=se(D,2);!O(L);){var C=I.add(L);0>=C.l(k)&&(V=V.add(D),I=C),L=se(L,1),D=se(D,1)}return R=M(k,V.j(R)),new Y(V,R)}for(V=b;0<=k.l(R);){for(D=Math.max(1,Math.floor(k.m()/R.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),I=g(D),C=I.j(R);F(C)||0<C.l(k);)D-=L,I=g(D),C=I.j(R);O(I)&&(I=w),V=V.add(I),k=M(k,C)}return new Y(V,k)}n.A=function(k){return q(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],L=0;L<R;L++)D[L]=this.i(L)&k.i(L);return new c(D,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],L=0;L<R;L++)D[L]=this.i(L)|k.i(L);return new c(D,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],L=0;L<R;L++)D[L]=this.i(L)^k.i(L);return new c(D,this.h^k.h)};function H(k){for(var R=k.g.length+1,D=[],L=0;L<R;L++)D[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(D,k.h)}function se(k,R){var D=R>>5;R%=32;for(var L=k.g.length-D,V=[],I=0;I<L;I++)V[I]=0<R?k.i(I+D)>>>R|k.i(I+D+1)<<32-R:k.i(I+D);return new c(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,rS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,qs=c}).apply(typeof fb<"u"?fb:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iS,Fu,sS,vf,mg,aS,oS,lS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var E=i;h=h.split(".");for(var x=0;x<h.length-1;x++){var X=h[x];if(!(X in E))break e;E=E[X]}h=h[h.length-1],x=E[h],y=y(x),y!=x&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,x=!1,X={next:function(){if(!x&&E<h.length){var ie=E++;return{value:y(ie,h[ie]),done:!1}}return x=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,E){return h.call.apply(h.bind,arguments)}function b(h,y,E){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,x),h.apply(y,X)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,w.apply(null,arguments)}function N(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function O(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(x,X,ie){for(var me=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)me[Xe-2]=arguments[Xe];return y.prototype[X].apply(x,me)}}function F(h){const y=h.length;if(0<y){const E=Array(y);for(let x=0;x<y;x++)E[x]=h[x];return E}return[]}function P(h,y){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(p(x)){const X=h.length||0,ie=x.length||0;h.length=X+ie;for(let me=0;me<ie;me++)h[X+me]=x[me]}else h.push(x)}}class M{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function q(h){return q[" "](h),h}q[" "]=function(){};var H=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function se(h,y,E){for(const x in h)y.call(E,h[x],x,h)}function k(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function R(h){const y={};for(const E in h)y[E]=h[E];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,y){let E,x;for(let X=1;X<arguments.length;X++){x=arguments[X];for(E in x)h[E]=x[E];for(let ie=0;ie<D.length;ie++)E=D[ie],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function V(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function I(h){d.setTimeout(()=>{throw h},0)}function C(){var h=Ne;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ge{constructor(){this.h=this.g=null}add(y,E){const x=Ce.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var Ce=new M(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,be=!1,Ne=new ge,A=()=>{const h=d.Promise.resolve(void 0);he=()=>{h.then($)}};var $=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){I(E)}var y=Ce;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}be=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return h}();function _e(h,y){if(Z.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(H){e:{try{q(y.nodeName);var X=!0;break e}catch{}X=!1}X||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&_e.aa.h.call(this)}}O(_e,Z);var Se={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),He=0;function Pt(h,y,E,x,X){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=X,this.key=++He,this.da=this.fa=!1}function En(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fr(h){this.src=h,this.g={},this.h=0}fr.prototype.add=function(h,y,E,x,X){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var me=li(h,y,x,X);return-1<me?(y=h[me],E||(y.fa=!1)):(y=new Pt(y,this.src,ie,!!x,X),y.fa=E,h.push(y)),y};function Rr(h,y){var E=y.type;if(E in h.g){var x=h.g[E],X=Array.prototype.indexOf.call(x,y,void 0),ie;(ie=0<=X)&&Array.prototype.splice.call(x,X,1),ie&&(En(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function li(h,y,E,x){for(var X=0;X<h.length;++X){var ie=h[X];if(!ie.da&&ie.listener==y&&ie.capture==!!E&&ie.ha==x)return X}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),es={};function ro(h,y,E,x,X){if(Array.isArray(y)){for(var ie=0;ie<y.length;ie++)ro(h,y[ie],E,x,X);return null}return E=pe(E),h&&h[De]?h.K(y,E,g(x)?!!x.capture:!1,X):Cn(h,y,E,!1,x,X)}function Cn(h,y,E,x,X,ie){if(!y)throw Error("Invalid event type");var me=g(X)?!!X.capture:!!X,Xe=Ee(h);if(Xe||(h[Cr]=Xe=new fr(h)),E=Xe.add(y,E,x,me,ie),E.proxy)return E;if(x=kc(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)ce||(X=me),X===void 0&&(X=!1),h.addEventListener(y.toString(),x,X);else if(h.attachEvent)h.attachEvent(te(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function kc(){function h(E){return y.call(h.src,h.listener,E)}const y=ae;return h}function ts(h,y,E,x,X){if(Array.isArray(y))for(var ie=0;ie<y.length;ie++)ts(h,y[ie],E,x,X);else x=g(x)?!!x.capture:!!x,E=pe(E),h&&h[De]?(h=h.i,y=String(y).toString(),y in h.g&&(ie=h.g[y],E=li(ie,E,x,X),-1<E&&(En(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ee(h))&&(y=h.g[y.toString()],h=-1,y&&(h=li(y,E,x,X)),(E=-1<h?y[h]:null)&&z(E))}function z(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[De])Rr(y.i,h);else{var E=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(E,x,h.capture):y.detachEvent?y.detachEvent(te(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=Ee(y))?(Rr(E,h),E.h==0&&(E.src=null,y[Cr]=null)):En(h)}}}function te(h){return h in es?es[h]:es[h]="on"+h}function ae(h,y){if(h.da)h=!0;else{y=new _e(y,this);var E=h.listener,x=h.ha||h.src;h.fa&&z(h),h=E.call(x,y)}return h}function Ee(h){return h=h[Cr],h instanceof fr?h:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(h){return typeof h=="function"?h:(h[ye]||(h[ye]=function(y){return h.handleEvent(y)}),h[ye])}function ve(){G.call(this),this.i=new fr(this),this.M=this,this.F=null}O(ve,G),ve.prototype[De]=!0,ve.prototype.removeEventListener=function(h,y,E,x){ts(this,h,y,E,x)};function Re(h,y){var E,x=h.F;if(x)for(E=[];x;x=x.F)E.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new Z(y,h);else if(y instanceof Z)y.target=y.target||h;else{var X=y;y=new Z(x,h),L(y,X)}if(X=!0,E)for(var ie=E.length-1;0<=ie;ie--){var me=y.g=E[ie];X=ze(me,x,!0,y)&&X}if(me=y.g=h,X=ze(me,x,!0,y)&&X,X=ze(me,x,!1,y)&&X,E)for(ie=0;ie<E.length;ie++)me=y.g=E[ie],X=ze(me,x,!1,y)&&X}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],x=0;x<E.length;x++)En(E[x]);delete h.g[y],h.h--}}this.F=null},ve.prototype.K=function(h,y,E,x){return this.i.add(String(h),y,!1,E,x)},ve.prototype.L=function(h,y,E,x){return this.i.add(String(h),y,!0,E,x)};function ze(h,y,E,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var X=!0,ie=0;ie<y.length;++ie){var me=y[ie];if(me&&!me.da&&me.capture==E){var Xe=me.listener,$t=me.ha||me.src;me.fa&&Rr(h.i,me),X=Xe.call($t,x)!==!1&&X}}return X&&!x.defaultPrevented}function it(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function ui(h){h.g=it(()=>{h.g=null,h.i&&(h.i=!1,ui(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Wn extends G{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(h){G.call(this),this.h=h,this.g={}}O(ci,G);var dr=[];function pr(h){se(h.g,function(y,E){this.g.hasOwnProperty(E)&&z(y)},h),h.g={}}ci.prototype.N=function(){ci.aa.N.call(this),pr(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=d.JSON.stringify,hi=d.JSON.parse,fi=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ns(){}ns.prototype.h=null;function Rl(h){return h.h||(h.h=h.i())}function Cl(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){Z.call(this,"d")}O(pi,Z);function Il(){Z.call(this,"c")}O(Il,Z);var Ir={},Dl=null;function rs(){return Dl=Dl||new ve}Ir.La="serverreachability";function io(h){Z.call(this,Ir.La,h)}O(io,Z);function is(h){const y=rs();Re(y,new io(y))}Ir.STAT_EVENT="statevent";function Nc(h,y){Z.call(this,Ir.STAT_EVENT,h),this.stat=y}O(Nc,Z);function yt(h){const y=rs();Re(y,new Nc(y,h))}Ir.Ma="timingevent";function Ht(h,y){Z.call(this,Ir.Ma,h),this.size=y}O(Ht,Z);function Mt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function kl(h,y,E,x,X,ie){h.info(function(){if(h.g)if(ie)for(var me="",Xe=ie.split("&"),$t=0;$t<Xe.length;$t++){var We=Xe[$t].split("=");if(1<We.length){var Wt=We[0];We=We[1];var Gt=Wt.split("_");me=2<=Gt.length&&Gt[1]=="type"?me+(Wt+"="+We+"&"):me+(Wt+"=redacted&")}}else me=null;else me=ie;return"XMLHTTP REQ ("+x+") [attempt "+X+"]: "+y+`
`+E+`
`+me})}function kd(h,y,E,x,X,ie,me){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+X+"]: "+y+`
`+E+`
`+ie+" "+me})}function ss(h,y,E,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ua(h,E)+(x?" "+x:"")})}function Oc(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function ua(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var x=E[h];if(!(2>x.length)){var X=x[1];if(Array.isArray(X)&&!(1>X.length)){var ie=X[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var me=1;me<X.length;me++)X[me]=""}}}}return Ln(E)}catch{return y}}var as={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function kr(){}O(kr,ns),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Dr=new kr;function bn(h,y,E,x){this.j=h,this.i=y,this.l=E,this.R=x||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var Nl={},so={};function mr(h,y,E){h.L=1,h.v=pa(jn(y)),h.m=E,h.P=!0,gi(h,null)}function gi(h,y){h.F=Date.now(),ca(h),h.A=jn(h.v);var E=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),Ll(E.i,"t",x),h.C=0,E=h.j.J,h.h=new Rt,h.g=Qc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Wn(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,x=h.ca;var X="readystatechange";Array.isArray(X)||(X&&(dr[0]=X.toString()),X=dr);for(var ie=0;ie<X.length;ie++){var me=ro(E,X[ie],x||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),is(),kl(h.i,h.u,h.A,h.l,h.R,h.m)}bn.prototype.ca=function(h){h=h.target;const y=this.M;y&&nr(h)==3?y.j():this.Y(h)},bn.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=nr(this.g);var y=this.g.Ba();const Si=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=Si?is(3):is(2)),os(this);var E=this.g.Z();this.X=E;t:if(Pc(this)){var x=zc(this.g);h="";var X=x.length,ie=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Nr(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<X;y++)this.h.h=!0,h+=this.h.i.decode(x[y],{stream:!(ie&&y==X-1)});x.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,kd(this.i,this.u,this.A,this.l,this.R,Gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,$t=this.g;if((Xe=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Xe)){var We=Xe;break t}}We=null}if(E=We)ss(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ha(this,E);else{this.o=!1,this.s=3,yt(12),rn(this),Nr(this);break e}}if(this.P){E=!0;let sn;for(;!this.J&&this.C<me.length;)if(sn=Mc(this,me),sn==so){Gt==4&&(this.s=4,yt(14),E=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Nl){this.s=4,yt(15),ss(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else ss(this.i,this.l,sn,null),ha(this,sn);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||me.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)ss(this.i,this.l,me,"[Invalid Chunked Response]"),rn(this),Nr(this);else if(0<me.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Ta(Wt),Wt.M=!0,yt(11))}}else ss(this.i,this.l,me,null),ha(this,me);Gt==4&&rn(this),this.o&&!this.J&&(Gt==4?Gc(this.j,this):(this.o=!1,ca(this)))}else Vd(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),rn(this),Nr(this)}}}catch{}finally{}};function Pc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Mc(h,y){var E=h.C,x=y.indexOf(`
`,E);return x==-1?so:(E=Number(y.substring(E,x)),isNaN(E)?Nl:(x+=1,x+E>y.length?so:(y=y.slice(x,x+E),h.C=x+E,y)))}bn.prototype.cancel=function(){this.J=!0,rn(this)};function ca(h){h.S=Date.now()+h.I,Vc(h,h.I)}function Vc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Mt(w(h.ba,h),y)}function os(h){h.B&&(d.clearTimeout(h.B),h.B=null)}bn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Oc(this.i,this.A),this.L!=2&&(is(),yt(17)),rn(this),this.s=2,Nr(this)):Vc(this,this.S-h)};function Nr(h){h.j.G==0||h.J||Gc(h.j,h)}function rn(h){os(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,pr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function ha(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Ol(E.h,h))){if(!h.K&&Ol(E.h,h)&&E.G==3){try{var x=E.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var X=x;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)_o(E),go(E);else break e;ql(E),yt(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=Mt(w(E.Za,E),6e3));if(1>=oo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else wi(E,11)}else if((h.K||E.g==h)&&_o(E),!U(y))for(X=E.Da.g.parse(y),y=0;y<X.length;y++){let We=X[y];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const Wt=We[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Gt=We[4];Gt!=null&&(E.Aa=Gt,E.j.info("SVER="+E.Aa));const Si=We[5];Si!=null&&typeof Si=="number"&&0<Si&&(x=1.5*Si,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const sn=h.g;if(sn){const jr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var ie=x.h;ie.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(lo(ie,ie.h),ie.h=null))}if(x.D){const $l=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(x.ya=$l,ot(x.I,x.D,$l))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var me=h;if(x.qa=Kc(x,x.J?x.ia:null,x.W),me.K){Tn(x.h,me);var Xe=me,$t=x.L;$t&&(Xe.I=$t),Xe.B&&(os(Xe),ca(Xe)),x.g=me}else Hc(x);0<E.i.length&&yo(E)}else We[0]!="stop"&&We[0]!="close"||wi(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?wi(E,7):zl(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}is(4)}catch{}}var Uc=class{constructor(h,y){this.g=h,this.map=y}};function yi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ao(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function oo(h){return h.h?1:h.g?h.g.size:0}function Ol(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function lo(h,y){h.g?h.g.add(y):h.h=y}function Tn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}yi.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return F(h.i)}function Nd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,x=0;x<E;x++)y.push(h[x]);return y}y=[],E=0;for(x in h)y[E++]=h[x];return y}function uo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const x in h)y[E++]=x;return y}}}function Ml(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=uo(h),x=Nd(h),X=x.length,ie=0;ie<X;ie++)y.call(void 0,x[ie],E&&E[ie],h)}var fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var x=h[E].indexOf("="),X=null;if(0<=x){var ie=h[E].substring(0,x);X=h[E].substring(x+1)}else ie=h[E];y(ie,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Vt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Vt){this.h=h.h,da(this,h.j),this.o=h.o,this.g=h.g,ls(this,h.s),this.l=h.l;var y=h.i,E=new vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),_i(this,E),this.m=h.m}else h&&(y=String(h).match(fa))?(this.h=!1,da(this,y[1]||"",!0),this.o=Jn(y[2]||""),this.g=Jn(y[3]||"",!0),ls(this,y[4]),this.l=Jn(y[5]||"",!0),_i(this,y[6]||"",!0),this.m=Jn(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Vt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ma(y,Vl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ma(y,Vl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ma(E,E.charAt(0)=="/"?Pd:Ul,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ma(E,co)),h.join("")};function jn(h){return new Vt(h)}function da(h,y,E){h.j=E?Jn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ls(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function _i(h,y,E){y instanceof vi?(h.i=y,jc(h.i,h.h)):(E||(y=ma(y,Md)),h.i=new vi(y,h.h))}function ot(h,y,E){h.i.set(y,E)}function pa(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Jn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ma(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Lc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Lc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Vl=/[#\/\?@]/g,Ul=/[#\?:]/g,Pd=/[#\?]/g,Md=/[#\?@]/g,co=/#/g;function vi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function er(h){h.g||(h.g=new Map,h.h=0,h.i&&Od(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=vi.prototype,n.add=function(h,y){er(this),this.i=null,h=Or(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Ei(h,y){er(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function bi(h,y){return er(h),y=Or(h,y),h.g.has(y)}n.forEach=function(h,y){er(this),this.g.forEach(function(E,x){E.forEach(function(X){h.call(y,X,x,this)},this)},this)},n.na=function(){er(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let x=0;x<y.length;x++){const X=h[x];for(let ie=0;ie<X.length;ie++)E.push(y[x])}return E},n.V=function(h){er(this);let y=[];if(typeof h=="string")bi(this,h)&&(y=y.concat(this.g.get(Or(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},n.set=function(h,y){return er(this),this.i=null,h=Or(this,h),bi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Ll(h,y,E){Ei(h,y),0<E.length&&(h.i=null,h.g.set(Or(h,y),F(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var x=y[E];const ie=encodeURIComponent(String(x)),me=this.V(x);for(x=0;x<me.length;x++){var X=ie;me[x]!==""&&(X+="="+encodeURIComponent(String(me[x]))),h.push(X)}}return this.i=h.join("&")};function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function jc(h,y){y&&!h.j&&(er(h),h.i=null,h.g.forEach(function(E,x){var X=x.toLowerCase();x!=X&&(Ei(this,x),Ll(this,X,E))},h)),h.j=y}function ga(h,y){const E=new Zn;if(d.Image){const x=new Image;x.onload=N(tr,E,"TestLoadImage: loaded",!0,y,x),x.onerror=N(tr,E,"TestLoadImage: error",!1,y,x),x.onabort=N(tr,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=N(tr,E,"TestLoadImage: timeout",!1,y,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function gr(h,y){const E=new Zn,x=new AbortController,X=setTimeout(()=>{x.abort(),tr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(ie=>{clearTimeout(X),ie.ok?tr(E,"TestPingServer: ok",!0,y):tr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(X),tr(E,"TestPingServer: error",!1,y)})}function tr(h,y,E,x,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),x(E)}catch{}}function ya(){this.g=new fi}function Pr(h,y,E){const x=E||"";try{Ml(h,function(X,ie){let me=X;g(X)&&(me=Ln(X)),y.push(x+ie+"="+encodeURIComponent(me))})}catch(X){throw y.push(x+"type="+encodeURIComponent("_badmap")),X}}function us(h){this.l=h.Ub||null,this.j=h.eb||!1}O(us,ns),us.prototype.g=function(){return new Ti(this.l,this.j)},us.prototype.i=function(h){return function(){return h}}({});function Ti(h,y){ve.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ti,ve),n=Ti.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Vr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):Vr(this),this.readyState==3&&jl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},n.Qa=function(h){this.g&&(this.response=h,Mr(this))},n.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Vr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Vr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fl(h){let y="";return se(h,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function Xt(h,y,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=Fl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ot(h,y,E))}function nt(h){ve.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nt,ve);var ho=/^https?$/i,_a=["POST","PUT"];n=nt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Rl(this.o):Rl(Dr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ie){Fc(this,ie);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var X in x)E.set(X,x[X]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ie of x.keys())E.set(ie,x.get(ie));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(_a,y,void 0))||x||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,me]of E)this.g.setRequestHeader(ie,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Fc(this,ie)}};function Fc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,fo(h),Ur(h)}function fo(h){h.A||(h.A=!0,Re(h,"complete"),Re(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Re(this,"complete"),Re(this,"abort"),Ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},n.bb=function(){po(this)};function po(h){if(h.h&&typeof c<"u"&&(!h.v[1]||nr(h)!=4||h.Z()!=2)){if(h.u&&nr(h)==4)it(h.Ea,0,h);else if(Re(h,"readystatechange"),nr(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var x;if(x=me===0){var X=String(h.D).match(fa)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),x=!ho.test(X?X.toLowerCase():"")}E=x}if(E)Re(h,"complete"),Re(h,"success");else{h.m=6;try{var ie=2<nr(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",fo(h)}}finally{Ur(h)}}}}function Ur(h,y){if(h.g){va(h);const E=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Re(h,"ready");try{E.onreadystatechange=x}catch{}}}function va(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),hi(y)}};function zc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(h){const y={};h=(h.g&&2<=nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(U(h[x]))continue;var E=V(h[x]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=y[X]||[];y[X]=ie,ie.push(E)}k(y,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function mo(h){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,h),this.cb=Ea("retryDelaySeedMs",1e4,h),this.Wa=Ea("forwardChannelMaxRetries",2,h),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(h&&h.concurrentRequestLimit),this.Da=new ya,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=mo.prototype,n.la=8,n.G=1,n.connect=function(h,y,E,x){yt(0),this.W=h,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Kc(this,null,this.W),yo(this)};function zl(h){if(Bc(h),h.G==3){var y=h.U++,E=jn(h.I);if(ot(E,"SID",h.K),ot(E,"RID",y),ot(E,"TYPE","terminate"),ba(h,E),y=new bn(h,h.j,y),y.L=2,y.v=pa(jn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ca(y)}Yc(h)}function go(h){h.g&&(Ta(h),h.g.cancel(),h.g=null)}function Bc(h){go(h),h.u&&(d.clearTimeout(h.u),h.u=null),_o(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function yo(h){if(!ao(h.h)&&!h.s){h.s=!0;var y=h.Ga;he||A(),be||(he(),be=!0),Ne.add(y,h),h.B=0}}function Ud(h,y){return oo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Mt(w(h.Ga,h,y),Hl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const X=new bn(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=R(ie),L(ie,this.S)):ie=this.S),this.m!==null||this.O||(X.H=ie,ie=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=qc(this,X,y),E=jn(this.I),ot(E,"RID",h),ot(E,"CVER",22),this.D&&ot(E,"X-HTTP-Session-Id",this.D),ba(this,E),ie&&(this.O?y="headers="+encodeURIComponent(String(Fl(ie)))+"&"+y:this.m&&Xt(E,this.m,ie)),lo(this.h,X),this.Ua&&ot(E,"TYPE","init"),this.P?(ot(E,"$req",y),ot(E,"SID","null"),X.T=!0,mr(X,E,null)):mr(X,E,y),this.G=2}}else this.G==3&&(h?Bl(this,h):this.i.length==0||ao(this.h)||Bl(this))};function Bl(h,y){var E;y?E=y.l:E=h.U++;const x=jn(h.I);ot(x,"SID",h.K),ot(x,"RID",E),ot(x,"AID",h.T),ba(h,x),h.m&&h.o&&Xt(x,h.m,h.o),E=new bn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=qc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),lo(h.h,E),mr(E,x,y)}function ba(h,y){h.H&&se(h.H,function(E,x){ot(y,x,E)}),h.l&&Ml({},function(E,x){ot(y,x,E)})}function qc(h,y,E){E=Math.min(h.i.length,E);var x=h.l?w(h.l.Na,h.l,h):null;e:{var X=h.i;let ie=-1;for(;;){const me=["count="+E];ie==-1?0<E?(ie=X[0].g,me.push("ofs="+ie)):ie=0:me.push("ofs="+ie);let Xe=!0;for(let $t=0;$t<E;$t++){let We=X[$t].g;const Wt=X[$t].map;if(We-=ie,0>We)ie=Math.max(0,X[$t].g-100),Xe=!1;else try{Pr(Wt,me,"req"+We+"_")}catch{x&&x(Wt)}}if(Xe){x=me.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,x}function Hc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;he||A(),be||(he(),be=!0),Ne.add(y,h),h.v=0}}function ql(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Mt(w(h.Fa,h),Hl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Mt(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),go(this),$c(this))};function Ta(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function $c(h){h.g=new bn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=jn(h.qa);ot(y,"RID","rpc"),ot(y,"SID",h.K),ot(y,"AID",h.T),ot(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(y,"TO",h.ja),ot(y,"TYPE","xmlhttp"),ba(h,y),h.m&&h.o&&Xt(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=pa(jn(y)),E.m=null,E.P=!0,gi(E,h)}n.Za=function(){this.C!=null&&(this.C=null,go(this),ql(this),yt(19))};function _o(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Gc(h,y){var E=null;if(h.g==y){_o(h),Ta(h),h.g=null;var x=2}else if(Ol(h.h,y))E=y.D,Tn(h.h,y),x=1;else return;if(h.G!=0){if(y.o)if(x==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var X=h.B;x=rs(),Re(x,new Ht(x,E)),yo(h)}else Hc(h);else if(X=y.s,X==3||X==0&&0<y.X||!(x==1&&Ud(h,y)||x==2&&ql(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),X){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function Hl(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function wi(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),x=h.Xa;const X=!x;x=new Vt(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||da(x,"https"),pa(x),X?ga(x.toString(),E):gr(x.toString(),E)}else yt(2);h.G=0,h.l&&h.l.sa(y),Yc(h),Bc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Yc(h){if(h.G=0,h.ka=[],h.l){const y=Pl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function Kc(h,y,E){var x=E instanceof Vt?jn(E):new Vt(E);if(x.g!="")y&&(x.g=y+"."+x.g),ls(x,x.s);else{var X=d.location;x=X.protocol,y=y?y+"."+X.hostname:X.hostname,X=+X.port;var ie=new Vt(null);x&&da(ie,x),y&&(ie.g=y),X&&ls(ie,X),E&&(ie.l=E),x=ie}return E=h.D,y=h.ya,E&&y&&ot(x,E,y),ot(x,"VER",h.la),ba(h,x),x}function Qc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new nt(new us({eb:E})):new nt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vo(){}vo.prototype.g=function(h,y){return new wn(h,y)};function wn(h,y){ve.call(this),this.g=new mo(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!U(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Lr(this)}O(wn,ve),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){zl(this.g)},wn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ln(h),h=E);y.i.push(new Uc(y.Ya++,h)),y.G==3&&yo(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,wn.aa.N.call(this)};function Wc(h){pi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}O(Wc,pi);function Zc(){Il.call(this),this.status=1}O(Zc,Il);function Lr(h){this.g=h}O(Lr,Xc),Lr.prototype.ua=function(){Re(this.g,"a")},Lr.prototype.ta=function(h){Re(this.g,new Wc(h))},Lr.prototype.sa=function(h){Re(this.g,new Zc)},Lr.prototype.ra=function(){Re(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,lS=function(){return new vo},oS=function(){return rs()},aS=Ir,mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,vf=as,mi.COMPLETE="complete",sS=mi,Cl.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Fu=Cl,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,iS=nt}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const db="@firebase/firestore",pb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Yg("@firebase/firestore");function Zo(){return Ks.logLevel}function zk(n){Ks.setLogLevel(n)}function we(n,...e){if(Ks.logLevel<=Ke.DEBUG){const t=e.map(sy);Ks.debug(`Firestore (${vl}): ${n}`,...t)}}function Wi(n,...e){if(Ks.logLevel<=Ke.ERROR){const t=e.map(sy);Ks.error(`Firestore (${vl}): ${n}`,...t)}}function Qs(n,...e){if(Ks.logLevel<=Ke.WARN){const t=e.map(sy);Ks.warn(`Firestore (${vl}): ${n}`,...t)}}function sy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,uS(n,i,t)}function uS(n,e,t){let i=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Wi(i),new Error(i)}function rt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||uS(e,a,i)}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class qk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hk{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $i,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $i)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rt(typeof i.accessToken=="string",31837,{l:i}),new cS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class $k{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new $k(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const i=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Kk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function gg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return qe(i,a);{const l=hS(),c=Qk(l.encode(gb(n,t)),l.encode(gb(e,t)));return c!==0?c:qe(i,a)}}t+=i>65535?2:1}return qe(n.length,e.length)}function gb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Qk(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qe(n[t],e[t]);return qe(n.length,e.length)}function ul(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__name__";class $r{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ve(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=$r.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const i=$r.isNumericId(e),a=$r.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?$r.extractNumericId(e).compare($r.extractNumericId(t)):gg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class pt extends $r{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const Xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends $r{construct(e,t,i){return new fn(e,t,i)}static isValidIdentifier(e){return Xk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yb}static keyField(){return new fn([yb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(pt.fromString(e))}static fromName(e){return new ke(pt.fromString(e).popFirst(5))}static empty(){return new ke(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e,t){if(!t)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Wk(n,e,t,i){if(e===!0&&i===!0)throw new Te(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _b(n){if(!ke.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vb(n){if(ke.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ld(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function Xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ld(n);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n,e){const t={typeString:n};return e&&(t.value=e),t}function wc(n,e){if(!dS(n))throw new Te(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Te(ue.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,bb=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bb);return new mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Eb)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bb}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:qt("string",mt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new mt(0,0))}static max(){return new Le(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=-1;function Zk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(i===1e9?new mt(t+1,0):new mt(t,i));return new Xs(a,ke.empty(),e)}function Jk(n){return new Xs(n.readTime,n.key,ac)}class Xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Xs(Le.min(),ke.empty(),ac)}static max(){return new Xs(Le.max(),ke.empty(),ac)}}function eN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==tN)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(a=>a?de.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new de((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,t){return new de((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function rN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ud.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=-1;function cd(n){return n==null}function Uf(n){return n===0&&1/n==-1/0}function iN(n){return typeof n=="number"&&Number.isInteger(n)&&!Uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="";function sN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tb(e)),e=aN(n.get(t),e);return Tb(e)}function aN(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case pS:t+="";break;default:t+=l}}return t}function Tb(n){return n+pS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new cn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new Qt(fn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gS("Invalid base64 string: "+l):l}}(e);return new dn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=oN.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zs(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="server_timestamp",_S="__type__",vS="__previous_value__",ES="__local_write_time__";function ly(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[_S])===null||t===void 0?void 0:t.stringValue)===yS}function hd(n){const e=n.mapValue.fields[vS];return ly(e)?hd(e):e}function oc(n){const e=Ws(n.mapValue.fields[ES].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,i,a,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Lf="(default)";class lc{constructor(e,t){this.projectId=e,this.database=t||Lf}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__type__",uN="__max__",sf={mapValue:{}},TS="__vector__",jf="value";function Js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ly(n)?4:hN(n)?9007199254740991:cN(n)?10:11:Ve(28295,{value:n})}function ii(n,e){if(n===e)return!0;const t=Js(n);if(t!==Js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oc(n).isEqual(oc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ws(a.timestampValue),d=Ws(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Zs(a.bytesValue).isEqual(Zs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return kt(a.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return kt(a.integerValue)===kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=kt(a.doubleValue),d=kt(l.doubleValue);return c===d?Uf(c)===Uf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ul(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(wb(c)!==wb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ii(c[p],d[p])))return!1;return!0}(n,e);default:return Ve(52216,{left:n})}}function uc(n,e){return(n.values||[]).find(t=>ii(t,e))!==void 0}function cl(n,e){if(n===e)return 0;const t=Js(n),i=Js(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=kt(l.integerValue||l.doubleValue),p=kt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ab(n.timestampValue,e.timestampValue);case 4:return Ab(oc(n),oc(e));case 5:return gg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Zs(l),p=Zs(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=qe(d[g],p[g]);if(_!==0)return _}return qe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=qe(kt(l.latitude),kt(c.latitude));return d!==0?d:qe(kt(l.longitude),kt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,_;const b=l.fields||{},w=c.fields||{},N=(d=b[jf])===null||d===void 0?void 0:d.arrayValue,O=(p=w[jf])===null||p===void 0?void 0:p.arrayValue,F=qe(((g=N?.values)===null||g===void 0?void 0:g.length)||0,((_=O?.values)===null||_===void 0?void 0:_.length)||0);return F!==0?F:xb(N,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===sf.mapValue&&c===sf.mapValue)return 0;if(l===sf.mapValue)return 1;if(c===sf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const w=gg(p[b],_[b]);if(w!==0)return w;const N=cl(d[p[b]],g[_[b]]);if(N!==0)return N}return qe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ve(23264,{le:t})}}function Ab(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Ws(n),i=Ws(e),a=qe(t.seconds,i.seconds);return a!==0?a:qe(t.nanos,i.nanos)}function xb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=cl(t[a],i[a]);if(l)return l}return qe(t.length,i.length)}function hl(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ws(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=yg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${yg(t.fields[c])}`;return a+"}"}(n.mapValue):Ve(61005,{value:n})}function Ef(n){switch(Js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hd(n);return e?16+Ef(e):16;case 5:return 2*n.stringValue.length;case 6:return Zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Ef(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return oa(i.fields,(l,c)=>{a+=l.length+Ef(c)}),a}(n.mapValue);default:throw Ve(13486,{value:n})}}function Rb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _g(n){return!!n&&"integerValue"in n}function uy(n){return!!n&&"arrayValue"in n}function Cb(n){return!!n&&"nullValue"in n}function Ib(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function cN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bS])===null||t===void 0?void 0:t.stringValue)===TS}function Ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ku(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=fn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Ku(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){oa(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Un(Ku(this.value))}}function wS(n){const e=[];return oa(n.fields,(t,i)=>{const a=new fn([t]);if(bf(i)){const l=wS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Le.min(),Le.min(),Le.min(),Un.empty(),0)}static newFoundDocument(e,t,i,a){return new _n(e,1,t,Le.min(),i,a,0)}static newNoDocument(e,t){return new _n(e,2,t,Le.min(),Le.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Le.min(),Le.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.position=e,this.inclusive=t}}function Db(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=ke.comparator(ke.fromName(c.referenceValue),t.key):i=cl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function kb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function fN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class Bt extends SS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new pN(e,t,i):t==="array-contains"?new yN(e,i):t==="in"?new _N(e,i):t==="not-in"?new vN(e,i):t==="array-contains-any"?new EN(e,i):new Bt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new mN(e,i):new gN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cl(t,this.value)):t!==null&&Js(this.value)===Js(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends SS{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ar(e,t)}matches(e){return AS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function AS(n){return n.op==="and"}function xS(n){return dN(n)&&AS(n)}function dN(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function vg(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+hl(n.value);if(xS(n))return n.filters.map(e=>vg(e)).join(",");{const e=n.filters.map(t=>vg(t)).join(",");return`${n.op}(${e})`}}function RS(n,e){return n instanceof Bt?function(i,a){return a instanceof Bt&&i.op===a.op&&i.field.isEqual(a.field)&&ii(i.value,a.value)}(n,e):n instanceof Ar?function(i,a){return a instanceof Ar&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&RS(c,a.filters[d]),!0):!1}(n,e):void Ve(19439)}function CS(n){return n instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(CS).join(" ,")+"}"}(n):"Filter"}class pN extends Bt{constructor(e,t,i){super(e,t,i),this.key=ke.fromName(i.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class mN extends Bt{constructor(e,t){super(e,"in",t),this.keys=IS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gN extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=IS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function IS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ke.fromName(i.referenceValue))}class yN extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uy(t)&&uc(t.arrayValue,this.value)}}class _N extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uc(this.value.arrayValue,t)}}class vN extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uc(this.value.arrayValue,t)}}class EN extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>uc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function Nb(n,e=null,t=[],i=[],a=null,l=null,c=null){return new bN(n,e,t,i,a,l,c)}function cy(n){const e=je(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>hl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>hl(i)).join(",")),e.Pe=t}return e.Pe}function hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kb(n.startAt,e.startAt)&&kb(n.endAt,e.endAt)}function Eg(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function TN(n,e,t,i,a,l,c,d){return new Tl(n,e,t,i,a,l,c,d)}function fd(n){return new Tl(n)}function Ob(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DS(n){return n.collectionGroup!==null}function Qu(n){const e=je(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Qt(fn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new cc(l,i))}),t.has(fn.keyField().canonicalString())||e.Te.push(new cc(fn.keyField(),i))}return e.Te}function Jr(n){const e=je(n);return e.Ie||(e.Ie=wN(e,Qu(n))),e.Ie}function wN(n,e){if(n.limitType==="F")return Nb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new cc(a.field,l)});const t=n.endAt?new Ff(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ff(n.startAt.position,n.startAt.inclusive):null;return Nb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function bg(n,e){const t=n.filters.concat([e]);return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zf(n,e,t){return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dd(n,e){return hy(Jr(n),Jr(e))&&n.limitType===e.limitType}function kS(n){return`${cy(Jr(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>CS(a)).join(", ")}]`),cd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>hl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>hl(a)).join(",")),`Target(${i})`}(Jr(n))}; limitType=${n.limitType})`}function pd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ke.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Qu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=Db(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,Qu(i),a)||i.endAt&&!function(c,d,p){const g=Db(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,Qu(i),a))}(n,e)}function SN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NS(n){return(e,t)=>{let i=!1;for(const a of Qu(n)){const l=AN(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function AN(n,e,t){const i=n.field.isKeyField()?ke.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?cl(p,g):Ve(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return mS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Tt(ke.comparator);function Zi(){return xN}const OS=new Tt(ke.comparator);function zu(...n){let e=OS;for(const t of n)e=e.insert(t.key,t);return e}function PS(n){let e=OS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Fa(){return Xu()}function MS(){return Xu()}function Xu(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const RN=new Tt(ke.comparator),CN=new Qt(ke.comparator);function Qe(...n){let e=CN;for(const t of n)e=e.add(t);return e}const IN=new Qt(qe);function DN(){return IN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function VS(n){return{integerValue:""+n}}function US(n,e){return iN(e)?VS(e):fy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function kN(n,e,t){return n instanceof hc?function(a,l){const c={fields:{[_S]:{stringValue:yS},[ES]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ly(l)&&(l=hd(l)),l&&(c.fields[vS]=l),{mapValue:c}}(t,e):n instanceof fl?jS(n,e):n instanceof fc?FS(n,e):function(a,l){const c=LS(a,l),d=Pb(c)+Pb(a.Ee);return _g(c)&&_g(a.Ee)?VS(d):fy(a.serializer,d)}(n,e)}function NN(n,e,t){return n instanceof fl?jS(n,e):n instanceof fc?FS(n,e):t}function LS(n,e){return n instanceof dc?function(i){return _g(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class hc extends md{}class fl extends md{constructor(e){super(),this.elements=e}}function jS(n,e){const t=zS(e);for(const i of n.elements)t.some(a=>ii(a,i))||t.push(i);return{arrayValue:{values:t}}}class fc extends md{constructor(e){super(),this.elements=e}}function FS(n,e){let t=zS(e);for(const i of n.elements)t=t.filter(a=>!ii(a,i));return{arrayValue:{values:t}}}class dc extends md{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Pb(n){return kt(n.integerValue||n.doubleValue)}function zS(n){return uy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.field=e,this.transform=t}}function ON(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof fl&&a instanceof fl||i instanceof fc&&a instanceof fc?ul(i.elements,a.elements,ii):i instanceof dc&&a instanceof dc?ii(i.Ee,a.Ee):i instanceof hc&&a instanceof hc}(n.transform,e.transform)}class PN{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gd{}function BS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new HS(n.key,wr.none()):new Sc(n.key,n.data,wr.none());{const t=n.data,i=Un.empty();let a=new Qt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new la(n.key,i,new Kn(a.toArray()),wr.none())}}function MN(n,e,t){n instanceof Sc?function(a,l,c){const d=a.value.clone(),p=Vb(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof la?function(a,l,c){if(!Tf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Vb(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(qS(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Wu(n,e,t,i){return n instanceof Sc?function(l,c,d,p){if(!Tf(l.precondition,c))return d;const g=l.value.clone(),_=Ub(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof la?function(l,c,d,p){if(!Tf(l.precondition,c))return d;const g=Ub(l.fieldTransforms,p,c),_=c.data;return _.setAll(qS(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,d){return Tf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function VN(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=LS(i.transform,a||null);l!=null&&(t===null&&(t=Un.empty()),t.set(i.field,l))}return t||null}function Mb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ul(i,a,(l,c)=>ON(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Sc extends gd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class la extends gd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vb(n,e,t){const i=new Map;rt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,NN(c,d,t[a]))}return i}function Ub(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,kN(l,c,e))}return i}class HS extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UN extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&MN(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=MS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=BS(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Le.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(t,i)=>Mb(t,i))&&ul(this.baseMutations,e.baseMutations,(t,i)=>Mb(t,i))}}class py{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){rt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let a=function(){return RN}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new py(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Je;function zN(n){switch(n){case ue.OK:return Ve(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function $S(n){if(n===void 0)return Wi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ft.OK:return ue.OK;case Ft.CANCELLED:return ue.CANCELLED;case Ft.UNKNOWN:return ue.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ue.INTERNAL;case Ft.UNAVAILABLE:return ue.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ue.NOT_FOUND;case Ft.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ft.ABORTED:return ue.ABORTED;case Ft.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ft.DATA_LOSS:return ue.DATA_LOSS;default:return Ve(39323,{code:n})}}(Je=Ft||(Ft={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new qs([4294967295,4294967295],0);function Lb(n){const e=hS().encode(n),t=new rS;return t.update(e),new Uint8Array(t.digest())}function jb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([t,i],0),new qs([a,l],0)]}class my{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bu(`Invalid padding: ${t}`);if(i<0)throw new Bu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=qs.fromNumber(this.fe)}pe(e,t,i){let a=e.add(t.multiply(qs.fromNumber(i)));return a.compare(BN)===1&&(a=new qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Lb(e),[i,a]=jb(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,a,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new my(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const t=Lb(e),[i,a]=jb(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,a,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yd(Le.min(),a,new Tt(qe),Zi(),Qe())}}class Ac{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ac(i,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=a}}class GS{constructor(e,t){this.targetId=e,this.De=t}}class YS{constructor(e,t,i=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Fb{constructor(){this.ve=0,this.Ce=zb(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Qe(),t=Qe(),i=Qe();return this.Ce.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ve(38017,{changeType:l})}}),new Ac(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=zb()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class qN{constructor(e){this.We=e,this.Ge=new Map,this.ze=Zi(),this.je=af(),this.Je=af(),this.He=new Tt(qe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,i=e.De.count,a=this.st(t);if(a){const l=a.target;if(Eg(l))if(i===0){const c=new ke(l.path);this.Xe(t,c,_n.newNoDocument(c,Le.min()))}else rt(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const d=this._t(e),p=d?this.ut(d,e,c):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Zs(i).toUint8Array()}catch(p){if(p instanceof gS)return Qs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new my(c,a,l)}catch(p){return Qs(p instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&Eg(d.target)){const p=new ke(d.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,_n.newNoDocument(p,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=Qe();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const a=new yd(e,t,this.He,this.ze,i);return this.ze=Zi(),this.je=af(),this.Je=af(),this.He=new Tt(qe),a}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Fb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Qt(qe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Qt(qe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Fb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function af(){return new Tt(ke.comparator)}function zb(){return new Tt(ke.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},$N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class YN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tg(n,e){return n.useProto3Json||cd(e)?e:{value:e}}function Bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KN(n,e){return Bf(n,e.toTimestamp())}function ei(n){return rt(!!n,49232),Le.fromTimestamp(function(t){const i=Ws(t);return new mt(i.seconds,i.nanos)}(n))}function gy(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=function(a){return new pt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function QS(n){const e=pt.fromString(n);return rt(eA(e),10190,{key:e.toString()}),e}function Sg(n,e){return gy(n.databaseId,e.path)}function Hm(n,e){const t=QS(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(WS(t))}function XS(n,e){return gy(n.databaseId,e)}function QN(n){const e=QS(n);return e.length===4?pt.emptyPath():WS(e)}function Ag(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WS(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Bb(n,e,t){return{name:Sg(n,e),fields:t.value.mapValue.fields}}function XN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(rt(_===void 0||typeof _=="string",58123),dn.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),dn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?ue.UNKNOWN:$S(g.code);return new Te(_,g.message||"")}(c);t=new YS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Hm(n,i.document.name),l=ei(i.document.updateTime),c=i.document.createTime?ei(i.document.createTime):Le.min(),d=new Un({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new wf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Hm(n,i.document),l=i.readTime?ei(i.readTime):Le.min(),c=_n.newNoDocument(a,l),d=i.removedTargetIds||[];t=new wf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Hm(n,i.document),l=i.removedTargetIds||[];t=new wf([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new FN(a,l),d=i.targetId;t=new GS(d,c)}}return t}function WN(n,e){let t;if(e instanceof Sc)t={update:Bb(n,e.key,e.value)};else if(e instanceof HS)t={delete:Sg(n,e.key)};else if(e instanceof la)t={update:Bb(n,e.key,e.data),updateMask:aO(e.fieldMask)};else{if(!(e instanceof UN))return Ve(16599,{Rt:e.type});t={verify:Sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof hc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dc)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Ve(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:KN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)}(n,e.precondition)),t}function ZN(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?ei(a.updateTime):ei(l);return c.isEqual(Le.min())&&(c=ei(l)),new PN(c,a.transformResults||[])}(t,e))):[]}function JN(n,e){return{documents:[XS(n,e.path)]}}function eO(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=XS(n,a);const l=function(g){if(g.length!==0)return JS(Ar.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:el(w.field),direction:rO(w.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Tg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:a}}function tO(n){let e=QN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){rt(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(b){const w=ZS(b);return w instanceof Ar&&xS(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(w=>function(O){return new cc(tl(O.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(b){let w;return w=typeof b=="object"?b.value:b,cd(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,N=b.values||[];return new Ff(N,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,N=b.values||[];return new Ff(N,w)}(t.endAt)),TN(e,a,c,l,d,"F",p,g)}function nO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=tl(t.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(t.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(t.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=tl(t.unaryFilter.field);return Bt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(n):n.fieldFilter!==void 0?function(t){return Bt.create(tl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(i=>ZS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(t.compositeFilter.op))}(n):Ve(30097,{filter:n})}function rO(n){return HN[n]}function iO(n){return $N[n]}function sO(n){return GN[n]}function el(n){return{fieldPath:n.canonicalString()}}function tl(n){return fn.fromServerFormat(n.fieldPath)}function JS(n){return n instanceof Bt?function(t){if(t.op==="=="){if(Ib(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NAN"}};if(Cb(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ib(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NAN"}};if(Cb(t.value))return{unaryFilter:{field:el(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(t.field),op:iO(t.op),value:t.value}}}(n):n instanceof Ar?function(t){const i=t.getFilters().map(a=>JS(a));return i.length===1?i[0]:{compositeFilter:{op:sO(t.op),filters:i}}}(n):Ve(54877,{filter:n})}function aO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,i,a,l=Le.min(),c=Le.min(),d=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.gt=e}}function lO(n){const e=tO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.Dn=new cO}addToCollectionParentIndex(e,t){return this.Dn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Xs.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class cO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Qt(pt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tA=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(tA,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new dl(0)}static ur(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="LruGarbageCollector",hO=1048576;function $b([n,e],[t,i]){const a=qe(n,t);return a===0?qe(e,i):a}class fO{constructor(e){this.Tr=e,this.buffer=new Qt($b),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$b(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){we(Hb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bl(t)?we(Hb,"Ignoring IndexedDB error during garbage collection: ",t):await El(t)}await this.Rr(3e5)})}}class pO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return de.resolve(ud.ue);const i=new fO(t);return this.Vr.forEachTarget(e,a=>i.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>i.Er(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(qb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Zo()<=Ke.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function mO(n,e){return new pO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Wu(i.mutation,a,Kn.empty(),mt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Qe()){const a=Fa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=zu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Fa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Qe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Zi();const c=Xu(),d=function(){return Xu()}();return t.forEach((p,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof la)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Wu(_.mutation,g,_.mutation.getFieldMask(),mt.now())):c.set(g.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var b;return d.set(g,new yO(_,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Xu();let a=new Tt((c,d)=>c-d),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||Kn.empty();_=d.applyToLocalView(g,_),i.set(p,_);const b=(a.get(d.batchId)||Qe()).add(p);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,b=MS();_.forEach(w=>{if(!l.has(w)){const N=BS(t.get(w),i.get(w));N!==null&&b.set(w,N),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):de.resolve(Fa());let d=ac,p=l;return c.next(g=>de.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(_)?de.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Qe())).next(_=>({batchId:d,changes:PS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(i=>{let a=zu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,l).next(d=>de.forEach(d,p=>{const g=function(b,w){return new Tl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(_=>{_.forEach((b,w)=>{c=c.insert(b,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,_n.newInvalidDocument(_)))});let d=zu();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&Wu(_.mutation,g,Kn.empty(),mt.now()),pd(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return de.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ei(a.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:lO(a.bundledQuery),readTime:ei(a.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.overlays=new Tt(ke.comparator),this.kr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fa();return de.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.wt(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.kr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const a=Fa(),l=t.length+1,c=new ke(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return de.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Tt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Fa(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Fa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return de.resolve(d)}wt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(i.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new jN(t,i));let l=this.kr.get(t);l===void 0&&(l=Qe(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.qr=new Qt(nn.Qr),this.$r=new Qt(nn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new nn(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new ke(new pt([])),i=new nn(t,e),a=new nn(t,e+1),l=[];return this.$r.forEachInRange([i,a],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ke(new pt([])),i=new nn(t,e),a=new nn(t,e+1);let l=Qe();return this.$r.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new nn(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ke.comparator(e.key,t.key)||qe(e.Hr,t.Hr)}static Ur(e,t){return qe(e.Hr,t.Hr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Qt(nn.Qr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new LN(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Yr=this.Yr.add(new nn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?oy:this.er-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),a=new nn(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,a],c=>{const d=this.Zr(c.Hr);l.push(d)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(qe);return t.forEach(a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{i=i.add(d.Hr)})}),de.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ke.isDocumentKey(l)||(l=l.child(""));const c=new nn(new ke(l),0);let d=new Qt(qe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)},c),de.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(i=>{const a=this.Zr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){rt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return de.forEach(t.mutations,a=>{const l=new nn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new nn(t,0),a=this.Yr.firstAfterOrEqual(i);return de.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.ni=e,this.docs=function(){return new Tt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Zi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Zi();const c=t.path,d=new ke(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||eN(Jk(_),i)<=0||(a.has(_.key)||pd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ve(9500)}ri(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new SO(this)}getSize(e){return de.resolve(this.size)}}class SO extends gO{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.persistence=e,this.ii=new eo(t=>cy(t),hy),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new yy,this.targetCount=0,this._i=dl.ar()}forEachTarget(e,t){return this.ii.forEach((i,a)=>t(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),de.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new dl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.hr(t),de.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),de.waitFor(l).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.ai={},this.overlays={},this.ui=new ud(0),this.ci=!1,this.ci=!0,this.li=new bO,this.referenceDelegate=e(this),this.hi=new AO(this),this.indexManager=new uO,this.remoteDocumentCache=function(a){return new wO(a)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new oO(t),this.Ti=new vO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new TO(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){we("MemoryPersistence","Starting transaction:",e);const a=new xO(this.ui.next());return this.referenceDelegate.Ii(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(e,t){return de.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class xO extends nN{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Ai=new yy,this.Ri=null}static Vi(e){return new _y(e)}get mi(){if(this.Ri)return this.Ri;throw Ve(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.mi,i=>{const a=ke.fromPath(i);return this.fi(e,a).next(l=>{l||t.removeEntry(a,Le.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return de.or([()=>de.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class qf{constructor(e,t){this.persistence=e,this.gi=new eo(i=>sN(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=mO(this,t)}static Vi(e,t){return new qf(e,t)}Ii(){}di(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return de.forEach(this.gi,(i,a)=>this.Sr(e,i,a).next(l=>l?de.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,c=>this.Sr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Le.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),de.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}Sr(e,t,i){return de.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return de.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=a}static Es(e,t){let i=Qe(),a=Qe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new vy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return lI()?8:rN(vn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new RO;return this.ws(e,t,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,c,d.size)})}).next(()=>l.result)}Ss(e,t,i,a){return i.documentReadCount<this.Vs?(Zo()<=Ke.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(Zo()<=Ke.DEBUG&&we("QueryEngine","Query:",Jo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.fs*a?(Zo()<=Ke.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):de.resolve())}ps(e,t){if(Ob(t))return de.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=zf(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Qe(...l);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,c,p.readTime)?this.ps(e,zf(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,i,a){return Ob(t)||a.isEqual(Le.min())?de.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,a)?de.resolve(null):(Zo()<=Ke.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(t)),this.vs(e,c,t,Zk(a,ac)).next(d=>d))})}bs(e,t){let i=new Qt(NS(e));return t.forEach((a,l)=>{pd(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,t,i){return Zo()<=Ke.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.gs.getDocumentsMatchingQuery(e,t,Xs.min(),i)}vs(e,t,i,a){return this.gs.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="LocalStore",IO=3e8;class DO{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new Tt(qe),this.Ms=new eo(l=>cy(l),hy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _O(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function kO(n,e,t,i){return new DO(n,e,t,i)}async function rA(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Qe();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:d}))})})}function NO(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const b=g.batch,w=b.keys();let N=de.resolve();return w.forEach(O=>{N=N.next(()=>_.getEntry(p,O)).next(F=>{const P=g.docVersions.get(O);rt(P!==null,48541),F.version.compareTo(P)<0&&(b.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),_.addEntry(F)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Qe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function iA(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function OO(n,e){const t=je(n),i=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const d=[];e.targetChanges.forEach((_,b)=>{const w=a.get(b);if(!w)return;d.push(t.hi.removeMatchingKeys(l,_.removedDocuments,b).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,b)));let N=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(dn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),a=a.insert(b,N),function(F,P,M){return F.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=IO?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,N,_)&&d.push(t.hi.updateTargetData(l,N))});let p=Zi(),g=Qe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(PO(l,c,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!i.isEqual(Le.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(b=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return de.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=a,l))}function PO(n,e,t){let i=Qe(),a=Qe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Zi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):we(Ey,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:c,ks:a}})}function MO(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=oy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function VO(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.hi.getTargetData(i,e).next(l=>l?(a=l,de.resolve(a)):t.hi.allocateTargetId(i).next(c=>(a=new js(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Fs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function xg(n,e,t){const i=je(n),a=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!bl(c))throw c;we(Ey,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(a.target)}function Gb(n,e,t){const i=je(n);let a=Le.min(),l=Qe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const b=je(p),w=b.Ms.get(_);return w!==void 0?de.resolve(b.Fs.get(w)):b.hi.getTargetData(g,_)}(i,c,Jr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:Le.min(),t?l:Qe())).next(d=>(UO(i,SN(e),d),{documents:d,qs:l})))}function UO(n,e,t){let i=n.xs.get(e)||Le.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class Yb{constructor(){this.activeTargetIds=DN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LO{constructor(){this.Fo=new Yb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Yb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class Qb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){we(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){we(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function Rg(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",FO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.Ko=this.databaseId.database===Lf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=Rg(),d=this.Go(e,t.toUriEncodedString());we($m,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,a,l);const{host:g}=new URL(d),_=ia(g);return this.jo(e,d,p,i,_).then(b=>(we($m,`Received RPC '${e}' ${c}: `,b),b),b=>{throw Qs($m,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b})}Jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}Go(e,t){const i=FO[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class qO extends zO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,a,l){const c=Rg();return new Promise((d,p)=>{const g=new iS;g.setWithCredentials(!0),g.listenOnce(sS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vf.NO_ERROR:const b=g.getResponseJson();we(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case vf.TIMEOUT:we(gn,`RPC '${e}' ${c} timed out`),p(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const w=g.getStatus();if(we(gn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const F=function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN}(O.status);p(new Te(F,O.message))}else p(new Te(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{we(gn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);we(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)})}P_(e,t,i){const a=Rg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=lS(),d=oS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");we(gn,`Creating RPC '${e}' stream ${a}: ${_}`,p);const b=c.createWebChannel(_,p);this.T_(b);let w=!1,N=!1;const O=new BO({Ho:P=>{N?we(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(we(gn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),we(gn,`RPC '${e}' stream ${a} sending:`,P),b.send(P))},Yo:()=>b.close()}),F=(P,M,U)=>{P.listen(M,Y=>{try{U(Y)}catch(q){setTimeout(()=>{throw q},0)}})};return F(b,Fu.EventType.OPEN,()=>{N||(we(gn,`RPC '${e}' stream ${a} transport opened.`),O.s_())}),F(b,Fu.EventType.CLOSE,()=>{N||(N=!0,we(gn,`RPC '${e}' stream ${a} transport closed`),O.__(),this.I_(b))}),F(b,Fu.EventType.ERROR,P=>{N||(N=!0,Qs(gn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),O.__(new Te(ue.UNAVAILABLE,"The operation could not be completed")))}),F(b,Fu.EventType.MESSAGE,P=>{var M;if(!N){const U=P.data[0];rt(!!U,16349);const Y=U,q=Y?.error||((M=Y[0])===null||M===void 0?void 0:M.error);if(q){we(gn,`RPC '${e}' stream ${a} received error:`,q);const H=q.status;let se=function(D){const L=Ft[D];if(L!==void 0)return $S(L)}(H),k=q.message;se===void 0&&(se=ue.INTERNAL,k="Unknown error status: "+H+" with message "+q.message),N=!0,O.__(new Te(se,k)),b.close()}else we(gn,`RPC '${e}' stream ${a} received:`,U),O.a_(U)}}),F(d,aS.STAT_EVENT,P=>{P.stat===mg.PROXY?we(gn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===mg.NOPROXY&&we(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n){return new YN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-i);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="PersistentStream";class aA{constructor(e,t,i,a,l,c,d,p){this.Fi=e,this.w_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.b_===t&&this.W_(i,a)},i=>{e(()=>{const a=new Te(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(a)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{i(()=>this.G_(a))}),this.stream.onMessage(a=>{i(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return we(Xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(we(Xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HO extends aA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=XN(this.serializer,e),i=function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?ei(c.readTime):Le.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Eg(p)?{documents:JN(l,p)}:{query:eO(l,p).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=KS(l,c.resumeToken);const g=Tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Le.min())>0){d.readTime=Bf(l,c.snapshotVersion.toTimestamp());const g=Tg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=nO(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.k_(t)}}class $O extends aA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=ZN(e.writeResults,e.commitTime),i=ei(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Ag(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>WN(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{}class YO extends GO{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,wg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ue.UNKNOWN,l.toString())})}Jo(e,t,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,wg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(ue.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class KO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Wi(t),this._a=!1):we("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class QO{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{to(this)&&(we(Xa,"Restarting streams for network reachability change."),await async function(p){const g=je(p);g.Ia.add(4),await xc(g),g.Aa.set("Unknown"),g.Ia.delete(4),await vd(g)}(this))})}),this.Aa=new KO(i,a)}}async function vd(n){if(to(n))for(const e of n.da)await e(!0)}async function xc(n){for(const e of n.da)await e(!1)}function oA(n,e){const t=je(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Sy(t)?wy(t):wl(t).x_()&&Ty(t,e))}function by(n,e){const t=je(n),i=wl(t);t.Ta.delete(e),i.x_()&&lA(t,e),t.Ta.size===0&&(i.x_()?i.B_():to(t)&&t.Aa.set("Unknown"))}function Ty(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(n).H_(e)}function lA(n,e){n.Ra.$e(e),wl(n).Y_(e)}function wy(n){n.Ra=new qN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.Aa.aa()}function Sy(n){return to(n)&&!wl(n).M_()&&n.Ta.size>0}function to(n){return je(n).Ia.size===0}function uA(n){n.Ra=void 0}async function XO(n){n.Aa.set("Online")}async function WO(n){n.Ta.forEach((e,t)=>{Ty(n,e)})}async function ZO(n,e){uA(n),Sy(n)?(n.Aa.la(e),wy(n)):n.Aa.set("Unknown")}async function JO(n,e,t){if(n.Aa.set("Online"),e instanceof YS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ta.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ta.delete(d),a.Ra.removeTarget(d))}(n,e)}catch(i){we(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Hf(n,i)}else if(e instanceof wf?n.Ra.Ye(e):e instanceof GS?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Le.min()))try{const i=await iA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ta.get(g);_&&l.Ta.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=l.Ta.get(p);if(!_)return;l.Ta.set(p,_.withResumeToken(dn.EMPTY_BYTE_STRING,_.snapshotVersion)),lA(l,p);const b=new js(_.target,p,g,_.sequenceNumber);Ty(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){we(Xa,"Failed to raise snapshot:",i),await Hf(n,i)}}async function Hf(n,e,t){if(!bl(e))throw e;n.Ia.add(1),await xc(n),n.Aa.set("Offline"),t||(t=()=>iA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Xa,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await vd(n)})}function cA(n,e){return e().catch(t=>Hf(n,t,e))}async function Ed(n){const e=je(n),t=ea(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:oy;for(;eP(e);)try{const a=await MO(e.localStore,i);if(a===null){e.Pa.length===0&&t.B_();break}i=a.batchId,tP(e,a)}catch(a){await Hf(e,a)}hA(e)&&fA(e)}function eP(n){return to(n)&&n.Pa.length<10}function tP(n,e){n.Pa.push(e);const t=ea(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function hA(n){return to(n)&&!ea(n).M_()&&n.Pa.length>0}function fA(n){ea(n).start()}async function nP(n){ea(n).na()}async function rP(n){const e=ea(n);for(const t of n.Pa)e.X_(t.mutations)}async function iP(n,e,t){const i=n.Pa.shift(),a=py.from(i,e,t);await cA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ed(n)}async function sP(n,e){e&&ea(n).Z_&&await async function(i,a){if(function(c){return zN(c)&&c!==ue.ABORTED}(a.code)){const l=i.Pa.shift();ea(i).N_(),await cA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ed(i)}}(n,e),hA(n)&&fA(n)}async function Wb(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),we(Xa,"RemoteStore received new credentials");const i=to(t);t.Ia.add(3),await xc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await vd(t)}async function aP(n,e){const t=je(n);e?(t.Ia.delete(2),await vd(t)):e||(t.Ia.add(2),await xc(t),t.Aa.set("Unknown"))}function wl(n){return n.Va||(n.Va=function(t,i,a){const l=je(t);return l.ia(),new HO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:XO.bind(null,n),e_:WO.bind(null,n),n_:ZO.bind(null,n),J_:JO.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Sy(n)?wy(n):n.Aa.set("Unknown")):(await n.Va.stop(),uA(n))})),n.Va}function ea(n){return n.ma||(n.ma=function(t,i,a){const l=je(t);return l.ia(),new $O(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:nP.bind(null,n),n_:sP.bind(null,n),ea:rP.bind(null,n),ta:iP.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Ed(n)):(await n.ma.stop(),n.Pa.length>0&&(we(Xa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Ay(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(Wi("AsyncQueue",`${e}: ${n}`),bl(n))return new Te(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ke.comparator(t.key,i.key):(t,i)=>ke.comparator(t.key,i.key),this.keyedMap=zu(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ll;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.fa=new Tt(ke.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ve(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class pl{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new pl(e,t,ll.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class lP{constructor(){this.queries=Jb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const a=je(t),l=a.queries;a.queries=Jb(),l.forEach((c,d)=>{for(const p of d.wa)p.onError(i)})})(this,new Te(ue.ABORTED,"Firestore shutting down"))}}function Jb(){return new eo(n=>kS(n),dd)}async function Ry(n,e){const t=je(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.ba()&&(i=2):(l=new oP,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(a,!0);break;case 1:l.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=xy(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Iy(t)}async function Cy(n,e){const t=je(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function uP(n,e){const t=je(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.wa)d.Ca(a)&&(i=!0);c.ya=a}}i&&Iy(t)}function cP(n,e,t){const i=je(n),a=i.queries.get(e);if(a)for(const l of a.wa)l.onError(t);i.queries.delete(e)}function Iy(n){n.Da.forEach(e=>{e.next()})}var Cg,eT;(eT=Cg||(Cg={})).Fa="default",eT.Cache="cache";class Dy{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new pl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.key=e}}class pA{constructor(e){this.key=e}}class hP{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Qe(),this.mutatedKeys=Qe(),this.Xa=NS(e),this.eu=new ll(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Zb,a=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,b)=>{const w=a.get(_),N=pd(this.query,b)?b:null,O=!!w&&this.mutatedKeys.has(w.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;w&&N?w.data.isEqual(N.data)?O!==F&&(i.track({type:3,doc:N}),P=!0):this.iu(w,N)||(i.track({type:2,doc:N}),P=!0,(p&&this.Xa(N,p)>0||g&&this.Xa(N,g)<0)&&(d=!0)):!w&&N?(i.track({type:0,doc:N}),P=!0):w&&!N&&(i.track({type:1,doc:w}),P=!0,(p||g)&&(d=!0)),P&&(N?(c=c.add(N),l=F?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((_,b)=>function(N,O){const F=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{At:P})}};return F(N)-F(O)}(_.type,b.type)||this.Xa(_.doc,b.doc)),this.su(i),a=a!=null&&a;const d=t&&!a?this.ou():[],p=this.Za.size===0&&this.current&&!a?1:0,g=p!==this.Ya;return this.Ya=p,c.length!==0||g?{snapshot:new pl(this.query,e.eu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Zb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Qe(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new pA(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new dA(i))}),t}uu(e){this.Ha=e.qs,this.Za=Qe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return pl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ky="SyncEngine";class fP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class dP{constructor(e){this.key=e,this.lu=!1}}class pP{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new eo(d=>kS(d),dd),this.Tu=new Map,this.Iu=new Set,this.du=new Tt(ke.comparator),this.Eu=new Map,this.Au=new yy,this.Ru={},this.Vu=new Map,this.mu=dl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function mP(n,e,t=!0){const i=EA(n);let a;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await mA(i,e,t,!0),a}async function gP(n,e){const t=EA(n);await mA(t,e,!0,!1)}async function mA(n,e,t,i){const a=await VO(n.localStore,Jr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await yP(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&oA(n.remoteStore,a),d}async function yP(n,e,t,i,a){n.gu=(b,w,N)=>async function(F,P,M,U){let Y=P.view.nu(M);Y.Ds&&(Y=await Gb(F.localStore,P.query,!1).then(({documents:k})=>P.view.nu(k,Y)));const q=U&&U.targetChanges.get(P.targetId),H=U&&U.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(Y,F.isPrimaryClient,q,H);return nT(F,P.targetId,se._u),se.snapshot}(n,b,w,N);const l=await Gb(n.localStore,e,!0),c=new hP(e,l.qs),d=c.nu(l.documents),p=Ac.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);nT(n,t,g._u);const _=new fP(e,t,c);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function _P(n,e,t){const i=je(n),a=i.Pu.get(e),l=i.Tu.get(a.targetId);if(l.length>1)return i.Tu.set(a.targetId,l.filter(c=>!dd(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await xg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&by(i.remoteStore,a.targetId),Ig(i,a.targetId)}).catch(El)):(Ig(i,a.targetId),await xg(i.localStore,a.targetId,!0))}async function vP(n,e){const t=je(n),i=t.Pu.get(e),a=t.Tu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),by(t.remoteStore,i.targetId))}async function EP(n,e,t){const i=RP(n);try{const a=await function(c,d){const p=je(c),g=mt.now(),_=d.reduce((N,O)=>N.add(O.key),Qe());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=Zi(),F=Qe();return p.Os.getEntries(N,_).next(P=>{O=P,O.forEach((M,U)=>{U.isValidDocument()||(F=F.add(M))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,O)).next(P=>{b=P;const M=[];for(const U of d){const Y=VN(U,b.get(U.key).overlayedDocument);Y!=null&&M.push(new la(U.key,Y,wS(Y.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,M,d)}).next(P=>{w=P;const M=P.applyToLocalDocumentSet(b,F);return p.documentOverlayCache.saveOverlays(N,P.batchId,M)})}).then(()=>({batchId:w.batchId,changes:PS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Ru[c.currentUser.toKey()];g||(g=new Tt(qe)),g=g.insert(d,p),c.Ru[c.currentUser.toKey()]=g}(i,a.batchId,t),await Rc(i,a.changes),await Ed(i.remoteStore)}catch(a){const l=xy(a,"Failed to persist write");t.reject(l)}}async function gA(n,e){const t=je(n);try{const i=await OO(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?rt(c.lu,14607):a.removedDocuments.size>0&&(rt(c.lu,42227),c.lu=!1))}),await Rc(t,i,e)}catch(i){await El(i)}}function tT(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Pu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=je(c);p.onlineState=d;let g=!1;p.queries.forEach((_,b)=>{for(const w of b.wa)w.va(d)&&(g=!0)}),g&&Iy(p)}(i.eventManager,e),a.length&&i.hu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bP(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Tt(ke.comparator);c=c.insert(l,_n.newNoDocument(l,Le.min()));const d=Qe().add(l),p=new yd(Le.min(),new Map,new Tt(qe),c,d);await gA(i,p),i.du=i.du.remove(l),i.Eu.delete(e),Ny(i)}else await xg(i.localStore,e,!1).then(()=>Ig(i,e,t)).catch(El)}async function TP(n,e){const t=je(n),i=e.batch.batchId;try{const a=await NO(t.localStore,e);_A(t,i,null),yA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Rc(t,a)}catch(a){await El(a)}}async function wP(n,e,t){const i=je(n);try{const a=await function(c,d){const p=je(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(rt(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);_A(i,e,t),yA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Rc(i,a)}catch(a){await El(a)}}function yA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function _A(n,e,t){const i=je(n);let a=i.Ru[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Ru[i.currentUser.toKey()]=a}}function Ig(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||vA(n,i)})}function vA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(by(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ny(n))}function nT(n,e,t){for(const i of t)i instanceof dA?(n.Au.addReference(i.key,e),SP(n,i)):i instanceof pA?(we(ky,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||vA(n,i.key)):Ve(19791,{yu:i})}function SP(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(we(ky,"New document in limbo: "+t),n.Iu.add(i),Ny(n))}function Ny(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ke(pt.fromString(e)),i=n.mu.next();n.Eu.set(i,new dP(t)),n.du=n.du.insert(t,i),oA(n.remoteStore,new js(Jr(fd(t.path)),i,"TargetPurposeLimboResolution",ud.ue))}}async function Rc(n,e,t){const i=je(n),a=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((d,p)=>{c.push(i.gu(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=vy.Es(p.targetId,g);l.push(b)}}))}),await Promise.all(c),i.hu.J_(a),await async function(p,g){const _=je(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>de.forEach(g,w=>de.forEach(w.Is,N=>_.persistence.referenceDelegate.addReference(b,w.targetId,N)).next(()=>de.forEach(w.ds,N=>_.persistence.referenceDelegate.removeReference(b,w.targetId,N)))))}catch(b){if(!bl(b))throw b;we(Ey,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const N=_.Fs.get(w),O=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion(O);_.Fs=_.Fs.insert(w,F)}}}(i.localStore,l))}async function AP(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){we(ky,"User change. New user:",e.toKey());const i=await rA(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new Te(ue.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Rc(t,i.Bs)}}function xP(n,e){const t=je(n),i=t.Eu.get(e);if(i&&i.lu)return Qe().add(i.key);{let a=Qe();const l=t.Tu.get(e);if(!l)return a;for(const c of l){const d=t.Pu.get(c);a=a.unionWith(d.view.tu)}return a}}function EA(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bP.bind(null,e),e.hu.J_=uP.bind(null,e.eventManager),e.hu.pu=cP.bind(null,e.eventManager),e}function RP(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wP.bind(null,e),e}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return kO(this.persistence,new CO,e.initialUser,this.serializer)}Du(e){return new nA(_y.Vi,this.serializer)}bu(e){return new LO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class CP extends $f{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){rt(this.persistence.referenceDelegate instanceof qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new dO(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new nA(i=>qf.Vi(i,t),this.serializer)}}class Dg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AP.bind(null,this.syncEngine),await aP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lP}()}createDatastore(e){const t=_d(e.databaseInfo.databaseId),i=function(l){return new qO(l)}(e.databaseInfo);return function(l,c,d,p){return new YO(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new QO(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>tT(this.syncEngine,t,0),function(){return Qb.C()?new Qb:new jO}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,_){const b=new pP(a,l,c,d,p,g);return _&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=je(a);we(Xa,"RemoteStore shutting down."),l.Ia.add(5),await xc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class IP{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{we(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(we(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=xy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ym(n,e){n.asyncQueue.verifyOperationInProgress(),we(ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await rA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>{Qs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{we("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Qs("Terminating Firestore due to IndexedDb database deletion failed",a)})}),n._offlineComponents=e}async function rT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DP(n);we(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Wb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Wb(e.remoteStore,a)),n._onlineComponents=e}async function DP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(ta,"Using user provided OfflineComponentProvider");try{await Ym(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Qs("Error using user provided cache. Falling back to memory cache: "+t),await Ym(n,new $f)}}else we(ta,"Using default OfflineComponentProvider"),await Ym(n,new CP(void 0));return n._offlineComponents}async function bA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(ta,"Using user provided OnlineComponentProvider"),await rT(n,n._uninitializedComponentsProvider._online)):(we(ta,"Using default OnlineComponentProvider"),await rT(n,new Dg))),n._onlineComponents}function kP(n){return bA(n).then(e=>e.syncEngine)}async function Gf(n){const e=await bA(n),t=e.eventManager;return t.onListen=mP.bind(null,e.syncEngine),t.onUnlisten=_P.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vP.bind(null,e.syncEngine),t}function NP(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new Oy({next:w=>{_.Ou(),c.enqueueAndForget(()=>Cy(l,b));const N=w.docs.has(d);!N&&w.fromCache?g.reject(new Te(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new Te(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Dy(fd(d.path),_,{includeMetadataChanges:!0,ka:!0});return Ry(l,b)}(await Gf(n),n.asyncQueue,e,t,i)),i.promise}function OP(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new Oy({next:w=>{_.Ou(),c.enqueueAndForget(()=>Cy(l,b)),w.fromCache&&p.source==="server"?g.reject(new Te(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Dy(d,_,{includeMetadataChanges:!0,ka:!0});return Ry(l,b)}(await Gf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firestore.googleapis.com",sT=!0;class aT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wA,this.ssl=sT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hO)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Bk;switch(i.type){case"firstParty":return new Gk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iT.get(t);i&&(we("ComponentProvider","Removing Datastore"),iT.delete(t),i.terminate())}(this),Promise.resolve()}}function SA(n,e,t,i={}){var a;n=Xn(n,bd);const l=ia(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&($g(`https://${p}`),Gg("Firestore",!0)),c.host!==wA&&c.host!==p&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Gs(g,d)&&(n._setSettings(g),i.mockUserToken)){let _,b;if(typeof i.mockUserToken=="string")_=i.mockUserToken,b=yn.MOCK_USER;else{_=mw(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Te(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(w)}n._authCredentials=new qk(new cS(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(wc(t,xt._jsonSchema))return new xt(e,i||null,new ke(pt.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:qt("string",xt._jsonSchemaVersion),referencePath:qt("string")};class Hs extends Ji{constructor(e,t,i){super(e,t,fd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ke(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function Td(n,e,...t){if(n=vt(n),fS("collection","path",e),n instanceof bd){const i=pt.fromString(e,...t);return vb(i),new Hs(n,null,i)}{if(!(n instanceof xt||n instanceof Hs))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return vb(i),new Hs(n.firestore,null,i)}}function hn(n,e,...t){if(n=vt(n),arguments.length===1&&(e=ay.newId()),fS("doc","path",e),n instanceof bd){const i=pt.fromString(e,...t);return _b(i),new xt(n,null,new ke(i))}{if(!(n instanceof xt||n instanceof Hs))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return _b(i),new xt(n.firestore,n instanceof Hs?n.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="AsyncQueue";class lT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sA(this,"async_queue_retry"),this.oc=()=>{const i=Gm();i&&we(oT,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new $i;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!bl(e))throw e;we(oT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Wi("INTERNAL UNHANDLED ERROR: ",uT(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=Ay.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&Ve(47125,{hc:uT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function uT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class na extends bd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new lT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lT(e),this._firestoreClient=void 0,await e}}}function PP(n,e){const t=typeof n=="object"?n:Qg(),i=typeof n=="string"?n:Lf,a=id(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=fw("firestore");l&&SA(a,...l)}return a}function wd(n){if(n._terminated)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MP(n),n._firestoreClient}function MP(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,g,_){return new lN(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,TA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new IP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(dn.fromBase64String(e))}catch(t){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hr(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:qt("string",hr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(wc(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:qt("string",ti._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ni(e.vectorValues);throw new Te(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:qt("string",ni._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=/^__.*__$/;class UP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}class AA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new la(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ec:n})}}class Ad{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:i,mc:!1});return a.fc(e),a}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:i,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Yf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(xA(this.Ec)&&VP.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class LP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_d(e)}Dc(e,t,i,a=!1){return new Ad({Ec:e,methodName:t,bc:i,path:fn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(n){const e=n._freezeSettings(),t=_d(n._databaseId);return new LP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RA(n,e,t,i,a,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,a);Uy("Data must be an object, but it was:",c,i);const d=CA(i,c);let p,g;if(l.merge)p=new Kn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const w=kg(e,b,t);if(!c.contains(w))throw new Te(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);DA(_,w)||_.push(w)}p=new Kn(_),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new UP(new Un(d),p,g)}class Rd extends Sl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function jP(n,e,t){return new Ad({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Py extends Sl{_toFieldTransform(e){return new dy(e.path,new hc)}isEqual(e){return e instanceof Py}}class My extends Sl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=jP(this,e,!0),i=this.vc.map(l=>Al(l,t)),a=new fl(i);return new dy(e.path,a)}isEqual(e){return e instanceof My&&Gs(this.vc,e.vc)}}class Vy extends Sl{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new dc(e.serializer,US(e.serializer,this.Cc));return new dy(e.path,t)}isEqual(e){return e instanceof Vy&&this.Cc===e.Cc}}function FP(n,e,t,i){const a=n.Dc(1,e,t);Uy("Data must be an object, but it was:",a,i);const l=[],c=Un.empty();oa(i,(p,g)=>{const _=Ly(e,p,t);g=vt(g);const b=a.gc(_);if(g instanceof Rd)l.push(_);else{const w=Al(g,b);w!=null&&(l.push(_),c.set(_,w))}});const d=new Kn(l);return new AA(c,d,a.fieldTransforms)}function zP(n,e,t,i,a,l){const c=n.Dc(1,e,t),d=[kg(e,i,t)],p=[a];if(l.length%2!=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(kg(e,l[w])),p.push(l[w+1]);const g=[],_=Un.empty();for(let w=d.length-1;w>=0;--w)if(!DA(g,d[w])){const N=d[w];let O=p[w];O=vt(O);const F=c.gc(N);if(O instanceof Rd)g.push(N);else{const P=Al(O,F);P!=null&&(g.push(N),_.set(N,P))}}const b=new Kn(g);return new AA(_,b,c.fieldTransforms)}function BP(n,e,t,i=!1){return Al(t,n.Dc(i?4:3,e))}function Al(n,e){if(IA(n=vt(n)))return Uy("Unsupported field value:",e,n),CA(n,e);if(n instanceof Sl)return function(i,a){if(!xA(a.Ec))throw a.wc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=Al(d,a.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=vt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return US(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=mt.fromDate(i);return{timestampValue:Bf(a.serializer,l)}}if(i instanceof mt){const l=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bf(a.serializer,l)}}if(i instanceof ti)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hr)return{bytesValue:KS(a.serializer,i._byteString)};if(i instanceof xt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ni)return function(c,d){return{mapValue:{fields:{[bS]:{stringValue:TS},[jf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return fy(d.serializer,g)})}}}}}}(i,a);throw a.wc(`Unsupported field value: ${ld(i)}`)}(n,e)}function CA(n,e){const t={};return mS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(n,(i,a)=>{const l=Al(a,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function IA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mt||n instanceof ti||n instanceof hr||n instanceof xt||n instanceof Sl||n instanceof ni)}function Uy(n,e,t){if(!IA(t)||!dS(t)){const i=ld(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function kg(n,e,t){if((e=vt(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Ly(n,e);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const qP=new RegExp("[~\\*/\\[\\]]");function Ly(n,e,t){if(e.search(qP)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sd(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Te(ue.INVALID_ARGUMENT,d+n+p)}function DA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HP extends kA{data(){return super.data()}}function jy(n,e){return typeof e=="string"?Ly(n,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fy{}class zy extends Fy{}function $P(n,e,...t){let i=[];e instanceof Fy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof qy).length,d=l.filter(p=>p instanceof By).length;if(c>1||c>0&&d>0)throw new Te(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class By extends zy{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new By(e,t,i)}_apply(e){const t=this._parse(e);return OA(e._query,t),new Ji(e.firestore,e.converter,bg(e._query,t))}_parse(e){const t=xd(e.firestore);return function(l,c,d,p,g,_,b){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){fT(b,_);const O=[];for(const F of b)O.push(hT(p,l,F));w={arrayValue:{values:O}}}else w=hT(p,l,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||fT(b,_),w=BP(d,c,b,_==="in"||_==="not-in");return Bt.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class qy extends Fy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)OA(c,p),c=bg(c,p)}(e._query,t),new Ji(e.firestore,e.converter,bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hy extends zy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hy(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(l,c)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Tl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function GP(n,e="asc"){const t=e,i=jy("orderBy",n);return Hy._create(i,t)}class $y extends zy{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new $y(e,t,i)}_apply(e){return new Ji(e.firestore,e.converter,zf(e._query,this._limit,this._limitType))}}function YP(n){return $y._create("limit",n,"F")}function hT(n,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new Te(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DS(e)&&t.indexOf("/")!==-1)throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pt.fromString(t));if(!ke.isDocumentKey(i))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Rb(n,new ke(i))}if(t instanceof xt)return Rb(n,t._key);throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(t)}.`)}function fT(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KP{convertValue(e,t="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return oa(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[jf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>kt(c.doubleValue));return new ni(l)}convertGeoPoint(e){return new ti(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=hd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);rt(eA(i),9688,{name:e});const a=new lc(i.get(1),i.get(3)),l=new ke(i.popFirst(5));return a.isEqual(t)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends kA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ba._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:qt("string",Ba._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Sf extends Ba{data(e={}){return super.data(e)}}class qa{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sf(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Sf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new qu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Sf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new qu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:QP(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n){n=Xn(n,xt);const e=Xn(n.firestore,na);return NP(wd(e),n._key).then(t=>UA(e,n,t))}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:qt("string",qa._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Gy extends KP{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function MA(n){n=Xn(n,Ji);const e=Xn(n.firestore,na),t=wd(e),i=new Gy(e);return NA(n._query),OP(t,n._query).then(a=>new qa(e,i,n,a))}function Fs(n,e,t){n=Xn(n,xt);const i=Xn(n.firestore,na),a=PA(n.converter,e,t);return Yy(i,[RA(xd(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,wr.none())])}function XP(n,e,t,...i){n=Xn(n,xt);const a=Xn(n.firestore,na),l=xd(a);let c;return c=typeof(e=vt(e))=="string"||e instanceof Sd?zP(l,"updateDoc",n._key,e,t,i):FP(l,"updateDoc",n._key,e),Yy(a,[c.toMutation(n._key,wr.exists(!0))])}function VA(n,e){const t=Xn(n.firestore,na),i=hn(n),a=PA(n.converter,e);return Yy(t,[RA(xd(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function WP(n,...e){var t,i,a;n=vt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||cT(e[c])||(l=e[c++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(cT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let p,g,_;if(n instanceof xt)g=Xn(n.firestore,na),_=fd(n._key.path),p={next:b=>{e[c]&&e[c](UA(g,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Xn(n,Ji);g=Xn(b.firestore,na),_=b._query;const w=new Gy(g);p={next:N=>{e[c]&&e[c](new qa(g,w,b,N))},error:e[c+1],complete:e[c+2]},NA(n._query)}return function(w,N,O,F){const P=new Oy(F),M=new Dy(N,P,O);return w.asyncQueue.enqueueAndForget(async()=>Ry(await Gf(w),M)),()=>{P.Ou(),w.asyncQueue.enqueueAndForget(async()=>Cy(await Gf(w),M))}}(wd(g),_,d,p)}function Yy(n,e){return function(i,a){const l=new $i;return i.asyncQueue.enqueueAndForget(async()=>EP(await kP(i),a,l)),l.promise}(wd(n),e)}function UA(n,e,t){const i=t.docs.get(e._key),a=new Gy(n);return new Ba(n,a,e._key,i,new qu(t.hasPendingWrites,t.fromCache),e.converter)}function Gi(){return new Py("serverTimestamp")}function LA(...n){return new My("arrayUnion",n)}function La(n){return new Vy("increment",n)}(function(e,t=!0){(function(a){vl=a})(Za),Ya(new Ys("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new na(new Hk(i.getProvider("auth-internal")),new Yk(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Te(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Xr(db,pb,e),Xr(db,pb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebasestorage.googleapis.com",FA="storageBucket",ZP=2*60*1e3,JP=10*60*1e3,eM=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends oi{constructor(e,t,i=0){super(Km(e),`Firebase Storage: ${t} (${Km(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Km(n){return"storage/"+n}function Ky(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(gt.UNKNOWN,n)}function tM(n){return new wt(gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function nM(n){return new wt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(gt.UNAUTHENTICATED,n)}function iM(){return new wt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sM(n){return new wt(gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function zA(){return new wt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BA(){return new wt(gt.CANCELED,"User canceled the upload/download.")}function aM(n){return new wt(gt.INVALID_URL,"Invalid URL '"+n+"'.")}function oM(n){return new wt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lM(){return new wt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FA+"' property when initializing the app?")}function qA(){return new wt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uM(){return new wt(gt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function cM(){return new wt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hM(n){return new wt(gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ng(n){return new wt(gt.INVALID_ARGUMENT,n)}function HA(){return new wt(gt.APP_DELETED,"The Firebase app was deleted.")}function fM(n){return new wt(gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zu(n,e){return new wt(gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Mu(n){throw new wt(gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Qn.makeFromUrl(e,t)}catch{return new Qn(e,"")}if(i.path==="")return i;throw oM(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(q){q.path_=decodeURIComponent(q.path)}const _="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${_}/b/${a}/o${w}`,"i"),O={bucket:1,path:3},F=t===jA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",M=new RegExp(`^https?://${F}/${a}/${P}`,"i"),Y=[{regex:d,indices:p,postModify:l},{regex:N,indices:O,postModify:g},{regex:M,indices:{bucket:1,path:2},postModify:g}];for(let q=0;q<Y.length;q++){const H=Y[q],se=H.regex.exec(e);if(se){const k=se[H.indices.bucket];let R=se[H.indices.path];R||(R=""),i=new Qn(k,R),H.postModify(i);break}}if(i==null)throw aM(e);return i}}class dM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function _(...P){g||(g=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,n(N,p())},P)}function w(){l&&clearTimeout(l)}function N(P,...M){if(g){w();return}if(P){w(),_.call(null,P,...M);return}if(p()||c){w(),_.call(null,P,...M);return}i<64&&(i*=2);let Y;d===1?(d=2,Y=0):Y=(i+Math.random())*1e3,b(Y)}let O=!1;function F(P){O||(O=!0,w(),!g&&(a!==null?(P||(d=2),clearTimeout(a),b(0)):P||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,F(!0)},t),F}function mM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n){return n!==void 0}function yM(n){return typeof n=="function"}function _M(n){return typeof n=="object"&&!Array.isArray(n)}function Cd(n){return typeof n=="string"||n instanceof String}function dT(n){return Qy()&&n instanceof Blob}function Qy(){return typeof Blob<"u"}function pT(n,e,t,i){if(i<e)throw Ng(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ng(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function $A(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ha;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t,i,a,l,c,d,p,g,_,b,w=!0,N=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new lf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ha.NO_ERROR,p=l.getStatus();if(!d||GA(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Ha.ABORT;i(!1,new lf(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new lf(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());gM(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Ky();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?HA():BA();c(p)}else{const p=zA();c(p)}};this.canceled_?t(!1,new lf(!1,null,!0)):this.backoffId_=pM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function EM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function wM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SM(n,e,t,i,a,l,c=!0,d=!1){const p=$A(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return TM(_,e),EM(_,t),bM(_,l),wM(_,i),new vM(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xM(...n){const e=AM();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Qy())return new Blob(n);throw new wt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RM(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(n){if(typeof atob>"u")throw hM("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qm{constructor(e,t){this.data=e,this.contentType=t||null}}function IM(n,e){switch(n){case Kr.RAW:return new Qm(YA(e));case Kr.BASE64:case Kr.BASE64URL:return new Qm(KA(n,e));case Kr.DATA_URL:return new Qm(kM(e),NM(e))}throw Ky()}function YA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function DM(n){let e;try{e=decodeURIComponent(n)}catch{throw Zu(Kr.DATA_URL,"Malformed data URL.")}return YA(e)}function KA(n,e){switch(n){case Kr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Zu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Zu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=CM(e)}catch(a){throw a.message.includes("polyfill")?a:Zu(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class QA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zu(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=OM(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function kM(n){const e=new QA(n);return e.base64?KA(Kr.BASE64,e.rest):DM(e.rest)}function NM(n){return new QA(n).contentType}function OM(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){let i=0,a="";dT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(dT(this.data_)){const i=this.data_,a=RM(i,e,t);return a===null?null:new Us(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Us(i,!0)}}static getBlob(...e){if(Qy()){const t=e.map(i=>i instanceof Us?i.data_:i);return new Us(xM.apply(null,t))}else{const t=e.map(c=>Cd(c)?IM(Kr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Us(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){let e;try{e=JSON.parse(n)}catch{return null}return _M(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function MM(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function WA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(n,e){return e}class An{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||VM}}let uf=null;function UM(n){return!Cd(n)||n.length<2?n:WA(n)}function ZA(){if(uf)return uf;const n=[];n.push(new An("bucket")),n.push(new An("generation")),n.push(new An("metageneration")),n.push(new An("name","fullPath",!0));function e(l,c){return UM(c)}const t=new An("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new An("size");return a.xform=i,n.push(a),n.push(new An("timeCreated")),n.push(new An("updated")),n.push(new An("md5Hash",null,!0)),n.push(new An("cacheControl",null,!0)),n.push(new An("contentDisposition",null,!0)),n.push(new An("contentEncoding",null,!0)),n.push(new An("contentLanguage",null,!0)),n.push(new An("contentType",null,!0)),n.push(new An("metadata","customMetadata",!0)),uf=n,uf}function LM(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Qn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function jM(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return LM(i,n),i}function JA(n,e,t){const i=XA(e);return i===null?null:jM(n,i,t)}function FM(n,e,t,i){const a=XA(e);if(a===null||!Cd(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,b=n.fullPath,w="/b/"+c(_)+"/o/"+c(b),N=Cc(w,t,i),O=$A({alt:"media",token:g});return N+O})[0]}function e1(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class xl{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n){if(!n)throw Ky()}function Xy(n,e){function t(i,a){const l=JA(n,a,e);return Yi(l!==null),l}return t}function zM(n,e){function t(i,a){const l=JA(n,a,e);return Yi(l!==null),FM(l,a,n.host,n._protocol)}return t}function Ic(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=iM():a=rM():t.getStatus()===402?a=nM(n.bucket):t.getStatus()===403?a=sM(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function t1(n){const e=Ic(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=tM(n.path)),l.serverResponse=a.serverResponse,l}return t}function BM(n,e,t){const i=e.fullServerUrl(),a=Cc(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new xl(a,l,Xy(n,t),c);return d.errorHandler=t1(e),d}function qM(n,e,t){const i=e.fullServerUrl(),a=Cc(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new xl(a,l,zM(n,t),c);return d.errorHandler=t1(e),d}function HM(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function n1(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=HM(null,e)),i}function $M(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let Y="";for(let q=0;q<2;q++)Y=Y+Math.random().toString().slice(2);return Y}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=n1(e,i,a),_=e1(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",N=Us.getBlob(b,i,w);if(N===null)throw qA();const O={name:g.fullPath},F=Cc(l,n.host,n._protocol),P="POST",M=n.maxUploadRetryTime,U=new xl(F,P,Xy(n,t),M);return U.urlParams=O,U.headers=c,U.body=N.uploadData(),U.errorHandler=Ic(e),U}class Kf{constructor(e,t,i,a){this.current=e,this.total=t,this.finalized=!!i,this.metadata=a||null}}function Wy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Yi(!1)}return Yi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function GM(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c=n1(e,i,a),d={name:c.fullPath},p=Cc(l,n.host,n._protocol),g="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=e1(c,t),w=n.maxUploadRetryTime;function N(F){Wy(F);let P;try{P=F.getResponseHeader("X-Goog-Upload-URL")}catch{Yi(!1)}return Yi(Cd(P)),P}const O=new xl(p,g,N,w);return O.urlParams=d,O.headers=_,O.body=b,O.errorHandler=Ic(e),O}function YM(n,e,t,i){const a={"X-Goog-Upload-Command":"query"};function l(g){const _=Wy(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yi(!1)}b||Yi(!1);const w=Number(b);return Yi(!isNaN(w)),new Kf(w,i.size(),_==="final")}const c="POST",d=n.maxUploadRetryTime,p=new xl(t,c,l,d);return p.headers=a,p.errorHandler=Ic(e),p}const mT=256*1024;function KM(n,e,t,i,a,l,c,d){const p=new Kf(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw uM();const g=p.total-p.current;let _=g;a>0&&(_=Math.min(_,a));const b=p.current,w=b+_;let N="";_===0?N="finalize":g===_?N="upload, finalize":N="upload";const O={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},F=i.slice(b,w);if(F===null)throw qA();function P(q,H){const se=Wy(q,["active","final"]),k=p.current+_,R=i.size();let D;return se==="final"?D=Xy(e,l)(q,H):D=null,new Kf(k,R,se==="final",D)}const M="POST",U=e.maxUploadRetryTime,Y=new xl(t,M,P,U);return Y.headers=O,Y.body=F.uploadData(),Y.progressCallback=d||null,Y.errorHandler=Ic(n),Y}const Mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xm(n){switch(n){case"running":case"pausing":case"canceling":return Mn.RUNNING;case"paused":return Mn.PAUSED;case"success":return Mn.SUCCESS;case"canceled":return Mn.CANCELED;case"error":return Mn.ERROR;default:return Mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t,i){if(yM(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class XM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw Mu("cannot .send() more than once");if(ia(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WM extends XM{initXhr(){this.xhr_.responseType="text"}}function nl(){return new WM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=ZA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(gt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(GA(a.status,[]))if(l)a=zA();else{this.sleepTime=Math.max(this.sleepTime*2,eM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(gt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=GM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,nl,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const a=YM(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,nl,t,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=mT*this._chunkMultiplier,t=new Kf(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=KM(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const d=this._ref.storage._makeRequest(c,nl,a,l,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){mT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=BM(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,nl,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=$M(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,nl,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=BA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Xm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,a){const l=new QM(t||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Xm(this._state)){case Mn.SUCCESS:Ko(this._resolve.bind(null,this.snapshot))();break;case Mn.CANCELED:case Mn.ERROR:const t=this._reject;Ko(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Xm(this._state)){case Mn.RUNNING:case Mn.PAUSED:e.next&&Ko(e.next.bind(e,this.snapshot))();break;case Mn.SUCCESS:e.complete&&Ko(e.complete.bind(e))();break;case Mn.CANCELED:case Mn.ERROR:e.error&&Ko(e.error.bind(e,this._error))();break;default:e.error&&Ko(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=class Og{constructor(e,t){this._service=e,t instanceof Qn?this._location=t:this._location=Qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Og(e,t)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WA(this._location.path)}get storage(){return this._service}get parent(){const e=PM(this._location.path);if(e===null)return null;const t=new Qn(this._location.bucket,e);return new Og(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fM(e)}};function JM(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ZM(n,new Us(e),t)}function eV(n){n._throwIfRoot("getDownloadURL");const e=qM(n.storage,n._location,ZA());return n.storage.makeRequestWithTokens(e,nl).then(t=>{if(t===null)throw cM();return t})}function tV(n,e){const t=MM(n._location.path,e),i=new Qn(n._location.bucket,t);return new Id(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(n){return/^[A-Za-z]+:\/\//.test(n)}function rV(n,e){return new Id(n,e)}function r1(n,e){if(n instanceof Zy){const t=n;if(t._bucket==null)throw lM();const i=new Id(t,t._bucket);return e!=null?r1(i,e):i}else return e!==void 0?tV(n,e):n}function iV(n,e){if(e&&nV(e)){if(n instanceof Zy)return rV(n,e);throw Ng("To use ref(service, url), the first argument must be a Storage instance.")}else return r1(n,e)}function gT(n,e){const t=e?.[FA];return t==null?null:Qn.makeFromBucketSpec(t,n)}function sV(n,e,t,i={}){n.host=`${e}:${t}`;const a=ia(e);a&&($g(`https://${n.host}/b`),Gg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:mw(l,n.app.options.projectId))}class Zy{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=jA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZP,this._maxUploadRetryTime=JP,this._requests=new Set,a!=null?this._bucket=Qn.makeFromBucketSpec(a,this._host):this._bucket=gT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=gT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Id(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new dM(HA());{const c=SM(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const yT="@firebase/storage",_T="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="storage";function s1(n,e,t){return n=vt(n),JM(n,e,t)}function a1(n){return n=vt(n),eV(n)}function o1(n,e){return n=vt(n),iV(n,e)}function aV(n=Qg(),e){n=vt(n);const i=id(n,i1).getImmediate({identifier:e}),a=fw("storage");return a&&l1(i,...a),i}function l1(n,e,t,i={}){sV(n,e,t,i)}function oV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Zy(t,i,a,e,Za)}function lV(){Ya(new Ys(i1,oV,"PUBLIC").setMultipleInstances(!0)),Xr(yT,_T,""),Xr(yT,_T,"esm2017")}lV();const uV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},cV=["localhost","127.0.0.1"].includes(location.hostname),Ns=uV,hV=n=>Ns[n]===void 0||Ns[n]==="",Hu=cV&&["VITE_FIREBASE_API_KEY","VITE_FIREBASE_PROJECT_ID"].some(hV),fV={apiKey:Hu?"fake-api-key":Ns.VITE_FIREBASE_API_KEY,authDomain:Hu?"localhost":Ns.VITE_FIREBASE_AUTH_DOMAIN,projectId:Hu?"demo-project":Ns.VITE_FIREBASE_PROJECT_ID,storageBucket:Hu?"demo-project.appspot.com":Ns.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Ns.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Ns.VITE_FIREBASE_APP_ID},Jy=_w(fV),Rn=Uk(Jy),Nt=PP(Jy),e_=aV(Jy);Hu&&(Fw(Rn,"http://localhost:9099",{disableWarnings:!0}),SA(Nt,"localhost",8080),l1(e_,"localhost",9199));SD(Rn,eS).catch(()=>{});function dV(n,e){return TD(Rn,n,e)}function pV(n,e){return wD(Rn,n,e)}var Dc=n=>n.type==="checkbox",za=n=>n instanceof Date,xn=n=>n==null;const u1=n=>typeof n=="object";var Ot=n=>!xn(n)&&!Array.isArray(n)&&u1(n)&&!za(n),mV=n=>Ot(n)&&n.target?Dc(n.target)?n.target.checked:n.target.value:n,gV=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,yV=(n,e)=>n.has(gV(e)),_V=n=>{const e=n.constructor&&n.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},t_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tn(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(t_&&(n instanceof Blob||i))&&(t||Ot(n)))if(e=t?[]:{},!t&&!_V(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=tn(n[a]));else return n;return e}var Dd=n=>/^\w*$/.test(n),zt=n=>n===void 0,n_=n=>Array.isArray(n)?n.filter(Boolean):[],r_=n=>n_(n.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(n,e,t)=>{if(!e||!Ot(n))return t;const i=(Dd(e)?[e]:r_(e)).reduce((a,l)=>xn(a)?a:a[l],n);return zt(i)||i===n?zt(n[e])?t:n[e]:i},Gr=n=>typeof n=="boolean",ft=(n,e,t)=>{let i=-1;const a=Dd(e)?[e]:r_(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let p=t;if(i!==c){const g=n[d];p=Ot(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=p,n=n[d]}};const vT={BLUR:"blur",FOCUS_OUT:"focusout"},Er={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vV=cr.createContext(null);vV.displayName="HookFormContext";var EV=(n,e,t,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Er.all&&(e._proxyFormState[c]=!i||Er.all),n[c]}});return a};const bV=typeof window<"u"?K.useLayoutEffect:K.useEffect;var Qr=n=>typeof n=="string",TV=(n,e,t,i,a)=>Qr(n)?(i&&e.watch.add(n),xe(t,n,a)):Array.isArray(n)?n.map(l=>(i&&e.watch.add(l),xe(t,l))):(i&&(e.watchAll=!0),t),c1=(n,e,t,i,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:a||!0}}:{},Ju=n=>Array.isArray(n)?n:[n],ET=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}},Pg=n=>xn(n)||!u1(n);function Ls(n,e,t=new WeakSet){if(Pg(n)||Pg(e))return n===e;if(za(n)&&za(e))return n.getTime()===e.getTime();const i=Object.keys(n),a=Object.keys(e);if(i.length!==a.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const l of i){const c=n[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=e[l];if(za(c)&&za(d)||Ot(c)&&Ot(d)||Array.isArray(c)&&Array.isArray(d)?!Ls(c,d,t):c!==d)return!1}}return!0}var On=n=>Ot(n)&&!Object.keys(n).length,i_=n=>n.type==="file",br=n=>typeof n=="function",Qf=n=>{if(!t_)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},h1=n=>n.type==="select-multiple",s_=n=>n.type==="radio",wV=n=>s_(n)||Dc(n),Wm=n=>Qf(n)&&n.isConnected;function SV(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=zt(n)?i++:n[e[i++]];return n}function AV(n){for(const e in n)if(n.hasOwnProperty(e)&&!zt(n[e]))return!1;return!0}function jt(n,e){const t=Array.isArray(e)?e:Dd(e)?[e]:r_(e),i=t.length===1?n:SV(n,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(Ot(i)&&On(i)||Array.isArray(i)&&AV(i))&&jt(n,t.slice(0,-1)),n}var f1=n=>{for(const e in n)if(br(n[e]))return!0;return!1};function Xf(n,e={}){const t=Array.isArray(n);if(Ot(n)||t)for(const i in n)Array.isArray(n[i])||Ot(n[i])&&!f1(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Xf(n[i],e[i])):xn(n[i])||(e[i]=!0);return e}function d1(n,e,t){const i=Array.isArray(n);if(Ot(n)||i)for(const a in n)Array.isArray(n[a])||Ot(n[a])&&!f1(n[a])?zt(e)||Pg(t[a])?t[a]=Array.isArray(n[a])?Xf(n[a],[]):{...Xf(n[a])}:d1(n[a],xn(e)?{}:e[a],t[a]):t[a]=!Ls(n[a],e[a]);return t}var Vu=(n,e)=>d1(n,e,Xf(e));const bT={value:!1,isValid:!1},TT={value:!0,isValid:!0};var p1=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!zt(n[0].attributes.value)?zt(n[0].value)||n[0].value===""?TT:{value:n[0].value,isValid:!0}:TT:bT}return bT},m1=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>zt(n)?n:e?n===""?NaN:n&&+n:t&&Qr(n)?new Date(n):i?i(n):n;const wT={isValid:!1,value:null};var g1=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,wT):wT;function ST(n){const e=n.ref;return i_(e)?e.files:s_(e)?g1(n.refs).value:h1(e)?[...e.selectedOptions].map(({value:t})=>t):Dc(e)?p1(n.refs).value:m1(zt(e.value)?n.ref.value:e.value,n)}var xV=(n,e,t,i)=>{const a={};for(const l of n){const c=xe(e,l);c&&ft(a,l,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:i}},Wf=n=>n instanceof RegExp,Uu=n=>zt(n)?n:Wf(n)?n.source:Ot(n)?Wf(n.value)?n.value.source:n.value:n,AT=n=>({isOnSubmit:!n||n===Er.onSubmit,isOnBlur:n===Er.onBlur,isOnChange:n===Er.onChange,isOnAll:n===Er.all,isOnTouch:n===Er.onTouched});const xT="AsyncFunction";var RV=n=>!!n&&!!n.validate&&!!(br(n.validate)&&n.validate.constructor.name===xT||Ot(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===xT)),CV=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),RT=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const ec=(n,e,t,i)=>{for(const a of t||Object.keys(n)){const l=xe(n,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(ec(d,e))break}else if(Ot(d)&&ec(d,e))break}}};function CT(n,e,t){const i=xe(n,t);if(i||Dd(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=xe(e,l),d=xe(n,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};a.pop()}return{name:t}}var IV=(n,e,t,i)=>{t(n);const{name:a,...l}=n;return On(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!i||Er.all))},DV=(n,e,t)=>!n||!e||n===e||Ju(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),kV=(n,e,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?i.isOnBlur:a.isOnBlur)?!n:(t?i.isOnChange:a.isOnChange)?n:!0,NV=(n,e)=>!n_(xe(n,e)).length&&jt(n,e),OV=(n,e,t)=>{const i=Ju(xe(n,t));return ft(i,"root",e[t]),ft(n,t,i),n},Af=n=>Qr(n);function IT(n,e,t="validate"){if(Af(n)||Array.isArray(n)&&n.every(Af)||Gr(n)&&!n)return{type:t,message:Af(n)?n:"",ref:e}}var Qo=n=>Ot(n)&&!Wf(n)?n:{value:n,message:""},DT=async(n,e,t,i,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:_,min:b,max:w,pattern:N,validate:O,name:F,valueAsNumber:P,mount:M}=n._f,U=xe(t,F);if(!M||e.has(F))return{};const Y=d?d[0]:c,q=I=>{a&&Y.reportValidity&&(Y.setCustomValidity(Gr(I)?"":I||""),Y.reportValidity())},H={},se=s_(c),k=Dc(c),R=se||k,D=(P||i_(c))&&zt(c.value)&&zt(U)||Qf(c)&&c.value===""||U===""||Array.isArray(U)&&!U.length,L=c1.bind(null,F,i,H),V=(I,C,ge,Ce=Li.maxLength,J=Li.minLength)=>{const he=I?C:ge;H[F]={type:I?Ce:J,message:he,ref:c,...L(I?Ce:J,he)}};if(l?!Array.isArray(U)||!U.length:p&&(!R&&(D||xn(U))||Gr(U)&&!U||k&&!p1(d).isValid||se&&!g1(d).isValid)){const{value:I,message:C}=Af(p)?{value:!!p,message:p}:Qo(p);if(I&&(H[F]={type:Li.required,message:C,ref:Y,...L(Li.required,C)},!i))return q(C),H}if(!D&&(!xn(b)||!xn(w))){let I,C;const ge=Qo(w),Ce=Qo(b);if(!xn(U)&&!isNaN(U)){const J=c.valueAsNumber||U&&+U;xn(ge.value)||(I=J>ge.value),xn(Ce.value)||(C=J<Ce.value)}else{const J=c.valueAsDate||new Date(U),he=A=>new Date(new Date().toDateString()+" "+A),be=c.type=="time",Ne=c.type=="week";Qr(ge.value)&&U&&(I=be?he(U)>he(ge.value):Ne?U>ge.value:J>new Date(ge.value)),Qr(Ce.value)&&U&&(C=be?he(U)<he(Ce.value):Ne?U<Ce.value:J<new Date(Ce.value))}if((I||C)&&(V(!!I,ge.message,Ce.message,Li.max,Li.min),!i))return q(H[F].message),H}if((g||_)&&!D&&(Qr(U)||l&&Array.isArray(U))){const I=Qo(g),C=Qo(_),ge=!xn(I.value)&&U.length>+I.value,Ce=!xn(C.value)&&U.length<+C.value;if((ge||Ce)&&(V(ge,I.message,C.message),!i))return q(H[F].message),H}if(N&&!D&&Qr(U)){const{value:I,message:C}=Qo(N);if(Wf(I)&&!U.match(I)&&(H[F]={type:Li.pattern,message:C,ref:c,...L(Li.pattern,C)},!i))return q(C),H}if(O){if(br(O)){const I=await O(U,t),C=IT(I,Y);if(C&&(H[F]={...C,...L(Li.validate,C.message)},!i))return q(C.message),H}else if(Ot(O)){let I={};for(const C in O){if(!On(I)&&!i)break;const ge=IT(await O[C](U,t),Y,C);ge&&(I={...ge,...L(C,ge.message)},q(ge.message),i&&(H[F]=I))}if(!On(I)&&(H[F]={ref:Y,...I},!i))return H}}return q(!0),H};const PV={mode:Er.onSubmit,reValidateMode:Er.onChange,shouldFocusError:!0};function MV(n={}){let e={...PV,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:br(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Ot(e.defaultValues)||Ot(e.values)?tn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:tn(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={..._};const w={array:ET(),state:ET()},N=e.criteriaMode===Er.all,O=z=>te=>{clearTimeout(g),g=setTimeout(z,te)},F=async z=>{if(!e.disabled&&(_.isValid||b.isValid||z)){const te=e.resolver?On((await k()).errors):await D(i,!0);te!==t.isValid&&w.state.next({isValid:te})}},P=(z,te)=>{!e.disabled&&(_.isValidating||_.validatingFields||b.isValidating||b.validatingFields)&&((z||Array.from(d.mount)).forEach(ae=>{ae&&(te?ft(t.validatingFields,ae,te):jt(t.validatingFields,ae))}),w.state.next({validatingFields:t.validatingFields,isValidating:!On(t.validatingFields)}))},M=(z,te=[],ae,Ee,ye=!0,pe=!0)=>{if(Ee&&ae&&!e.disabled){if(c.action=!0,pe&&Array.isArray(xe(i,z))){const ve=ae(xe(i,z),Ee.argA,Ee.argB);ye&&ft(i,z,ve)}if(pe&&Array.isArray(xe(t.errors,z))){const ve=ae(xe(t.errors,z),Ee.argA,Ee.argB);ye&&ft(t.errors,z,ve),NV(t.errors,z)}if((_.touchedFields||b.touchedFields)&&pe&&Array.isArray(xe(t.touchedFields,z))){const ve=ae(xe(t.touchedFields,z),Ee.argA,Ee.argB);ye&&ft(t.touchedFields,z,ve)}(_.dirtyFields||b.dirtyFields)&&(t.dirtyFields=Vu(a,l)),w.state.next({name:z,isDirty:V(z,te),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ft(l,z,te)},U=(z,te)=>{ft(t.errors,z,te),w.state.next({errors:t.errors})},Y=z=>{t.errors=z,w.state.next({errors:t.errors,isValid:!1})},q=(z,te,ae,Ee)=>{const ye=xe(i,z);if(ye){const pe=xe(l,z,zt(ae)?xe(a,z):ae);zt(pe)||Ee&&Ee.defaultChecked||te?ft(l,z,te?pe:ST(ye._f)):ge(z,pe),c.mount&&F()}},H=(z,te,ae,Ee,ye)=>{let pe=!1,ve=!1;const Re={name:z};if(!e.disabled){if(!ae||Ee){(_.isDirty||b.isDirty)&&(ve=t.isDirty,t.isDirty=Re.isDirty=V(),pe=ve!==Re.isDirty);const ze=Ls(xe(a,z),te);ve=!!xe(t.dirtyFields,z),ze?jt(t.dirtyFields,z):ft(t.dirtyFields,z,!0),Re.dirtyFields=t.dirtyFields,pe=pe||(_.dirtyFields||b.dirtyFields)&&ve!==!ze}if(ae){const ze=xe(t.touchedFields,z);ze||(ft(t.touchedFields,z,ae),Re.touchedFields=t.touchedFields,pe=pe||(_.touchedFields||b.touchedFields)&&ze!==ae)}pe&&ye&&w.state.next(Re)}return pe?Re:{}},se=(z,te,ae,Ee)=>{const ye=xe(t.errors,z),pe=(_.isValid||b.isValid)&&Gr(te)&&t.isValid!==te;if(e.delayError&&ae?(p=O(()=>U(z,ae)),p(e.delayError)):(clearTimeout(g),p=null,ae?ft(t.errors,z,ae):jt(t.errors,z)),(ae?!Ls(ye,ae):ye)||!On(Ee)||pe){const ve={...Ee,...pe&&Gr(te)?{isValid:te}:{},errors:t.errors,name:z};t={...t,...ve},w.state.next(ve)}},k=async z=>{P(z,!0);const te=await e.resolver(l,e.context,xV(z||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return P(z),te},R=async z=>{const{errors:te}=await k(z);if(z)for(const ae of z){const Ee=xe(te,ae);Ee?ft(t.errors,ae,Ee):jt(t.errors,ae)}else t.errors=te;return te},D=async(z,te,ae={valid:!0})=>{for(const Ee in z){const ye=z[Ee];if(ye){const{_f:pe,...ve}=ye;if(pe){const Re=d.array.has(pe.name),ze=ye._f&&RV(ye._f);ze&&_.validatingFields&&P([Ee],!0);const it=await DT(ye,d.disabled,l,N,e.shouldUseNativeValidation&&!te,Re);if(ze&&_.validatingFields&&P([Ee]),it[pe.name]&&(ae.valid=!1,te))break;!te&&(xe(it,pe.name)?Re?OV(t.errors,it,pe.name):ft(t.errors,pe.name,it[pe.name]):jt(t.errors,pe.name))}!On(ve)&&await D(ve,te,ae)}}return ae.valid},L=()=>{for(const z of d.unMount){const te=xe(i,z);te&&(te._f.refs?te._f.refs.every(ae=>!Wm(ae)):!Wm(te._f.ref))&&De(z)}d.unMount=new Set},V=(z,te)=>!e.disabled&&(z&&te&&ft(l,z,te),!Ls(A(),a)),I=(z,te,ae)=>TV(z,d,{...c.mount?l:zt(te)?a:Qr(z)?{[z]:te}:te},ae,te),C=z=>n_(xe(c.mount?l:a,z,e.shouldUnregister?xe(a,z,[]):[])),ge=(z,te,ae={})=>{const Ee=xe(i,z);let ye=te;if(Ee){const pe=Ee._f;pe&&(!pe.disabled&&ft(l,z,m1(te,pe)),ye=Qf(pe.ref)&&xn(te)?"":te,h1(pe.ref)?[...pe.ref.options].forEach(ve=>ve.selected=ye.includes(ve.value)):pe.refs?Dc(pe.ref)?pe.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(ye)?ve.checked=!!ye.find(Re=>Re===ve.value):ve.checked=ye===ve.value||!!ye)}):pe.refs.forEach(ve=>ve.checked=ve.value===ye):i_(pe.ref)?pe.ref.value="":(pe.ref.value=ye,pe.ref.type||w.state.next({name:z,values:tn(l)})))}(ae.shouldDirty||ae.shouldTouch)&&H(z,ye,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&Ne(z)},Ce=(z,te,ae)=>{for(const Ee in te){if(!te.hasOwnProperty(Ee))return;const ye=te[Ee],pe=z+"."+Ee,ve=xe(i,pe);(d.array.has(z)||Ot(ye)||ve&&!ve._f)&&!za(ye)?Ce(pe,ye,ae):ge(pe,ye,ae)}},J=(z,te,ae={})=>{const Ee=xe(i,z),ye=d.array.has(z),pe=tn(te);ft(l,z,pe),ye?(w.array.next({name:z,values:tn(l)}),(_.isDirty||_.dirtyFields||b.isDirty||b.dirtyFields)&&ae.shouldDirty&&w.state.next({name:z,dirtyFields:Vu(a,l),isDirty:V(z,pe)})):Ee&&!Ee._f&&!xn(pe)?Ce(z,pe,ae):ge(z,pe,ae),RT(z,d)&&w.state.next({...t}),w.state.next({name:c.mount?z:void 0,values:tn(l)})},he=async z=>{c.mount=!0;const te=z.target;let ae=te.name,Ee=!0;const ye=xe(i,ae),pe=ze=>{Ee=Number.isNaN(ze)||za(ze)&&isNaN(ze.getTime())||Ls(ze,xe(l,ae,ze))},ve=AT(e.mode),Re=AT(e.reValidateMode);if(ye){let ze,it;const ui=te.type?ST(ye._f):mV(z),Wn=z.type===vT.BLUR||z.type===vT.FOCUS_OUT,ci=!CV(ye._f)&&!e.resolver&&!xe(t.errors,ae)&&!ye._f.deps||kV(Wn,xe(t.touchedFields,ae),t.isSubmitted,Re,ve),dr=RT(ae,d,Wn);ft(l,ae,ui),Wn?(ye._f.onBlur&&ye._f.onBlur(z),p&&p(0)):ye._f.onChange&&ye._f.onChange(z);const pr=H(ae,ui,Wn),Ln=!On(pr)||dr;if(!Wn&&w.state.next({name:ae,type:z.type,values:tn(l)}),ci)return(_.isValid||b.isValid)&&(e.mode==="onBlur"?Wn&&F():Wn||F()),Ln&&w.state.next({name:ae,...dr?{}:pr});if(!Wn&&dr&&w.state.next({...t}),e.resolver){const{errors:hi}=await k([ae]);if(pe(ui),Ee){const fi=CT(t.errors,i,ae),ns=CT(hi,i,fi.name||ae);ze=ns.error,ae=ns.name,it=On(hi)}}else P([ae],!0),ze=(await DT(ye,d.disabled,l,N,e.shouldUseNativeValidation))[ae],P([ae]),pe(ui),Ee&&(ze?it=!1:(_.isValid||b.isValid)&&(it=await D(i,!0)));Ee&&(ye._f.deps&&Ne(ye._f.deps),se(ae,it,ze,pr))}},be=(z,te)=>{if(xe(t.errors,te)&&z.focus)return z.focus(),1},Ne=async(z,te={})=>{let ae,Ee;const ye=Ju(z);if(e.resolver){const pe=await R(zt(z)?z:ye);ae=On(pe),Ee=z?!ye.some(ve=>xe(pe,ve)):ae}else z?(Ee=(await Promise.all(ye.map(async pe=>{const ve=xe(i,pe);return await D(ve&&ve._f?{[pe]:ve}:ve)}))).every(Boolean),!(!Ee&&!t.isValid)&&F()):Ee=ae=await D(i);return w.state.next({...!Qr(z)||(_.isValid||b.isValid)&&ae!==t.isValid?{}:{name:z},...e.resolver||!z?{isValid:ae}:{},errors:t.errors}),te.shouldFocus&&!Ee&&ec(i,be,z?ye:d.mount),Ee},A=z=>{const te={...c.mount?l:a};return zt(z)?te:Qr(z)?xe(te,z):z.map(ae=>xe(te,ae))},$=(z,te)=>({invalid:!!xe((te||t).errors,z),isDirty:!!xe((te||t).dirtyFields,z),error:xe((te||t).errors,z),isValidating:!!xe(t.validatingFields,z),isTouched:!!xe((te||t).touchedFields,z)}),G=z=>{z&&Ju(z).forEach(te=>jt(t.errors,te)),w.state.next({errors:z?t.errors:{}})},Z=(z,te,ae)=>{const Ee=(xe(i,z,{_f:{}})._f||{}).ref,ye=xe(t.errors,z)||{},{ref:pe,message:ve,type:Re,...ze}=ye;ft(t.errors,z,{...ze,...te,ref:Ee}),w.state.next({name:z,errors:t.errors,isValid:!1}),ae&&ae.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},ce=(z,te)=>br(z)?w.state.subscribe({next:ae=>z(I(void 0,te),ae)}):I(z,te,!0),_e=z=>w.state.subscribe({next:te=>{DV(z.name,te.name,z.exact)&&IV(te,z.formState||_,Cn,z.reRenderRoot)&&z.callback({values:{...l},...t,...te})}}).unsubscribe,Se=z=>(c.mount=!0,b={...b,...z.formState},_e({...z,formState:b})),De=(z,te={})=>{for(const ae of z?Ju(z):d.mount)d.mount.delete(ae),d.array.delete(ae),te.keepValue||(jt(i,ae),jt(l,ae)),!te.keepError&&jt(t.errors,ae),!te.keepDirty&&jt(t.dirtyFields,ae),!te.keepTouched&&jt(t.touchedFields,ae),!te.keepIsValidating&&jt(t.validatingFields,ae),!e.shouldUnregister&&!te.keepDefaultValue&&jt(a,ae);w.state.next({values:tn(l)}),w.state.next({...t,...te.keepDirty?{isDirty:V()}:{}}),!te.keepIsValid&&F()},He=({disabled:z,name:te})=>{(Gr(z)&&c.mount||z||d.disabled.has(te))&&(z?d.disabled.add(te):d.disabled.delete(te))},Pt=(z,te={})=>{let ae=xe(i,z);const Ee=Gr(te.disabled)||Gr(e.disabled);return ft(i,z,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:z}},name:z,mount:!0,...te}}),d.mount.add(z),ae?He({disabled:Gr(te.disabled)?te.disabled:e.disabled,name:z}):q(z,!0,te.value),{...Ee?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:Uu(te.min),max:Uu(te.max),minLength:Uu(te.minLength),maxLength:Uu(te.maxLength),pattern:Uu(te.pattern)}:{},name:z,onChange:he,onBlur:he,ref:ye=>{if(ye){Pt(z,te),ae=xe(i,z);const pe=zt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,ve=wV(pe),Re=ae._f.refs||[];if(ve?Re.find(ze=>ze===pe):pe===ae._f.ref)return;ft(i,z,{_f:{...ae._f,...ve?{refs:[...Re.filter(Wm),pe,...Array.isArray(xe(a,z))?[{}]:[]],ref:{type:pe.type,name:z}}:{ref:pe}}}),q(z,!1,void 0,pe)}else ae=xe(i,z,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(yV(d.array,z)&&c.action)&&d.unMount.add(z)}}},En=()=>e.shouldFocusError&&ec(i,be,d.mount),fr=z=>{Gr(z)&&(w.state.next({disabled:z}),ec(i,(te,ae)=>{const Ee=xe(i,ae);Ee&&(te.disabled=Ee._f.disabled||z,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(ye=>{ye.disabled=Ee._f.disabled||z}))},0,!1))},Rr=(z,te)=>async ae=>{let Ee;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let ye=tn(l);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:pe,values:ve}=await k();t.errors=pe,ye=tn(ve)}else await D(i);if(d.disabled.size)for(const pe of d.disabled)jt(ye,pe);if(jt(t.errors,"root"),On(t.errors)){w.state.next({errors:{}});try{await z(ye,ae)}catch(pe){Ee=pe}}else te&&await te({...t.errors},ae),En(),setTimeout(En);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(t.errors)&&!Ee,submitCount:t.submitCount+1,errors:t.errors}),Ee)throw Ee},li=(z,te={})=>{xe(i,z)&&(zt(te.defaultValue)?J(z,tn(xe(a,z))):(J(z,te.defaultValue),ft(a,z,tn(te.defaultValue))),te.keepTouched||jt(t.touchedFields,z),te.keepDirty||(jt(t.dirtyFields,z),t.isDirty=te.defaultValue?V(z,tn(xe(a,z))):V()),te.keepError||(jt(t.errors,z),_.isValid&&F()),w.state.next({...t}))},Cr=(z,te={})=>{const ae=z?tn(z):a,Ee=tn(ae),ye=On(z),pe=ye?a:Ee;if(te.keepDefaultValues||(a=ae),!te.keepValues){if(te.keepDirtyValues){const ve=new Set([...d.mount,...Object.keys(Vu(a,l))]);for(const Re of Array.from(ve))xe(t.dirtyFields,Re)?ft(pe,Re,xe(l,Re)):J(Re,xe(pe,Re))}else{if(t_&&zt(z))for(const ve of d.mount){const Re=xe(i,ve);if(Re&&Re._f){const ze=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Qf(ze)){const it=ze.closest("form");if(it){it.reset();break}}}}if(te.keepFieldsRef)for(const ve of d.mount)J(ve,xe(pe,ve));else i={}}l=e.shouldUnregister?te.keepDefaultValues?tn(a):{}:tn(pe),w.array.next({values:{...pe}}),w.state.next({values:{...pe}})}d={mount:te.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!te.keepIsValid||!!te.keepDirtyValues,c.watch=!!e.shouldUnregister,w.state.next({submitCount:te.keepSubmitCount?t.submitCount:0,isDirty:ye?!1:te.keepDirty?t.isDirty:!!(te.keepDefaultValues&&!Ls(z,a)),isSubmitted:te.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ye?{}:te.keepDirtyValues?te.keepDefaultValues&&l?Vu(a,l):t.dirtyFields:te.keepDefaultValues&&z?Vu(a,z):te.keepDirty?t.dirtyFields:{},touchedFields:te.keepTouched?t.touchedFields:{},errors:te.keepErrors?t.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},es=(z,te)=>Cr(br(z)?z(l):z,te),ro=(z,te={})=>{const ae=xe(i,z),Ee=ae&&ae._f;if(Ee){const ye=Ee.refs?Ee.refs[0]:Ee.ref;ye.focus&&(ye.focus(),te.shouldSelect&&br(ye.select)&&ye.select())}},Cn=z=>{t={...t,...z}},ts={control:{register:Pt,unregister:De,getFieldState:$,handleSubmit:Rr,setError:Z,_subscribe:_e,_runSchema:k,_focusError:En,_getWatch:I,_getDirty:V,_setValid:F,_setFieldArray:M,_setDisabledField:He,_setErrors:Y,_getFieldArray:C,_reset:Cr,_resetDefaultValues:()=>br(e.defaultValues)&&e.defaultValues().then(z=>{es(z,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:fr,_subjects:w,_proxyFormState:_,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(z){c=z},get _defaultValues(){return a},get _names(){return d},set _names(z){d=z},get _formState(){return t},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:Se,trigger:Ne,register:Pt,handleSubmit:Rr,watch:ce,setValue:J,getValues:A,reset:es,resetField:li,clearErrors:G,unregister:De,setError:Z,setFocus:ro,getFieldState:$};return{...ts,formControl:ts}}function y1(n={}){const e=cr.useRef(void 0),t=cr.useRef(void 0),[i,a]=cr.useState({isDirty:!1,isValidating:!1,isLoading:br(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:br(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:i},n.defaultValues&&!br(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:c,...d}=MV(n);e.current={...d,formState:i}}const l=e.current.control;return l._options=n,bV(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),cr.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),cr.useEffect(()=>{n.mode&&(l._options.mode=n.mode),n.reValidateMode&&(l._options.reValidateMode=n.reValidateMode)},[l,n.mode,n.reValidateMode]),cr.useEffect(()=>{n.errors&&(l._setErrors(n.errors),l._focusError())},[l,n.errors]),cr.useEffect(()=>{n.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,n.shouldUnregister]),cr.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),cr.useEffect(()=>{n.values&&!Ls(n.values,t.current)?(l._reset(n.values,{keepFieldsRef:!0,...l._options.resetOptions}),t.current=n.values,a(c=>({...c}))):l._resetDefaultValues()},[l,n.values]),cr.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=EV(i,l),e.current}const kT=(n,e,t)=>{if(n&&"reportValidity"in n){const i=xe(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},_1=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?kT(i.ref,t,n):i&&i.refs&&i.refs.forEach(a=>kT(a,t,n))}},VV=(n,e)=>{e.shouldUseNativeValidation&&_1(n,e);const t={};for(const i in n){const a=xe(e.fields,i),l=Object.assign(n[i]||{},{ref:a&&a.ref});if(UV(e.names||Object.keys(n),i)){const c=Object.assign({},xe(t,i));ft(c,"root",l),ft(t,i,c)}else ft(t,i,l)}return t},UV=(n,e)=>{const t=NT(e);return n.some(i=>NT(i).match(`^${t}\\.\\d+`))};function NT(n){return n.replace(/\]|\[/g,"")}function v1(n,e,t){return t===void 0&&(t={}),function(i,a,l){try{return Promise.resolve(function(c,d){try{var p=(e?.context,Promise.resolve(n[t.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},e,{context:a}))).then(function(g){return l.shouldUseNativeValidation&&_1({},l),{values:t.raw?Object.assign({},i):g,errors:{}}}))}catch(g){return d(g)}return p&&p.then?p.then(void 0,d):p}(0,function(c){if(!c.inner)throw c;return{values:{},errors:VV((d=c,p=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(d.inner||[]).reduce(function(g,_){if(g[_.path]||(g[_.path]={message:_.message,type:_.type}),p){var b=g[_.path].types,w=b&&b[_.type];g[_.path]=c1(_.path,p,g,_.type,w?[].concat(w,_.message):_.message)}return g},{})),l)};var d,p}))}catch(c){return Promise.reject(c)}}}var Zm,OT;function LV(){if(OT)return Zm;OT=1;function n(M){this._maxSize=M,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(M){return this._values[M]},n.prototype.set=function(M,U){return this._size>=this._maxSize&&this.clear(),M in this._values||this._size++,this._values[M]=U};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,c=512,d=new n(c),p=new n(c),g=new n(c);Zm={Cache:n,split:b,normalizePath:_,setter:function(M){var U=_(M);return p.get(M)||p.set(M,function(q,H){for(var se=0,k=U.length,R=q;se<k-1;){var D=U[se];if(D==="__proto__"||D==="constructor"||D==="prototype")return q;R=R[U[se++]]}R[U[se]]=H})},getter:function(M,U){var Y=_(M);return g.get(M)||g.set(M,function(H){for(var se=0,k=Y.length;se<k;)if(H!=null||!U)H=H[Y[se++]];else return;return H})},join:function(M){return M.reduce(function(U,Y){return U+(N(Y)||t.test(Y)?"["+Y+"]":(U?".":"")+Y)},"")},forEach:function(M,U,Y){w(Array.isArray(M)?M:b(M),U,Y)}};function _(M){return d.get(M)||d.set(M,b(M).map(function(U){return U.replace(l,"$2")}))}function b(M){return M.match(e)||[""]}function w(M,U,Y){var q=M.length,H,se,k,R;for(se=0;se<q;se++)H=M[se],H&&(P(H)&&(H='"'+H+'"'),R=N(H),k=!R&&/^\d+$/.test(H),U.call(Y,H,R,k,se,M))}function N(M){return typeof M=="string"&&M&&["'",'"'].indexOf(M.charAt(0))!==-1}function O(M){return M.match(i)&&!M.match(t)}function F(M){return a.test(M)}function P(M){return!N(M)&&(O(M)||F(M))}return Zm}var $a=LV(),Jm,PT;function jV(){if(PT)return Jm;PT=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=_=>_.match(n)||[],t=_=>_[0].toUpperCase()+_.slice(1),i=(_,b)=>e(_).join(b).toLowerCase(),a=_=>e(_).reduce((b,w)=>`${b}${b?w[0].toUpperCase()+w.slice(1).toLowerCase():w.toLowerCase()}`,"");return Jm={words:e,upperFirst:t,camelCase:a,pascalCase:_=>t(a(_)),snakeCase:_=>i(_,"_"),kebabCase:_=>i(_,"-"),sentenceCase:_=>t(i(_," ")),titleCase:_=>e(_).map(t).join(" ")},Jm}var eg=jV(),cf={exports:{}},MT;function FV(){if(MT)return cf.exports;MT=1,cf.exports=function(a){return n(e(a),a)},cf.exports.array=n;function n(a,l){var c=a.length,d=new Array(c),p={},g=c,_=t(l),b=i(a);for(l.forEach(function(N){if(!b.has(N[0])||!b.has(N[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});g--;)p[g]||w(a[g],g,new Set);return d;function w(N,O,F){if(F.has(N)){var P;try{P=", node was:"+JSON.stringify(N)}catch{P=""}throw new Error("Cyclic dependency"+P)}if(!b.has(N))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(N));if(!p[O]){p[O]=!0;var M=_.get(N)||new Set;if(M=Array.from(M),O=M.length){F.add(N);do{var U=M[--O];w(U,b.get(U),F)}while(O);F.delete(N)}d[--c]=N}}}function e(a){for(var l=new Set,c=0,d=a.length;c<d;c++){var p=a[c];l.add(p[0]),l.add(p[1])}return Array.from(l)}function t(a){for(var l=new Map,c=0,d=a.length;c<d;c++){var p=a[c];l.has(p[0])||l.set(p[0],new Set),l.has(p[1])||l.set(p[1],new Set),l.get(p[0]).add(p[1])}return l}function i(a){for(var l=new Map,c=0,d=a.length;c<d;c++)l.set(a[c],c);return l}return cf.exports}var zV=FV();const BV=ed(zV),qV=Object.prototype.toString,HV=Error.prototype.toString,$V=RegExp.prototype.toString,GV=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",YV=/^Symbol\((.*)\)(.*)$/;function KV(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function VT(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return KV(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return GV.call(n).replace(YV,"Symbol($1)");const i=qV.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+HV.call(n)+"]":i==="RegExp"?$V.call(n):null}function $s(n,e){let t=VT(n,e);return t!==null?t:JSON.stringify(n,function(i,a){let l=VT(this[i],e);return l!==null?l:a},2)}function E1(n){return n==null?[]:[].concat(n)}let b1,T1,w1,QV=/\$\{\s*(\w+)\s*\}/g;b1=Symbol.toStringTag;class UT{constructor(e,t,i,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[b1]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=a,this.errors=[],this.inner=[],E1(e).forEach(l=>{if(Vn.isError(l)){this.errors.push(...l.errors);const c=l.inner.length?l.inner:[l];this.inner.push(...c)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}T1=Symbol.hasInstance;w1=Symbol.toStringTag;class Vn extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(QV,(a,l)=>$s(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,a,l){const c=new UT(e,t,i,a);if(l)return c;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[w1]="Error",this.name=c.name,this.message=c.message,this.type=c.type,this.value=c.value,this.path=c.path,this.errors=c.errors,this.inner=c.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vn)}static[T1](e){return UT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Yr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const a=i!=null&&i!==t?` (cast from the value \`${$s(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${$s(t,!0)}\``+a:`${n} must match the configured type. The validated value was: \`${$s(t,!0)}\``+a}},Nn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},XV={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Mg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Vg={isValue:"${path} field must be ${value}"},xf={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},WV={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},ZV={notType:n=>{const{path:e,value:t,spec:i}=n,a=i.types.length;if(Array.isArray(t)){if(t.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${t.length} for value: \`${$s(t,!0)}\``;if(t.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${t.length} for value: \`${$s(t,!0)}\``}return Vn.formatError(Yr.notType,n)}};Object.assign(Object.create(null),{mixed:Yr,string:Nn,number:XV,date:Mg,object:xf,array:WV,boolean:Vg,tuple:ZV});const a_=n=>n&&n.__isYupSchema__;class Zf{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:a,otherwise:l}=t,c=typeof i=="function"?i:(...d)=>d.every(p=>p===i);return new Zf(e,(d,p)=>{var g;let _=c(...d)?a:l;return(g=_?.(p))!=null?g:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(l=>l.getValue(t?.value,t?.parent,t?.context)),a=this.fn(i,e,t);if(a===void 0||a===e)return e;if(!a_(a))throw new TypeError("conditions must return a schema object");return a.resolve(t)}}const hf={context:"$",value:"."};class no{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===hf.context,this.isValue=this.key[0]===hf.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?hf.context:this.isValue?hf.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&$a.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let a=this.isContext?i:this.isValue?e:t;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,t){return this.getValue(e,t?.parent,t?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}no.prototype.__isYupRef=!0;const Bi=n=>n==null;function Xo(n){function e({value:t,path:i="",options:a,originalValue:l,schema:c},d,p){const{name:g,test:_,params:b,message:w,skipAbsent:N}=n;let{parent:O,context:F,abortEarly:P=c.spec.abortEarly,disableStackTrace:M=c.spec.disableStackTrace}=a;function U(V){return no.isRef(V)?V.getValue(t,O,F):V}function Y(V={}){const I=Object.assign({value:t,originalValue:l,label:c.spec.label,path:V.path||i,spec:c.spec,disableStackTrace:V.disableStackTrace||M},b,V.params);for(const ge of Object.keys(I))I[ge]=U(I[ge]);const C=new Vn(Vn.formatError(V.message||w,I),t,I.path,V.type||g,I.disableStackTrace);return C.params=I,C}const q=P?d:p;let H={path:i,parent:O,type:g,from:a.from,createError:Y,resolve:U,options:a,originalValue:l,schema:c};const se=V=>{Vn.isError(V)?q(V):V?p(null):q(Y())},k=V=>{Vn.isError(V)?q(V):d(V)};if(N&&Bi(t))return se(!0);let D;try{var L;if(D=_.call(H,t,H),typeof((L=D)==null?void 0:L.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${H.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(se,k)}}catch(V){k(V);return}se(D)}return e.OPTIONS=n,e}function JV(n,e,t,i=t){let a,l,c;return e?($a.forEach(e,(d,p,g)=>{let _=p?d.slice(1,d.length-1):d;n=n.resolve({context:i,parent:a,value:t});let b=n.type==="tuple",w=g?parseInt(_,10):0;if(n.innerType||b){if(b&&!g)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${c}" must contain an index to the tuple element, e.g. "${c}[0]"`);if(t&&w>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);a=t,t=t&&t[w],n=b?n.spec.types[w]:n.innerType}if(!g){if(!n.fields||!n.fields[_])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${c} which is a type: "${n.type}")`);a=t,t=t&&t[_],n=n.fields[_]}l=_,c=p?"["+d+"]":"."+d}),{schema:n,parent:a,parentPath:l}):{parent:a,parentPath:e,schema:n}}class Jf extends Set{describe(){const e=[];for(const t of this.values())e.push(no.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new Jf(this.values())}merge(e,t){const i=this.clone();return e.forEach(a=>i.add(a)),t.forEach(a=>i.delete(a)),i}}function il(n,e=new Map){if(a_(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=il(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,a]of n.entries())t.set(i,il(a,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(il(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,a]of Object.entries(n))t[i]=il(a,e)}else throw Error(`Unable to clone ${n}`);return t}class xr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Jf,this._blacklist=new Jf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Yr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=il(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const a=Object.assign({},t.spec,i.spec);return i.spec=a,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(l=>{e.tests.forEach(c=>{l.test(c.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((a,l)=>l.resolve(a,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,a,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),a=t.assert==="ignore-optionality",l=i._cast(e,t);if(t.assert!==!1&&!i.isType(l)){if(a&&Bi(l))return l;let c=$s(e),d=$s(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${c} 
`+(d!==c?`result of cast: ${d}`:""))}return l}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((a,l)=>l.call(this,a,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,a){let{path:l,originalValue:c=e,strict:d=this.spec.strict}=t,p=e;d||(p=this._cast(p,Object.assign({assert:!1},t)));let g=[];for(let _ of Object.values(this.internalTests))_&&g.push(_);this.runTests({path:l,value:p,originalValue:c,options:t,tests:g},i,_=>{if(_.length)return a(_,p);this.runTests({path:l,value:p,originalValue:c,options:t,tests:this.tests},i,a)})}runTests(e,t,i){let a=!1,{tests:l,value:c,originalValue:d,path:p,options:g}=e,_=F=>{a||(a=!0,t(F,c))},b=F=>{a||(a=!0,i(F,c))},w=l.length,N=[];if(!w)return b([]);let O={value:c,originalValue:d,path:p,options:g,schema:this};for(let F=0;F<l.length;F++){const P=l[F];P(O,_,function(U){U&&(Array.isArray(U)?N.push(...U):N.push(U)),--w<=0&&b(N)})}}asNestedTest({key:e,index:t,parent:i,parentPath:a,originalParent:l,options:c}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof d=="number";let g=i[d];const _=Object.assign({},c,{strict:!0,parent:i,value:g,originalValue:l[d],key:void 0,[p?"index":"key"]:d,path:p||d.includes(".")?`${a||""}[${p?d:`"${d}"`}]`:(a?`${a}.`:"")+e});return(b,w,N)=>this.resolve(_)._validate(g,_,w,N)}validate(e,t){var i;let a=this.resolve(Object.assign({},t,{value:e})),l=(i=t?.disableStackTrace)!=null?i:a.spec.disableStackTrace;return new Promise((c,d)=>a._validate(e,t,(p,g)=>{Vn.isError(p)&&(p.value=g),d(p)},(p,g)=>{p.length?d(new Vn(p,g,void 0,void 0,l)):c(g)}))}validateSync(e,t){var i;let a=this.resolve(Object.assign({},t,{value:e})),l,c=(i=t?.disableStackTrace)!=null?i:a.spec.disableStackTrace;return a._validate(e,Object.assign({},t,{sync:!0}),(d,p)=>{throw Vn.isError(d)&&(d.value=p),d},(d,p)=>{if(d.length)throw new Vn(d,e,void 0,void 0,c);l=p}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(Vn.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(Vn.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):il(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=Xo({message:t,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=Xo({message:t,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Yr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Yr.notNull){return this.nullability(!1,e)}required(e=Yr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Yr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),a=Xo(t),l=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(c=>!(c.OPTIONS.name===t.name&&(l||c.OPTIONS.test===a.OPTIONS.test))),i.tests.push(a),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),a=E1(e).map(l=>new no(l));return a.forEach(l=>{l.isSibling&&i.deps.push(l.key)}),i.conditions.push(typeof t=="function"?new Zf(a,t):Zf.fromOptions(a,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=Xo({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Yr.oneOf){let i=this.clone();return e.forEach(a=>{i._whitelist.add(a),i._blacklist.delete(a)}),i.internalTests.whiteList=Xo({message:t,name:"oneOf",skipAbsent:!0,test(a){let l=this.schema._whitelist,c=l.resolveAll(this.resolve);return c.includes(a)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:c}})}}),i}notOneOf(e,t=Yr.notOneOf){let i=this.clone();return e.forEach(a=>{i._blacklist.add(a),i._whitelist.delete(a)}),i.internalTests.blacklist=Xo({message:t,name:"notOneOf",test(a){let l=this.schema._blacklist,c=l.resolveAll(this.resolve);return c.includes(a)?this.createError({params:{values:Array.from(l).join(", "),resolved:c}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:a,optional:l,nullable:c}=t.spec;return{meta:a,label:i,optional:l,nullable:c,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(p=>({name:p.OPTIONS.name,params:p.OPTIONS.params})).filter((p,g,_)=>_.findIndex(b=>b.name===p.name)===g)}}}xr.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])xr.prototype[`${n}At`]=function(e,t,i={}){const{parent:a,parentPath:l,schema:c}=JV(this,e,t,i.context);return c[n](a&&a[l],Object.assign({},i,{parent:a,path:e}))};for(const n of["equals","is"])xr.prototype[n]=xr.prototype.oneOf;for(const n of["not","nope"])xr.prototype[n]=xr.prototype.notOneOf;function Ga(){return new S1}class S1 extends xr{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Vg.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return Bi(t)||t===!0}})}isFalse(e=Vg.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return Bi(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Ga.prototype=S1.prototype;const eU=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function tU(n){const e=Ug(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Ug(n){var e,t;const i=eU.exec(n);return i?{year:ji(i[1]),month:ji(i[2],1)-1,day:ji(i[3],1),hour:ji(i[4]),minute:ji(i[5]),second:ji(i[6]),millisecond:i[7]?ji(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:ji(i[10]),minuteOffset:ji(i[11])}:null}function ji(n,e=0){return Number(n)||e}let nU=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rU=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,iU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sU="^\\d{4}-\\d{2}-\\d{2}",aU="\\d{2}:\\d{2}:\\d{2}",oU="(([+-]\\d{2}(:?\\d{2})?)|Z)",lU=new RegExp(`${sU}T${aU}(\\.\\d+)?${oU}$`),uU=n=>Bi(n)||n===n.trim(),cU={}.toString();function Dt(){return new A1}class A1 extends xr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===cU?e:a})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Yr.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Nn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=Nn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=Nn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,a,l;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:a,name:l}=t:a=t),this.test({name:l||"matches",message:a||Nn.matches,params:{regex:e},skipAbsent:!0,test:c=>c===""&&i||c.search(e)!==-1})}email(e=Nn.email){return this.matches(nU,{name:"email",message:e,excludeEmptyString:!0})}url(e=Nn.url){return this.matches(rU,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Nn.uuid){return this.matches(iU,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,a;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:a=void 0}=e:t=e),this.matches(lU,{name:"datetime",message:t||Nn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Nn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:l=>{if(!l||i)return!0;const c=Ug(l);return c?!!c.z:!1}}).test({name:"datetime_precision",message:t||Nn.datetime_precision,params:{precision:a},skipAbsent:!0,test:l=>{if(!l||a==null)return!0;const c=Ug(l);return c?c.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Nn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:uU})}lowercase(e=Nn.lowercase){return this.transform(t=>Bi(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Bi(t)||t===t.toLowerCase()})}uppercase(e=Nn.uppercase){return this.transform(t=>Bi(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Bi(t)||t===t.toUpperCase()})}}Dt.prototype=A1.prototype;let hU=new Date(""),fU=n=>Object.prototype.toString.call(n)==="[object Date]";class o_ extends xr{constructor(){super({type:"date",check(e){return fU(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=tU(e),isNaN(e)?o_.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(no.isRef(e))i=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=a}return i}min(e,t=Mg.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(i)}})}max(e,t=Mg.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(i)}})}}o_.INVALID_DATE=hU;function dU(n,e=[]){let t=[],i=new Set,a=new Set(e.map(([c,d])=>`${c}-${d}`));function l(c,d){let p=$a.split(c)[0];i.add(p),a.has(`${d}-${p}`)||t.push([d,p])}for(const c of Object.keys(n)){let d=n[c];i.add(c),no.isRef(d)&&d.isSibling?l(d.path,c):a_(d)&&"deps"in d&&d.deps.forEach(p=>l(p,c))}return BV.array(Array.from(i),t).reverse()}function LT(n,e){let t=1/0;return n.some((i,a)=>{var l;if((l=e.path)!=null&&l.includes(i))return t=a,!0}),t}function x1(n){return(e,t)=>LT(n,e)-LT(n,t)}const pU=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Rf(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Rf(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Rf(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Rf)}):"optional"in n?n.optional():n}const mU=(n,e)=>{const t=[...$a.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),a=$a.getter($a.join(t),!0)(n);return!!(a&&i in a)};let jT=n=>Object.prototype.toString.call(n)==="[object Object]";function FT(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const gU=x1([]);function l_(n){return new R1(n)}class R1 extends xr{constructor(e){super({type:"object",check(t){return jT(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=gU,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let a=super._cast(e,t);if(a===void 0)return this.getDefault(t);if(!this._typeCheck(a))return a;let l=this.fields,c=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(a).filter(b=>!this._nodes.includes(b))),p={},g=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),_=!1;for(const b of d){let w=l[b],N=b in a;if(w){let O,F=a[b];g.path=(t.path?`${t.path}.`:"")+b,w=w.resolve({value:F,context:t.context,parent:p});let P=w instanceof xr?w.spec:void 0,M=P?.strict;if(P!=null&&P.strip){_=_||b in a;continue}O=!t.__validating||!M?w.cast(a[b],g):a[b],O!==void 0&&(p[b]=O)}else N&&!c&&(p[b]=a[b]);(N!==b in p||p[b]!==a[b])&&(_=!0)}return _?p:a}_validate(e,t={},i,a){let{from:l=[],originalValue:c=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:c},...l],t.__validating=!0,t.originalValue=c,super._validate(e,t,i,(p,g)=>{if(!d||!jT(g)){a(p,g);return}c=c||g;let _=[];for(let b of this._nodes){let w=this.fields[b];!w||no.isRef(w)||_.push(w.asNestedTest({options:t,key:b,parent:g,parentPath:t.path,originalParent:c}))}this.runTests({tests:_,value:g,originalValue:c,options:t},i,b=>{a(b.sort(this._sortErrors).concat(p),g)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[a,l]of Object.entries(this.fields)){const c=i[a];i[a]=c===void 0?l:c}return t.withMutation(a=>a.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var a;const l=this.fields[i];let c=e;(a=c)!=null&&a.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),t[i]=l&&"getDefault"in l?l.getDefault(c):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=dU(e,t),i._sortErrors=x1(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let a=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),a=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),a)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Rf(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,a])=>e.includes(i)&&e.includes(a)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let a=$a.getter(e,!0);return this.transform(l=>{if(!l)return l;let c=l;return mU(l,e)&&(c=Object.assign({},l),i||delete c[e],c[t]=a(l)),c})}json(){return this.transform(pU)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||xf.exact,test(t){if(t==null)return!0;const i=FT(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=xf.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(a){if(a==null)return!0;const l=FT(this.schema,a);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=xf.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const a of Object.keys(t))i[e(a)]=t[a];return i})}camelCase(){return this.transformKeys(eg.camelCase)}snakeCase(){return this.transformKeys(eg.snakeCase)}constantCase(){return this.transformKeys(e=>eg.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[l,c]of Object.entries(t.fields)){var a;let d=e;(a=d)!=null&&a.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),i.fields[l]=c.describe(d)}return i}}l_.prototype=R1.prototype;var tg,zT;function yU(){if(zT)return tg;zT=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,p=typeof Jh=="object"&&Jh&&Jh.Object===Object&&Jh,g=typeof self=="object"&&self&&self.Object===Object&&self,_=p||g||Function("return this")(),b=Object.prototype,w=b.toString,N=Math.max,O=Math.min,F=function(){return _.Date.now()};function P(H,se,k){var R,D,L,V,I,C,ge=0,Ce=!1,J=!1,he=!0;if(typeof H!="function")throw new TypeError(n);se=q(se)||0,M(k)&&(Ce=!!k.leading,J="maxWait"in k,L=J?N(q(k.maxWait)||0,se):L,he="trailing"in k?!!k.trailing:he);function be(De){var He=R,Pt=D;return R=D=void 0,ge=De,V=H.apply(Pt,He),V}function Ne(De){return ge=De,I=setTimeout(G,se),Ce?be(De):V}function A(De){var He=De-C,Pt=De-ge,En=se-He;return J?O(En,L-Pt):En}function $(De){var He=De-C,Pt=De-ge;return C===void 0||He>=se||He<0||J&&Pt>=L}function G(){var De=F();if($(De))return Z(De);I=setTimeout(G,A(De))}function Z(De){return I=void 0,he&&R?be(De):(R=D=void 0,V)}function ce(){I!==void 0&&clearTimeout(I),ge=0,R=C=D=I=void 0}function _e(){return I===void 0?V:Z(F())}function Se(){var De=F(),He=$(De);if(R=arguments,D=this,C=De,He){if(I===void 0)return Ne(C);if(J)return I=setTimeout(G,se),be(C)}return I===void 0&&(I=setTimeout(G,se)),V}return Se.cancel=ce,Se.flush=_e,Se}function M(H){var se=typeof H;return!!H&&(se=="object"||se=="function")}function U(H){return!!H&&typeof H=="object"}function Y(H){return typeof H=="symbol"||U(H)&&w.call(H)==t}function q(H){if(typeof H=="number")return H;if(Y(H))return e;if(M(H)){var se=typeof H.valueOf=="function"?H.valueOf():H;H=M(se)?se+"":se}if(typeof H!="string")return H===0?H:+H;H=H.replace(i,"");var k=l.test(H);return k||c.test(H)?d(H.slice(2),k?2:8):a.test(H)?e:+H}return tg=P,tg}var _U=yU();const C1=ed(_U);async function I1(n){return console.log("Starting color extraction for:",typeof n=="string"?"URL":"File"),new Promise((e,t)=>{const i=document.createElement("canvas"),a=i.getContext("2d"),l=new Image;l.crossOrigin="anonymous",l.onload=()=>{try{console.log("Image loaded, dimensions:",l.width,"x",l.height);const c=200,d=Math.min(c/l.width,c/l.height);i.width=l.width*d,i.height=l.height*d,console.log("Canvas size for processing:",i.width,"x",i.height),a.drawImage(l,0,0,i.width,i.height);const g=a.getImageData(0,0,i.width,i.height).data;console.log("Processing",g.length/4,"pixels");const _=new Map;for(let U=0;U<g.length;U+=4){const Y=g[U],q=g[U+1],H=g[U+2];if(g[U+3]<128)continue;const k=Math.round(Y/32)*32,R=Math.round(q/32)*32,D=Math.round(H/32)*32,L=k+R+D,V=300,I=80;if(L<V||k<I&&R<I&&D<I||Math.max(k,R,D)-Math.min(k,R,D)<50)continue;const ge=`${k},${R},${D}`;_.set(ge,(_.get(ge)||0)+1)}console.log("Found",_.size,"unique bright quantized colors");const b=Array.from(_.entries()).map(([U,Y])=>{const[q,H,se]=U.split(",").map(Number),k=q+H+se,R=Math.max(q,H,se)-Math.min(q,H,se),D=Y,L=k/765,V=R/255,I=D*.5+L*.3+V*.2;return{color:vU(q,H,se),count:Y,rgb:[q,H,se],brightness:k,saturation:R,score:I}}).sort((U,Y)=>Y.score-U.score);console.log("Top colors by score:",b.slice(0,5).map(U=>`${U.color} (score: ${U.score.toFixed(2)})`));const w=[];for(const U of b){if(w.length>=6)break;w.some(q=>EU(U.rgb,q.rgb)<80)||w.push(U)}let N=null,O=null,F=null;w.length>=3?(N=w[0].color,O=w[1].color,F=[...w].sort((Y,q)=>q.saturation-Y.saturation)[0].color,(F===N||F===O)&&(F=w[2].color)):w.length===2?(N=w[0].color,O=w[1].color,F=w[0].color):w.length===1&&(N=w[0].color,O=w[0].color,F=w[0].color);const P=["#FF6B6B","#4ECDC4","#45B7D1"];N||(N=P[0]),O||(O=P[1]),F||(F=P[2]);const M=[N,O,F];console.log("Final extracted colors:",M),e(M)}catch(c){console.error("Error processing image:",c),e(["#FF6B6B","#4ECDC4","#45B7D1"])}},l.onerror=()=>{console.error("Failed to load image for color extraction"),e(["#FF6B6B","#4ECDC4","#45B7D1"])},typeof n=="string"?l.src=n:l.src=URL.createObjectURL(n)})}function vU(n,e,t){return"#"+[n,e,t].map(i=>{const a=i.toString(16);return a.length===1?"0"+a:a}).join("")}function EU(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}const BT=({month:n,events:e,onDateClick:t,eventsRef:i,primaryColor:a="#008080",secondaryColor:l="#008080",tertiaryColor:c="#008080"})=>{const d=U=>{if(U>=11&&U<=13)return"th";switch(U%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},p=(U,Y)=>{if(!U||!Y)return"";const q=new Date(U),se=new Date(Y)-q,k=Math.round(se/(1e3*60*60));return`${k} hr${k!==1?"s":""}`},g=U=>{const Y=U.getFullYear(),q=U.getMonth(),H=new Date(Y,q,1),k=new Date(Y,q+1,0).getDate(),R=H.getDay();return{daysInMonth:k,startingDayOfWeek:R}},_=U=>e?e.filter(Y=>{const q=new Date(Y.startTime);return q.getDate()===U.getDate()&&q.getMonth()===U.getMonth()&&q.getFullYear()===U.getFullYear()}):[],b=U=>{const Y=[a,l,c];return Y[U%Y.length]},w=U=>new Date(U).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),{daysInMonth:N,startingDayOfWeek:O}=g(n),F=n.toLocaleDateString("en-US",{month:"long",year:"numeric"}),P=[];for(let U=0;U<O;U++)P.push(v.jsx("div",{className:"calendar-day empty"},`empty-${U}`));for(let U=1;U<=N;U++){const Y=new Date(n.getFullYear(),n.getMonth(),U),H=_(Y).length>0;P.push(v.jsx("div",{className:`calendar-day ${H?"has-events":""}`,onClick:se=>{se.preventDefault(),se.stopPropagation(),H&&t&&t(Y)},style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",border:H?`2px solid ${b(0)}`:"none",backgroundColor:H?`${b(0)}20`:"transparent",cursor:H?"pointer":"default",transition:H?"transform 0.2s ease":"none"},onMouseEnter:se=>{H&&(se.target.style.transform="scale(1.05)")},onMouseLeave:se=>{H&&(se.target.style.transform="scale(1)")},children:v.jsx("span",{className:"day-number",style:{fontSize:"14px",fontWeight:"600",color:"white"},children:U})},U))}const M=e.filter(U=>{const Y=new Date(U.startTime),q=new Date(Y.getFullYear(),Y.getMonth(),1),H=new Date(n.getFullYear(),n.getMonth(),1);return q.getTime()===H.getTime()}).sort((U,Y)=>new Date(U.startTime)-new Date(Y.startTime));return v.jsxs("div",{style:{position:"relative",maxWidth:"550px"},children:[v.jsx("h5",{style:{margin:"0 0 0.5rem 0",color:"#a8a8a5",fontSize:"14px",fontWeight:"600",textAlign:"left"},children:F}),v.jsx("div",{style:{height:"240px",marginBottom:"1rem",position:"relative"},children:v.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px",height:"100%"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(U=>v.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"#ffffff",fontWeight:"600",padding:"2px 0",height:"20px"},children:U},U)),P]})}),v.jsxs("div",{style:{height:"240px",overflowY:"auto",padding:"0.5rem",backgroundColor:"transparent",borderRadius:"8px"},children:[v.jsx("div",{className:"calendar-separation-line",style:{display:"block",width:"100%",height:"1px",backgroundColor:"rgba(255, 255, 255, 0.2)",marginBottom:"0.5rem"}}),v.jsxs("div",{ref:i,style:{maxHeight:"200px",overflowY:"auto"},children:[M.map((U,Y)=>{const q=new Date(U.startTime),se=_(q).findIndex(V=>V.id===U.id),k=b(se),R=q.toLocaleDateString("en-US",{weekday:"long"}),D=q.getDate()+d(q.getDate()),L=q.toLocaleDateString("en-US",{month:"short"});return v.jsxs("div",{"data-event-date":q.toISOString().split("T")[0],style:{marginBottom:"1rem"},children:[v.jsxs("div",{style:{color:"#a8a8a5",fontSize:"11px",fontWeight:"500",marginBottom:"0.5rem"},children:[R,", ",L," ",D]}),v.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[v.jsx("div",{style:{width:"3px",height:"40px",backgroundColor:k,borderRadius:"2px",flexShrink:0}}),v.jsxs("div",{style:{flex:1,minWidth:0},children:[v.jsx("div",{style:{color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:U.title}),v.jsx("div",{style:{color:"#a8a8a5",fontSize:"10px"},children:U.location||"No location"})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"2px"},children:[v.jsx("div",{style:{color:"#a8a8a5",fontSize:"10px"},children:w(U.startTime)}),v.jsx("div",{style:{color:"#a8a8a5",fontSize:"10px"},children:p(U.startTime,U.endTime)})]})]})]},U.id)}),M.length===0&&v.jsx("div",{style:{color:"#888",fontSize:"11px",textAlign:"center",padding:"1rem 0"},children:"No events"})]})]})]})},qT=({events:n,onMonthChange:e,onNavigateMonths:t,calendarMonth:i,primaryColor:a="#008080",secondaryColor:l="#008080",tertiaryColor:c="#008080"})=>{const[d,p]=K.useState(new Date),[g,_]=K.useState(new Date),[b,w]=K.useState(!1),N=K.useRef(null),O=K.useRef(null),F=(P,M)=>{const U=M==="left"?N:O;if(!U.current)return;const q=U.current.querySelectorAll("[data-event-date]");for(let H of q)if(H.getAttribute("data-event-date")===P.toISOString().split("T")[0]){H.scrollIntoView({behavior:"smooth",block:"start"});break}};return K.useEffect(()=>{if(n&&n.length>0){const P=new Date(Math.min(...n.map(Y=>new Date(Y.startTime)))),M=new Date(P.getFullYear(),P.getMonth(),1),U=new Date(M.getFullYear(),M.getMonth()+1,1);p(M),_(U)}},[n]),K.useEffect(()=>{if(i){const P=new Date(i),M=new Date(P.getFullYear(),P.getMonth()+1,1);p(P),_(M)}},[i]),v.jsx("div",{className:"calendar-display",onClick:P=>P.stopPropagation(),style:{backgroundColor:"transparent",width:"100%",marginBottom:"2rem"},children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",position:"relative",overflow:"hidden"},children:[v.jsx("div",{className:"calendar-month-left",style:{position:"relative",transform:b?"translateX(-20px)":"translateX(0)",transition:"transform 0.3s ease-in-out, opacity 0.3s ease-in-out",opacity:b?.7:1},children:v.jsx(BT,{month:d,events:n,onDateClick:P=>F(P,"left"),eventsRef:N,primaryColor:a,secondaryColor:l,tertiaryColor:c})}),v.jsx("div",{style:{position:"absolute",left:"50%",top:"40px",bottom:"280px",width:"1.5px",backgroundColor:"rgba(255, 255, 255, 0.2)",transform:"translateX(-50%)"}}),v.jsx("div",{className:"calendar-month-right",style:{position:"relative",transform:b?"translateX(20px)":"translateX(0)",transition:"transform 0.3s ease-in-out, opacity 0.3s ease-in-out",opacity:b?.7:1},children:v.jsx(BT,{month:g,events:n,onDateClick:P=>F(P,"right"),eventsRef:O,primaryColor:a,secondaryColor:l,tertiaryColor:c})})]})})},D1=({events:n=[],onEventsChange:e})=>{const[t,i]=K.useState(null),[a,l]=K.useState(!1),[c,d]=K.useState({title:"",startTime:"",endTime:"",location:""}),[p,g]=K.useState(new Date),_=q=>{const H=q.getFullYear(),se=q.getMonth(),k=new Date(H,se,1),D=new Date(H,se+1,0).getDate(),L=k.getDay();return{daysInMonth:D,startingDayOfWeek:L}},b=q=>n.filter(H=>{const se=new Date(H.startTime);return se.getDate()===q.getDate()&&se.getMonth()===q.getMonth()&&se.getFullYear()===q.getFullYear()}),w=q=>{const H=new Date(p.getFullYear(),p.getMonth(),q);i(H);const se=H.toISOString().split("T")[0];d({title:"",startTime:`${se}T12:00`,endTime:`${se}T13:00`,location:""}),l(!0)},N=()=>{if(!c.title.trim()||!c.startTime||!c.endTime)return;const q={id:Date.now().toString(),...c,startTime:new Date(c.startTime).toISOString(),endTime:new Date(c.endTime).toISOString()};e([...n,q]),l(!1),d({title:"",startTime:"",endTime:"",location:""})},O=q=>{e(n.filter(H=>H.id!==q))},F=q=>{const H=new Date(p);H.setMonth(H.getMonth()+q),g(H)},{daysInMonth:P,startingDayOfWeek:M}=_(p),U=p.toLocaleDateString("en-US",{month:"long",year:"numeric"}),Y=[];for(let q=0;q<M;q++)Y.push(v.jsx("div",{className:"calendar-day empty"},`empty-${q}`));for(let q=1;q<=P;q++){const H=new Date(p.getFullYear(),p.getMonth(),q),se=b(H),k=se.length>0,R=H<new Date(new Date().setHours(0,0,0,0));Y.push(v.jsxs("div",{className:`calendar-day ${k?"has-events":""} ${R?"past":""}`,onClick:D=>{D.preventDefault(),D.stopPropagation(),R||w(q)},style:{position:"relative",minHeight:"40px",cursor:R?"default":"pointer",opacity:R?.5:1},children:[v.jsx("span",{className:"day-number",children:q}),k&&v.jsxs("div",{className:"event-indicators",children:[se.slice(0,2).map((D,L)=>v.jsx("div",{className:"event-dot",style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#ea8151",margin:"1px",display:"inline-block"}},L)),se.length>2&&v.jsxs("span",{className:"more-events",style:{fontSize:"10px",color:"#ea8151"},children:["+",se.length-2]})]})]},q))}return v.jsxs("div",{className:"calendar-editor",children:[v.jsxs("div",{className:"calendar-container",onClick:q=>q.stopPropagation(),style:{backgroundColor:"rgba(64, 64, 64, 0.8)",borderRadius:"12px",padding:"1rem",backdropFilter:"blur(5px)",marginBottom:"1rem"},children:[v.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsx("button",{onClick:q=>{q.preventDefault(),q.stopPropagation(),F(-1)},style:{background:"none",border:"none",color:"#a8a8a5",cursor:"pointer",fontSize:"16px",padding:"4px 8px"},children:"‹"}),v.jsx("h4",{style:{margin:"0",color:"white",fontSize:"16px",fontWeight:"600"},children:U}),v.jsx("button",{onClick:q=>{q.preventDefault(),q.stopPropagation(),F(1)},style:{background:"none",border:"none",color:"#a8a8a5",cursor:"pointer",fontSize:"16px",padding:"4px 8px"},children:"›"})]}),v.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(q=>v.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"#a8a8a5",fontWeight:"600",padding:"2px 0"},children:q},q)),Y]})]}),a&&v.jsx("div",{className:"event-form-modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:v.jsxs("div",{className:"event-form",style:{backgroundColor:"#2a2a2a",borderRadius:"12px",padding:"2rem",width:"90%",maxWidth:"400px"},children:[v.jsx("h3",{style:{margin:"0 0 1rem 0",color:"white"},children:"Add Event"}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",color:"#a8a8a5",marginBottom:"0.5rem"},children:"Event Title *"}),v.jsx("input",{type:"text",value:c.title,onChange:q=>d({...c,title:q.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1a1a",color:"white"},placeholder:"Event title"})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",color:"#a8a8a5",marginBottom:"0.5rem"},children:"Start Time *"}),v.jsx("input",{type:"datetime-local",value:c.startTime,onChange:q=>d({...c,startTime:q.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1a1a",color:"white"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",color:"#a8a8a5",marginBottom:"0.5rem"},children:"End Time *"}),v.jsx("input",{type:"datetime-local",value:c.endTime,onChange:q=>d({...c,endTime:q.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1a1a",color:"white"}})]}),v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("label",{style:{display:"block",color:"#a8a8a5",marginBottom:"0.5rem"},children:"Location"}),v.jsx("input",{type:"text",value:c.location,onChange:q=>d({...c,location:q.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#1a1a1a",color:"white"},placeholder:"Event location (optional)"})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsx("button",{onClick:q=>{q.preventDefault(),q.stopPropagation(),l(!1)},style:{flex:1,padding:"0.75rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"transparent",color:"#a8a8a5",cursor:"pointer"},children:"Cancel"}),v.jsx("button",{onClick:q=>{q.preventDefault(),q.stopPropagation(),N()},style:{flex:1,padding:"0.75rem",borderRadius:"4px",border:"none",backgroundColor:"#ea8151",color:"white",cursor:"pointer"},children:"Add Event"})]})]})}),n.length>0&&v.jsxs("div",{className:"events-list",onClick:q=>q.stopPropagation(),style:{backgroundColor:"rgba(64, 64, 64, 0.8)",borderRadius:"12px",padding:"1rem",backdropFilter:"blur(5px)"},children:[v.jsx("h4",{style:{margin:"0 0 1rem 0",color:"white",fontSize:"14px"},children:"Your Events"}),n.sort((q,H)=>new Date(q.startTime)-new Date(H.startTime)).map(q=>v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",marginBottom:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{color:"white",fontWeight:"600",fontSize:"14px"},children:q.title}),v.jsxs("div",{style:{color:"#a8a8a5",fontSize:"12px"},children:[new Date(q.startTime).toLocaleDateString()," at ",new Date(q.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),q.location&&` • ${q.location}`]})]}),v.jsx("button",{onClick:H=>{H.preventDefault(),H.stopPropagation(),O(q.id)},style:{background:"#ff4444",color:"white",border:"none",borderRadius:"4px",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"12px"},children:"Delete"})]},q.id))]})]})},bU=n=>{if(!n)return null;const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/,/youtu\.be\/([^&\n?#]+)/];for(const t of e){const i=n.match(t);if(i)return i[1]}return null},k1=["monthly","yearly"],TU=["Rock","Pop","Hip-Hop","Jazz","Country","Electronic","Classical"],wU={email:"",password:"",firstName:"",lastName:"",altName:"",phone:"",street:"",city:"",state:"",postalCode:"",subscription:"",acceptsApplePay:!1,acceptsGooglePay:!1,acceptsSamsungPay:!1,taxID:"",profileImageUrl:"",profileBannerUrl:"",bannerColors:[],description:"",notes:"",thought:"",tags:[],genres:[],themeColor:"#008080",images:[],payPalUrl:"",venmoUrl:"",cashAppTag:"",spotifyUrl:"",youTubeUrl:"",tikTokUrl:"",twitterUrl:"",facebookUrl:"",instagramUrl:"",videos:[],events:[]},SU=l_({firstName:Dt().required("First name required"),lastName:Dt().required("Last name required"),altName:Dt().required("Alt / stage name required"),phone:Dt().matches(/^\+?\d{10,15}$/,"Phone: 10-15 digits").required(),street:Dt().required("Street required"),city:Dt().required("City required"),state:Dt().required("State required"),postalCode:Dt().matches(/^\d{5}(-\d{4})?$/,"ZIP must be 5 digits").required(),subscription:Dt().oneOf(k1,"Pick a plan").required(),acceptsApplePay:Ga(),acceptsGooglePay:Ga(),acceptsSamsungPay:Ga(),taxID:Dt().when(["acceptsApplePay","acceptsGooglePay","acceptsSamsungPay"],{is:(n,e,t)=>n||e||t,then:n=>n.required("Tax ID required for Pay platforms"),otherwise:n=>n.notRequired()})}).required();function AU(){const n=yl(),[e,t]=K.useState(1),[i,a]=K.useState(wU),[l,c]=K.useState(""),[d,p]=K.useState([]),[g,_]=K.useState({}),[b,w]=K.useState([]),[N,O]=K.useState(!1),[F,P]=K.useState(""),[M,U]=K.useState([]),[Y,q]=K.useState(!1),H=K.useCallback(C1(async A=>{if(!A.trim()){U([]);return}const $=`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=5&q=${encodeURIComponent(A)}`;try{const G=await fetch($,{headers:{"User-Agent":"tipt-wizard/1.0"}});U(G.ok?await G.json():[])}catch{U([])}},200),[]),se=A=>{const $=A.address??{};R("street",[$.house_number,$.road].filter(Boolean).join(" "),{shouldValidate:!0}),R("city",$.city||$.town||$.village||"",{shouldValidate:!0}),R("state",$.state||"",{shouldValidate:!0}),R("postalCode",$.postcode||"",{shouldValidate:!0}),P(A.display_name),U([])};K.useEffect(()=>sc(Rn,$=>{$&&MA(Td(Nt,"tags")).then(G=>p(G.docs.map(Z=>Z.id)))}),[]);const{register:k,setValue:R,watch:D,trigger:L,getValues:V,formState:{errors:I,isValid:C}}=y1({mode:"onTouched",reValidateMode:"onChange",defaultValues:i,resolver:v1(SU)}),ge=D(["acceptsApplePay","acceptsGooglePay","acceptsSamsungPay"]).some(Boolean),Ce=()=>new Promise(A=>{const $=sc(Rn,G=>{G&&($(),A(G))})}),J=async A=>{A.preventDefault();try{let $;try{$=await dV(i.email,i.password);const G=await Ce();await Fs(hn(Nt,"recipients",G.uid),{ownerUid:G.uid,recipientId:HC(),createdAt:Gi(),profileImageUrl:"/default-avatar.jpg"}),t(2)}catch{try{$=await pV(i.email,i.password);const Z=await ra(hn(Nt,"recipients",$.user.uid));Z.exists()&&Z.data().completed?n("/dashboard"):t(2)}catch(Z){c(Z.code==="auth/wrong-password"?"Wrong password for existing account":"Invalid email or password")}}}catch($){c($.message)}},he=(A,$,G)=>{if(!A||A.size>5*1024*1024)return c("Max file size 5 MB");const Z=s1(o1(e_,`recipients/${Rn.currentUser.uid}/${$}`),A);Z.on("state_changed",ce=>_(_e=>({..._e,[$]:Math.round(ce.bytesTransferred/ce.totalBytes*100)})),ce=>c(ce.message),async()=>{const ce=await a1(Z.snapshot.ref);a(De=>({...De,[G]:G==="images"?[...De.images,ce]:ce}));let _e=[];if(G==="profileBannerUrl")try{console.log("Extracting colors from banner image..."),_e=await I1(A),console.log("Extracted colors:",_e),a(De=>({...De,bannerColors:_e}))}catch(De){console.error("Error extracting colors:",De)}const Se={[G]:G==="images"?LA(ce):ce};G==="profileBannerUrl"&&_e.length>0&&(Se.bannerColors=_e,console.log("Saving banner colors to database:",_e)),console.log("Saving to database:",Se),await Fs(hn(Nt,"recipients",Rn.currentUser.uid),Se,{merge:!0})})},be=async()=>{if(!Y){q(!0);try{console.log("Finish: Original data:",i),console.log("Finish: Banner colors before filtering:",i.bannerColors),await new Promise(A=>setTimeout(A,1e3));try{const A=await ra(hn(Nt,"recipients",Rn.currentUser.uid));if(A.exists()){const $=A.data();console.log("Finish: Latest data from database:",$),console.log("Finish: Latest banner colors from database:",$.bannerColors);const G={...i,...$};console.log("Finish: Merged data:",G);const Z=Object.fromEntries(Object.entries(G).filter(([_e,Se])=>{if(_e==="bannerColors")return console.log("Finish: Keeping bannerColors:",Se),!0;const De=Se!=="";return De||console.log("Finish: Filtering out:",_e,Se),De}));console.log("Finish: Cleaned data:",Z),console.log("Finish: Banner colors after filtering:",Z.bannerColors);const ce={...Z,completed:!0,completedAt:Gi()};console.log("Finish: Final data to save:",ce),await Fs(hn(Nt,"recipients",Rn.currentUser.uid),ce,{merge:!0})}}catch(A){console.error("Finish: Error getting latest data:",A);const $=Object.fromEntries(Object.entries(i).filter(([G,Z])=>G==="bannerColors"?!0:Z!==""));await Fs(hn(Nt,"recipients",Rn.currentUser.uid),{...$,completed:!0,completedAt:Gi()},{merge:!0})}n("/dashboard")}catch(A){console.error("Finish: Error during finish process:",A),c("Error completing profile. Please try again."),q(!1)}}},Ne=async()=>{await L()?(a($=>({...$,...V()})),O(!1),t(3)):O(!0)};return v.jsxs("div",{id:"wizard",children:[e===1&&v.jsxs("form",{onSubmit:J,children:[v.jsx("h3",{children:"Step 1 – Account"}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{children:"Email *"}),v.jsx("input",{required:!0,type:"email",value:i.email,onChange:A=>a($=>({...$,email:A.target.value}))})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Password *"}),v.jsx("input",{required:!0,type:"password",value:i.password,onChange:A=>a($=>({...$,password:A.target.value}))})]})]}),v.jsx("div",{className:"nav-buttons",children:v.jsx("button",{type:"submit",children:"Continue"})})]}),e===2&&v.jsxs("form",{onSubmit:A=>A.preventDefault(),children:[v.jsx("h3",{children:"Step 2 – Required Info"}),v.jsxs("div",{className:"row cols-3",children:[v.jsxs("div",{children:[v.jsx("label",{children:"First name *"}),v.jsx("input",{...k("firstName")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Last name *"}),v.jsx("input",{...k("lastName")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Alt / Stage name *"}),v.jsx("input",{...k("altName")})]})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{children:"Phone *"}),v.jsx("input",{type:"tel",...k("phone")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Subscription *"}),v.jsxs("select",{...k("subscription"),defaultValue:"",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a plan…"}),k1.map(A=>v.jsx("option",{value:A,children:A},A))]})]})]}),v.jsx("div",{className:"row",children:v.jsxs("label",{style:{width:"100%",position:"relative"},children:["Address search",v.jsx("input",{value:F,onChange:A=>{P(A.target.value),H(A.target.value)},placeholder:"123 Main St, City…"}),M.length>0&&v.jsx("ul",{className:"addr-dropdown",children:M.map(A=>v.jsx("li",{onClick:()=>se(A),children:A.display_name},A.place_id))})]})}),v.jsxs("div",{className:"row cols-4",children:[v.jsxs("div",{children:[v.jsx("label",{children:"Street *"}),v.jsx("input",{...k("street")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"City *"}),v.jsx("input",{...k("city")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"State *"}),v.jsx("input",{...k("state")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Postal code *"}),v.jsx("input",{...k("postalCode")})]})]}),[["acceptsApplePay","Apple Pay"],["acceptsGooglePay","Google Pay"],["acceptsSamsungPay","Samsung Pay"]].map(([A,$])=>v.jsxs("label",{style:{display:"block"},children:[v.jsx("input",{type:"checkbox",...k(A)})," ",$]},A)),ge&&v.jsx("div",{className:"row cols",children:v.jsxs("div",{children:[v.jsx("label",{children:"Tax ID *"}),v.jsx("input",{...k("taxID")})]})}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"mt-0 mb-0",children:"Profile image (≤ 5 MB)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:A=>he(A.target.files[0],"profile.jpg","profileImageUrl")}),g["profile.jpg"]&&v.jsx("progress",{value:g["profile.jpg"],max:100})]}),v.jsxs("div",{children:[v.jsx("p",{className:"mt-0 mb-0",children:"Banner image (≤ 5 MB)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:A=>he(A.target.files[0],"banner.jpg","profileBannerUrl")}),g["banner.jpg"]&&v.jsx("progress",{value:g["banner.jpg"],max:100})]})]}),v.jsxs("div",{className:"nav-buttons",children:[v.jsx("button",{type:"button",className:"secondary",onClick:()=>t(1),children:"Back"}),v.jsx("button",{type:"button",onClick:Ne,style:{opacity:C?1:.5},children:"Next"})]}),N&&v.jsx("ul",{className:"error-list",children:Object.values(I).map((A,$)=>v.jsx("li",{children:A.message},$))})]}),e===3&&v.jsxs("section",{children:[v.jsx("h3",{children:"Step 3 – Optional Details"}),v.jsx("textarea",{placeholder:"Description",value:i.description,onChange:A=>a($=>({...$,description:A.target.value}))}),v.jsx("textarea",{placeholder:"Thought (optional) - A personal quote or reflection to share with visitors",value:i.thought,onChange:A=>a($=>({...$,thought:A.target.value})),style:{minHeight:"80px"}}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{className:"flex-half",children:[v.jsx("label",{children:"Tags"}),v.jsx("select",{multiple:!0,value:i.tags,onChange:A=>a($=>({...$,tags:Array.from(A.target.selectedOptions,G=>G.value)})),children:d.map(A=>v.jsx("option",{value:A,children:A},A))})]}),v.jsxs("div",{className:"flex-half",children:[v.jsx("label",{children:"Genres"}),v.jsx("select",{multiple:!0,value:i.genres,onChange:A=>a($=>({...$,genres:Array.from(A.target.selectedOptions,G=>G.value)})),children:TU.map(A=>v.jsx("option",{value:A,children:A},A))})]})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"PayPal.Me username",value:i.payPalUrl,onChange:A=>a($=>({...$,payPalUrl:A.target.value}))})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Venmo username",value:i.venmoUrl,onChange:A=>a($=>({...$,venmoUrl:A.target.value}))})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Cash App $cashtag",value:i.cashAppTag,onChange:A=>a($=>({...$,cashAppTag:A.target.value}))})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Spotify URL",value:i.spotifyUrl,onChange:A=>a($=>({...$,spotifyUrl:A.target.value}))})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"YouTube URL",value:i.youTubeUrl,onChange:A=>a($=>({...$,youTubeUrl:A.target.value}))})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"TikTok URL",value:i.tikTokUrl,onChange:A=>a($=>({...$,tikTokUrl:A.target.value}))})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Twitter URL",value:i.twitterUrl,onChange:A=>a($=>({...$,twitterUrl:A.target.value}))})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Facebook URL",value:i.facebookUrl,onChange:A=>a($=>({...$,facebookUrl:A.target.value}))})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Instagram URL",value:i.instagramUrl,onChange:A=>a($=>({...$,instagramUrl:A.target.value}))})}),v.jsx("div",{className:"flex-half"})]}),v.jsx("div",{className:"row",children:v.jsxs("div",{style:{width:"100%"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#a8a8a5",fontSize:"14px"},children:"YouTube Videos"}),v.jsx("input",{placeholder:"YouTube video URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)",value:i.videoUrl||"",onChange:A=>a($=>({...$,videoUrl:A.target.value})),style:{width:"100%",marginBottom:"0.5rem"}}),v.jsx("button",{type:"button",onClick:async()=>{if(i.videoUrl&&i.videoUrl.trim()){const A=bU(i.videoUrl);if(A)try{(await fetch(`https://img.youtube.com/vi/${A}/maxresdefault.jpg`,{method:"HEAD"})).ok?(a(G=>({...G,videos:[...G.videos,{url:i.videoUrl,id:A}],videoUrl:""})),c("")):c("Video not found. Please check the URL and try again.")}catch{c("Error verifying video. Please check your internet connection and try again.")}else c("Invalid YouTube URL. Please enter a valid YouTube video URL.")}},style:{background:"#ea8151",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"12px"},children:"Add Video"}),i.videos.length>0&&v.jsxs("div",{style:{marginTop:"1rem"},children:[v.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#a8a8a5",fontSize:"14px"},children:"Added Videos:"}),i.videos.map((A,$)=>v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"8px"},children:[v.jsx("img",{src:`https://img.youtube.com/vi/${A.id}/mqdefault.jpg`,alt:"Video thumbnail",style:{width:"60px",height:"45px",borderRadius:"4px",objectFit:"cover"}}),v.jsx("span",{style:{flex:1,fontSize:"12px",color:"#d0d0d0"},children:A.url}),v.jsx("button",{type:"button",onClick:()=>a(G=>({...G,videos:G.videos.filter((Z,ce)=>ce!==$)})),style:{background:"#ff4444",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"Remove"})]},$))]})]})}),v.jsx("div",{className:"row",children:v.jsxs("div",{style:{width:"100%"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#a8a8a5",fontSize:"14px"},children:"Events (Optional)"}),v.jsx("p",{style:{color:"#888",fontSize:"12px",marginBottom:"1rem"},children:"Add upcoming events to your profile. Click on any future date to add an event."}),v.jsx(D1,{events:i.events,onEventsChange:A=>a($=>({...$,events:A}))})]})}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mt-0",children:"Theme Color"}),v.jsx("input",{type:"color",value:i.themeColor,onChange:A=>a($=>({...$,themeColor:A.target.value})),style:{width:100}})]}),v.jsxs("div",{children:[v.jsx("input",{multiple:!0,type:"file",accept:"image/*",onChange:A=>w(Array.from(A.target.files))}),b.map((A,$)=>{const G=`gallery/${Date.now()}_${$}_${A.name}`;return v.jsxs("div",{children:[A.name," ",v.jsx("button",{type:"button",onClick:()=>he(A,G,"images"),children:"Upload"}),g[G]&&v.jsx("progress",{value:g[G],max:100})]},G)})]})]}),v.jsxs("div",{className:"nav-buttons",children:[v.jsx("button",{className:"secondary",onClick:()=>t(2),disabled:Y,children:"Back"}),v.jsx("button",{onClick:be,disabled:Y,children:Y?"Finishing...":"Finish"})]})]}),l&&v.jsx("p",{style:{color:"crimson"},children:l})]})}const xU=n=>{if(!n)return null;const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/,/youtu\.be\/([^&\n?#]+)/];for(const t of e){const i=n.match(t);if(i)return i[1]}return null},N1=["monthly","yearly"],RU=["Rock","Pop","Hip-Hop","Jazz","Country","Electronic","Classical"],CU=l_({firstName:Dt().required(),lastName:Dt().required(),altName:Dt().required(),phone:Dt().matches(/^\+?\d{10,15}$/,"10–15 digits").required(),street:Dt().required(),city:Dt().required(),state:Dt().required(),postalCode:Dt().matches(/^\d{5}(-\d{4})?$/,"ZIP invalid").required(),subscription:Dt().oneOf(N1).required(),acceptsApplePay:Ga(),acceptsGooglePay:Ga(),acceptsSamsungPay:Ga(),taxID:Dt().when(["acceptsApplePay","acceptsGooglePay","acceptsSamsungPay"],{is:(n,e,t)=>n||e||t,then:n=>n.required("Tax ID required")})}).required();function IU(){const{uid:n}=ew(),e=yl(),[t,i]=K.useState({}),[a,l]=K.useState([]),[c,d]=K.useState(""),[p,g]=K.useState([]),[_,b]=K.useState(""),[w,N]=K.useState(!1),[O,F]=K.useState(""),{register:P,setValue:M,handleSubmit:U,watch:Y,trigger:q,formState:{errors:H,isSubmitting:se}}=y1({resolver:v1(CU)});K.useEffect(()=>{(async()=>{const I=await ra(hn(Nt,"recipients",n));if(!I.exists()){e("/");return}const C=I.data();Object.entries(C).forEach(([ge,Ce])=>M(ge,Ce)),d([C.street,C.city,C.state].filter(Boolean).join(", "))})()},[n,e,M]);const k=K.useCallback(C1(async I=>{if(!I.trim()){g([]);return}const C=`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=5&q=${encodeURIComponent(I)}`;try{const ge=await fetch(C,{headers:{"User-Agent":"tipt-edit/1.0"}});g(ge.ok?await ge.json():[])}catch{g([])}},200),[]),R=I=>{const C=I.address??{};M("street",[C.house_number,C.road].filter(Boolean).join(" ")),M("city",C.city||C.town||C.village||""),M("state",C.state||""),M("postalCode",C.postcode||""),d(I.display_name),g([])},D=(I,C,ge)=>{if(!I||I.size>5*1024*1024)return b("Max file size 5 MB");N(!0);const Ce=s1(o1(e_,`recipients/${n}/${C}`),I);Ce.on("state_changed",J=>i(he=>({...he,[C]:Math.round(J.bytesTransferred/J.totalBytes*100)})),J=>{b(J.message),N(!1)},async()=>{const J=await a1(Ce.snapshot.ref);let he=[];if(ge==="profileBannerUrl")try{console.log("EditProfile: Extracting colors from banner image..."),he=await I1(I),console.log("EditProfile: Extracted colors:",he)}catch(Ne){console.error("Error extracting colors:",Ne)}const be={[ge]:ge==="images"?LA(J):J};ge==="profileBannerUrl"&&he.length>0&&(be.bannerColors=he,console.log("EditProfile: Saving banner colors to database:",he)),console.log("EditProfile: Saving to database:",be),await Fs(hn(Nt,"recipients",n),be,{merge:!0}),await new Promise(Ne=>setTimeout(Ne,500)),M(ge,ge==="images"?[...Y("images")||[],J]:J),N(!1)})},L=async I=>{console.log("EditProfile: onSubmit called with values:",I);try{const C=await ra(hn(Nt,"recipients",n)),ge=C.exists()?C.data():{};console.log("EditProfile: Current document data:",ge);const Ce={...I,updatedAt:Gi()};ge.bannerColors&&(Ce.bannerColors=ge.bannerColors,console.log("EditProfile: Preserving banner colors:",ge.bannerColors)),console.log("EditProfile: Final update data:",Ce),await Fs(hn(Nt,"recipients",n),Ce,{merge:!0})}catch(C){console.error("EditProfile: Error in onSubmit:",C),await Fs(hn(Nt,"recipients",n),{...I,updatedAt:Gi()},{merge:!0})}e(`/profile/${n}`)},V=Y(["acceptsApplePay","acceptsGooglePay","acceptsSamsungPay"]).some(Boolean);return v.jsx("div",{id:"wizard",children:v.jsxs("form",{onSubmit:U(L),children:[v.jsx("h3",{children:"Edit Profile"}),v.jsxs("div",{className:"row cols-3",children:[v.jsxs("div",{children:[v.jsx("label",{children:"First name*"}),v.jsx("input",{...P("firstName")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Last name*"}),v.jsx("input",{...P("lastName")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Alt / Stage name*"}),v.jsx("input",{...P("altName")})]})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{children:"Phone*"}),v.jsx("input",{type:"tel",...P("phone")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Subscription*"}),v.jsxs("select",{...P("subscription"),defaultValue:"",children:[v.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select a plan…"}),N1.map(I=>v.jsx("option",{value:I,children:I},I))]})]})]}),v.jsx("div",{className:"row",children:v.jsxs("label",{style:{width:"100%",position:"relative"},children:["Address search",v.jsx("input",{value:c,onChange:I=>{d(I.target.value),k(I.target.value)},placeholder:"123 Main St, City…"}),p.length>0&&v.jsx("ul",{className:"addr-dropdown",children:p.map(I=>v.jsx("li",{onClick:()=>R(I),children:I.display_name},I.place_id))})]})}),v.jsxs("div",{className:"row cols-4",children:[v.jsxs("div",{children:[v.jsx("label",{children:"Street*"}),v.jsx("input",{...P("street")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"City*"}),v.jsx("input",{...P("city")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"State*"}),v.jsx("input",{...P("state")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Postal code*"}),v.jsx("input",{...P("postalCode")})]})]}),[["acceptsApplePay","Apple Pay"],["acceptsGooglePay","Google Pay"],["acceptsSamsungPay","Samsung Pay"]].map(([I,C])=>v.jsxs("label",{style:{display:"block"},children:[v.jsx("input",{type:"checkbox",...P(I)})," ",C]},I)),V&&v.jsx("div",{className:"row",children:v.jsxs("div",{children:[v.jsx("label",{children:"Tax ID*"}),v.jsx("input",{...P("taxID")})]})}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"mt-0 mb-0",children:"Profile image (≤5 MB)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:I=>D(I.target.files[0],"profile.jpg","profileImageUrl")}),t["profile.jpg"]&&v.jsx("progress",{value:t["profile.jpg"],max:100})]}),v.jsxs("div",{children:[v.jsx("p",{className:"mt-0 mb-0",children:"Banner image (≤5 MB)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:I=>D(I.target.files[0],"banner.jpg","profileBannerUrl")}),t["banner.jpg"]&&v.jsx("progress",{value:t["banner.jpg"],max:100})]})]}),v.jsx("textarea",{placeholder:"Description",...P("description")}),v.jsx("textarea",{placeholder:"Thought (optional) - A personal quote or reflection to share with visitors",...P("thought"),style:{minHeight:"80px"}}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{children:"Tags"}),v.jsx("select",{multiple:!0,...P("tags")})]}),v.jsxs("div",{children:[v.jsx("label",{children:"Genres"}),v.jsx("select",{multiple:!0,...P("genres"),children:RU.map(I=>v.jsx("option",{value:I,children:I},I))})]})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"PayPal.Me username",...P("payPalUrl")})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Venmo username",...P("venmoUrl")})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Cash App $cashtag",...P("cashAppTag")})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Spotify URL",...P("spotifyUrl")})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"YouTube URL",...P("youTubeUrl")})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"TikTok URL",...P("tikTokUrl")})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Twitter URL",...P("twitterUrl")})}),v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Facebook URL",...P("facebookUrl")})})]}),v.jsxs("div",{className:"row cols-2",children:[v.jsx("div",{className:"flex-half",children:v.jsx("input",{placeholder:"Instagram URL",...P("instagramUrl")})}),v.jsx("div",{className:"flex-half"})]}),v.jsx("div",{className:"row",children:v.jsxs("div",{style:{width:"100%"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#a8a8a5",fontSize:"14px"},children:"YouTube Videos"}),v.jsx("input",{placeholder:"YouTube video URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID)",value:O,onChange:I=>F(I.target.value),style:{width:"100%",marginBottom:"0.5rem"}}),v.jsx("button",{type:"button",onClick:async()=>{if(O&&O.trim()){const I=xU(O);if(I)try{if((await fetch(`https://img.youtube.com/vi/${I}/maxresdefault.jpg`,{method:"HEAD"})).ok){const ge=Y("videos")||[];M("videos",[...ge,{url:O,id:I}]),F(""),b("")}else b("Video not found. Please check the URL and try again.")}catch{b("Error verifying video. Please check your internet connection and try again.")}else b("Invalid YouTube URL. Please enter a valid YouTube video URL.")}},style:{background:"#ea8151",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"12px"},children:"Add Video"}),(Y("videos")||[]).length>0&&v.jsxs("div",{style:{marginTop:"1rem"},children:[v.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#a8a8a5",fontSize:"14px"},children:"Added Videos:"}),(Y("videos")||[]).map((I,C)=>v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"8px"},children:[v.jsx("img",{src:`https://img.youtube.com/vi/${I.id}/mqdefault.jpg`,alt:"Video thumbnail",style:{width:"60px",height:"45px",borderRadius:"4px",objectFit:"cover"}}),v.jsx("span",{style:{flex:1,fontSize:"12px",color:"#d0d0d0"},children:I.url}),v.jsx("button",{type:"button",onClick:()=>{const ge=Y("videos")||[];M("videos",ge.filter((Ce,J)=>J!==C))},style:{background:"#ff4444",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"Remove"})]},C))]})]})}),v.jsx("div",{className:"row",children:v.jsxs("div",{style:{width:"100%"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#a8a8a5",fontSize:"14px"},children:"Events (Optional)"}),v.jsx("p",{style:{color:"#888",fontSize:"12px",marginBottom:"1rem"},children:"Add upcoming events to your profile. Click on any future date to add an event."}),v.jsx(D1,{events:Y("events")||[],onEventsChange:I=>M("events",I)})]})}),v.jsxs("div",{className:"row cols-2",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mt-0",children:"Theme Color"}),v.jsx("input",{type:"color",...P("themeColor"),style:{width:100}})]}),v.jsxs("div",{children:[v.jsx("input",{multiple:!0,type:"file",accept:"image/*",onChange:I=>l(Array.from(I.target.files))}),a.map((I,C)=>{const ge=`gallery/${Date.now()}_${C}_${I.name}`;return v.jsxs("div",{children:[I.name," ",v.jsx("button",{type:"button",onClick:()=>D(I,ge,"images"),children:"Upload"}),t[ge]&&v.jsx("progress",{value:t[ge],max:100})]},ge)})]})]}),!!Object.keys(H).length&&v.jsx("ul",{className:"error-list",children:Object.values(H).map((I,C)=>v.jsx("li",{children:I.message},C))}),v.jsxs("div",{className:"nav-buttons",children:[v.jsx("button",{type:"button",className:"secondary",onClick:()=>e(-1),disabled:w,children:"Cancel"}),v.jsx("button",{type:"submit",disabled:se||w,children:se?"Saving…":w?"Uploading…":"Save Changes"})]}),_&&v.jsx("p",{style:{color:"crimson"},children:_})]})})}const DU=async(n,e={})=>{try{const t={type:"profile_view",profileId:n,timestamp:Gi(),visitorId:e.visitorId||P1(),userAgent:navigator.userAgent,referrer:document.referrer||"direct",...e};await VA(Td(Nt,"analytics",n,"events"),t),await O1(n,"profile_view"),console.log("Profile view tracked successfully")}catch(t){console.error("Error tracking profile view:",t)}},ng=async(n,e,t,i={})=>{try{console.log("Tracking link click:",{profileId:n,linkType:e,linkUrl:t});const a={type:"link_click",profileId:n,linkType:e,linkUrl:t,timestamp:Gi(),visitorId:i.visitorId||P1(),userAgent:navigator.userAgent,referrer:document.referrer||"direct",...i};await VA(Td(Nt,"analytics",n,"events"),a),await O1(n,"link_click",e),console.log("Link click tracked successfully:",e)}catch(a){console.error("Error tracking link click:",a)}},O1=async(n,e,t=null)=>{try{console.log("Updating analytics summary:",{profileId:n,eventType:e,linkType:t});const i=hn(Nt,"analytics",n,"summary","current"),a=await ra(i),l=new Date().toISOString().slice(0,7),c=new Date().toISOString().slice(0,10);if(a.exists()){console.log("Updating existing summary document");const d={lastUpdated:Gi()};e==="profile_view"?(d.totalProfileViews=La(1),d[`monthlyStats.${l}.views`]=La(1),d[`dailyStats.${c}.views`]=La(1)):e==="link_click"&&(d.totalLinkClicks=La(1),d[`monthlyStats.${l}.clicks`]=La(1),d[`dailyStats.${c}.clicks`]=La(1),t&&(d[`linkStats.${t}`]=La(1))),console.log("Updates to apply:",d),await XP(i,d)}else{console.log("Creating initial summary document");const d={totalProfileViews:e==="profile_view"?1:0,totalLinkClicks:e==="link_click"?1:0,monthlyStats:{[l]:{views:e==="profile_view"?1:0,clicks:e==="link_click"?1:0}},dailyStats:{[c]:{views:e==="profile_view"?1:0,clicks:e==="link_click"?1:0}},linkStats:t?{[t]:1}:{},lastUpdated:Gi()};console.log("Initial data:",d),await Fs(i,d)}console.log("Analytics summary updated successfully")}catch(i){console.error("Error updating analytics summary:",i)}},kU=async n=>{try{console.log("Getting analytics data for profile:",n);const e=hn(Nt,"analytics",n,"summary","current"),t=await ra(e);let i={totalProfileViews:0,totalLinkClicks:0,monthlyStats:{},dailyStats:{},linkStats:{}};t.exists()?(i=t.data(),console.log("Summary data found:",i)):console.log("No summary document found");const a=$P(Td(Nt,"analytics",n,"events"),GP("timestamp","desc"),YP(50)),c=(await MA(a)).docs.map(_=>({id:_.id,..._.data(),timestamp:_.data().timestamp?.toDate?.()||new Date})),d=Object.entries(i.monthlyStats||{}).map(([_,b])=>({month:NU(_),views:b.views||0,clicks:b.clicks||0})).sort((_,b)=>_.month.localeCompare(b.month)).slice(-6),p=i.totalLinkClicks||0,g=Object.entries(i.linkStats||{}).map(([_,b])=>({link:OU(_),clicks:b,percentage:p>0?Math.round(b/p*100):0})).sort((_,b)=>b.clicks-_.clicks).slice(0,5);return{profileViews:i.totalProfileViews||0,linkClicks:i.totalLinkClicks||0,recentActivity:c,monthlyStats:d,topLinks:g,clickRate:i.totalProfileViews>0?(i.totalLinkClicks/i.totalProfileViews*100).toFixed(1):0}}catch(e){return console.error("Error getting analytics data:",e),{profileViews:0,linkClicks:0,recentActivity:[],monthlyStats:[],topLinks:[],clickRate:0}}},P1=()=>{let n=localStorage.getItem("tipt_visitor_id");return n||(n="visitor_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("tipt_visitor_id",n)),n},NU=n=>{const[e,t]=n.split("-");return new Date(e,t-1).toLocaleDateString("en-US",{month:"short"})},OU=n=>n.charAt(0).toUpperCase()+n.slice(1),ff=async()=>{try{const n=new AbortController,e=setTimeout(()=>n.abort(),2e3),t=await fetch("https://ipapi.co/json/",{signal:n.signal,mode:"cors"});if(clearTimeout(e),t.ok){const i=await t.json();return{city:i.city,region:i.region,country:i.country_name,location:`${i.city}, ${i.region}`}}}catch(n){!n.message.includes("CORS")&&!n.message.includes("Failed to fetch")&&console.error("Error getting visitor location:",n)}return{location:"Unknown"}},PU=()=>{const n=["#FF0000","#00FF00","#0000FF","#FFA500","#800080"];console.log("Testing color darkening:"),n.forEach(e=>{const t=$u(e,.4);console.log(`${e} -> ${t}`)})},$u=(n,e=.1)=>{if(!n||typeof n!="string")return"#1a1a1a";const t=n.replace("#","");if(!/^[0-9A-Fa-f]{6}$/.test(t))return"#1a1a1a";const i=parseInt(t.substr(0,2),16),a=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16),c=Math.max(0,Math.floor(i*(1-e))),d=Math.max(0,Math.floor(a*(1-e))),p=Math.max(0,Math.floor(l*(1-e)));return"#"+c.toString(16).padStart(2,"0")+d.toString(16).padStart(2,"0")+p.toString(16).padStart(2,"0")},MU=[{id:"cashapp",name:"Cash App",logo:"/profile_logos/cashapp.png",bgColor:"#00d632",condition:(n,e)=>e.cashAppLink||n.cashAppUrl,getUrl:(n,e)=>e.cashAppLink||n.cashAppUrl},{id:"paypal",name:"PayPal",logo:"/profile_logos/paypal.png",bgColor:"#ffc439",condition:(n,e)=>e.payPalLink,getUrl:(n,e)=>e.payPalLink},{id:"venmo",name:"Venmo",logo:"/profile_logos/venmo.png",bgColor:"#008cff",condition:(n,e)=>e.venmoLink,getUrl:(n,e)=>e.venmoLink},{id:"applepay",name:"Apple Pay",logo:"/profile_logos/apple_pay.png",bgColor:"white",condition:(n,e)=>n.acceptsApplePay,getUrl:()=>null},{id:"googlepay",name:"Google Pay",logo:"/profile_logos/google_pay.png",bgColor:"#000000",condition:(n,e)=>n.acceptsGooglePay,getUrl:()=>null},{id:"samsungpay",name:"Samsung Pay",logo:"/profile_logos/samsung_pay.png",bgColor:"#1e4bc6",condition:(n,e)=>n.acceptsSamsungPay,getUrl:()=>null}],VU=[{id:"spotify",logo:"/profile_logos/spotify.png",condition:n=>n.spotifyUrl,getUrl:n=>n.spotifyUrl},{id:"youtube",logo:"/profile_logos/youtube.png",condition:n=>n.youTubeUrl,getUrl:n=>n.youTubeUrl},{id:"tiktok",logo:"/profile_logos/tiktok.png",condition:n=>n.tikTokUrl,getUrl:n=>n.tikTokUrl},{id:"instagram",logo:"/profile_logos/instagram.png",condition:n=>n.instagramUrl,getUrl:n=>n.instagramUrl},{id:"twitter",logo:"/profile_logos/twitter.png",condition:n=>n.twitterUrl,getUrl:n=>n.twitterUrl},{id:"facebook",logo:"/profile_logos/facebook.png",condition:n=>n.facebookUrl,getUrl:n=>n.facebookUrl}],UU=[{id:"camera",logo:"/profile_logos/camera.png",condition:()=>!0,getUrl:()=>null},{id:"like",logo:"/profile_logos/heart.png",condition:()=>!0,getUrl:()=>null},{id:"share",logo:"/profile_logos/share.png",condition:()=>!0,getUrl:()=>null}],LU=(n,e)=>MU.filter(t=>t.condition(n,e)),rg=n=>VU.filter(e=>e.condition(n)),jU=n=>UU.filter(e=>e.condition(n)),FU=({method:n,data:e,links:t,onLinkClick:i,isLast:a})=>{const l=n.getUrl(e,t);return v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:a?"0.75rem 0 0 0":"0.75rem 0",cursor:l?"pointer":"default",transition:"transform 0.2s ease"},onClick:()=>l&&i(n.id,l),onMouseEnter:c=>l&&(c.target.style.transform="translate(0, -2px)"),onMouseLeave:c=>l&&(c.target.style.transform="translate(0, 0)"),children:[v.jsx("div",{style:{width:"60px",height:"30px",backgroundColor:n.bgColor,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,padding:"6px"},children:v.jsx("img",{src:n.logo,alt:n.name,style:{width:"90%",height:"90%",objectFit:"contain"}})}),v.jsx("span",{style:{color:"white",fontSize:"16px",fontWeight:"bold",wordBreak:"break-word"},children:n.name})]}),!a&&v.jsx("div",{style:{width:"calc(100% - 76px)",height:"1px",backgroundColor:"rgba(255, 255, 255, 0.2)",marginLeft:"76px"}})]})},zU=({link:n,data:e,onLinkClick:t})=>{const i=n.getUrl(e);return v.jsx("div",{style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s ease",flexShrink:0},onClick:()=>t(n.id,i),onMouseEnter:a=>a.target.style.transform="scale(1.1)",onMouseLeave:a=>a.target.style.transform="scale(1)",children:v.jsx("img",{src:n.logo,alt:n.id,style:{width:"100%",height:"100%",objectFit:"contain"}})})},BU=({icon:n,data:e,onLinkClick:t})=>{const i=n.getUrl(e);return v.jsx("div",{style:{width:"25px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:"0.6",transition:"opacity 0.3s ease",flexShrink:0},onClick:()=>t(n.id,i),onMouseEnter:a=>a.target.style.opacity="1",onMouseLeave:a=>a.target.style.opacity="0.6",children:v.jsx("img",{src:n.logo,alt:n.id,style:{width:"100%",height:"100%",objectFit:"contain"}})})};function qU(){const{uid:n}=ew(),e=yl(),[t,i]=K.useState(null),[a,l]=K.useState(null),[c,d]=K.useState(!0),[p,g]=K.useState(null),[_,b]=K.useState(0),[w,N]=K.useState(0),[O,F]=K.useState(0),[P,M]=K.useState(new Date),U=K.useRef(null),Y=K.useRef(null),q=K.useRef(null),H=K.useRef(null),se=G=>{const Z=new Date(P);Z.setMonth(Z.getMonth()+G),M(Z)};K.useEffect(()=>{const G=sc(Rn,Z=>{l(Z)});return()=>G()},[]),K.useEffect(()=>{const G=()=>{const Z=window.innerWidth<=900,ce=Z?.2:.1;let _e;Z?_e=window.scrollY*ce:Y.current?_e=Y.current.scrollTop*ce:_e=0,b(_e)};return window.addEventListener("scroll",G,{passive:!0}),window.addEventListener("resize",G,{passive:!0}),Y.current&&Y.current.addEventListener("scroll",G,{passive:!0}),G(),()=>{window.removeEventListener("scroll",G),window.removeEventListener("resize",G),Y.current&&Y.current.removeEventListener("scroll",G)}},[]),K.useEffect(()=>{PU()},[]),K.useEffect(()=>{if(t?.events&&t.events.length>0){const G=new Date(Math.min(...t.events.map(ce=>new Date(ce.startTime)))),Z=new Date(G.getFullYear(),G.getMonth(),1);M(Z)}},[t?.events]);const k=G=>{const Z=G.target,ce=Z.scrollLeft,_e=216,Se=Z.scrollWidth-Z.clientWidth;if(ce>=Se-1)N((t?.images?.length||0)-1);else{const De=Math.round(ce/_e);N(Math.max(0,Math.min(De,(t?.images?.length||0)-1)))}},R=G=>{const Z=G.target,ce=Z.scrollLeft,_e=Z.offsetWidth-16,Se=Z.scrollWidth-Z.clientWidth;if(ce>=Se-1)F((t?.videos?.length||0)-1);else{const De=Math.round(ce/_e);F(Math.max(0,Math.min(De,(t?.videos?.length||0)-1)))}};K.useEffect(()=>{if(!n)return;const G=WP(hn(Nt,"recipients",n),Z=>{if(Z.exists()){const ce=Z.data();console.log("Profile: Received update:",ce),console.log("Profile: Banner colors in update:",ce.bannerColors),i(ce)}d(!1)},Z=>{console.error("Error listening to profile changes:",Z),d(!1)});return()=>G()},[n]),K.useEffect(()=>{let G=!1;const Z=async()=>{if(n&&!G&&(!a||a.uid!==n)){G=!0,console.log("Tracking profile view for:",{uid:n,currentUser:a?.uid||"anonymous"});try{const _e=await ff();await DU(n,_e)}catch(_e){console.error("Error tracking profile view:",_e)}}else console.log("Not tracking profile view:",{uid:n,hasTracked:G,isOwner:a?.uid===n})},ce=setTimeout(()=>{Z()},100);return()=>clearTimeout(ce)},[n,a]);const D=()=>{e(`/profile/${n}/edit`)},L=(G,Z)=>{console.log("Link clicked:",{linkType:G,linkValue:Z,currentUser:a?.uid,profileUid:n});let ce=Z;G==="venmo"?ce=`https://venmo.com/u/${Z.replace(/^@/,"")}`:G==="paypal"?ce=`https://paypal.me/${Z.replace(/^@/,"")}`:G==="cashapp"&&(ce=`${Z.replace(/^\$/,"")}`),window.open(ce,"_blank","noopener,noreferrer"),!a||a.uid!==n?(console.log("Tracking link click for non-owner"),(async()=>{let _e={location:"Unknown"};try{_e=await ff()}catch(Se){console.error("Error getting visitor location:",Se)}try{await ng(n,G,ce,_e)}catch(Se){console.error("Error tracking link click:",Se)}})()):console.log("Not tracking - user is profile owner")};if(c)return v.jsx("p",{children:"Loading…"});if(!t)return v.jsx("p",{children:"Profile not found"});console.log("Profile data:",t),console.log("Banner colors:",t.bannerColors),console.log("Banner URL:",t.profileBannerUrl),console.log("Has banner colors:",t.bannerColors&&t.bannerColors.length>0);const V=a&&a.uid===n,I=t.venmoUrl,C=t.cashAppTag?`https://cash.app/$${t.cashAppTag.replace(/^\$+/,"")}`:t.cashAppUrl,ge=t.payPalUrl,Ce=t.bannerColors&&t.bannerColors.length>0?t.bannerColors[0]:"#008080",J=t.bannerColors&&t.bannerColors.length>0?t.bannerColors[1]:"#008080",he=t.bannerColors&&t.bannerColors.length>0?t.bannerColors[2]:"#008080",be=$u(Ce,.7),Ne=$u(J,.7),A=t.themeColor?$u(t.themeColor,.5):"#1a1a1a",$=t.bannerColors&&t.bannerColors.length>0?be:A;return console.log("Profile background colors:",{bannerColors:t.bannerColors,primaryColor:Ce,darkerPrimaryColor:be,themeColor:t.themeColor,finalBackgroundColor:$}),v.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0",display:"flex",flexDirection:"column",gap:"0",width:"100%",boxSizing:"border-box",backgroundColor:"transparent",minHeight:"100vh"},children:[v.jsx("div",{className:"navbar-spacer",style:{height:"0px"}}),v.jsx("div",{ref:Y,className:"main-scroll-container",style:{height:"100vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:v.jsxs("div",{className:"profile-container",style:{display:"grid",gridTemplateColumns:"400px minmax(0, 1fr)",gap:"2rem",alignItems:"start",margin:"0",minHeight:"100vh",padding:"80px 0 2rem 0"},children:[v.jsx("div",{className:"mobile-card-spacer",style:{height:"0px",display:"none",gridColumn:"1 / -1"}}),v.jsx("div",{ref:q,className:"profile-left-column",style:{display:"flex",flexDirection:"column",width:"100%",height:"fit-content",overflow:"visible"},children:v.jsxs("div",{className:"profile-content",style:{display:"flex",flexDirection:"column",width:"100%",gap:"1rem",padding:"0 4px"},children:[v.jsx("div",{className:"profile-header",style:{margin:"0 0 0 0"},children:v.jsx("h2",{style:{margin:"0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Profile"})}),v.jsxs("div",{id:"profile-banner",ref:U,style:{position:"relative",marginBottom:"1rem",borderRadius:"30px",width:"100%",maxWidth:"100%"},children:[t.profileBannerUrl&&v.jsx("div",{className:"banner-wrapper",style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"30px",overflow:"hidden",zIndex:1},children:v.jsx("div",{style:{position:"absolute",top:"-10vh",left:"-10%",right:"-10%",bottom:"20vh",backgroundImage:`url(${t.profileBannerUrl})`,backgroundSize:"cover",backgroundPosition:"center",transform:`translateY(${_}px)`,transition:"transform 0.1s ease-out"}})}),v.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(to bottom, 
                    ${Ne}00 0%,  
                    ${Ne} 70%,
                    ${Ne} 100%)`,zIndex:2}}),v.jsxs("div",{style:{position:"relative",borderRadius:"30px",overflow:"hidden",width:"100%",maxWidth:"100%",border:`2px solid ${he}`,boxShadow:`0 0 20px ${he}20`,zIndex:2,backdropFilter:"blur(6px)"},children:[v.jsxs("div",{style:{position:"relative",zIndex:2,padding:"5%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",gap:"1.3rem",width:"100%",boxSizing:"border-box"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"1.5rem",width:"100%"},children:[v.jsx("img",{src:t.profileImageUrl||"/default-avatar.jpg",alt:"profile",className:"profile-image",style:{width:"clamp(60px, 16vw, 130px)",height:"clamp(70px, 18vw, 150px)",borderRadius:"20px",objectFit:"cover",flexShrink:0}}),v.jsxs("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.jsx("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center",justifyContent:"flex-start",marginBottom:"0.5rem",opacity:"1"},children:jU(t).map(G=>v.jsx(BU,{icon:G,data:t,onLinkClick:L},G.id))}),v.jsx("h1",{className:"profile-name",style:{margin:"0 0 0 0",color:"white",fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"bold",lineHeight:".6",wordBreak:"break-word"},children:t.firstName}),t.altName&&v.jsx("p",{className:"profile-lastname",style:{margin:"0 0 0.25rem 0",color:"#c2c2c2",fontSize:"clamp(1.5rem, 4vw, 2rem)",wordBreak:"break-word",fontWeight:"500",lineHeight:"1"},children:t.lastName})]})]}),t.description&&v.jsx("p",{style:{margin:0,color:"#d0d0d0",fontSize:"14px",fontWeight:"600",lineHeight:"1.5",textShadow:"0 1px 2px rgba(0,0,0,0.5)",maxWidth:"100%",wordBreak:"break-word"},children:t.description}),v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:v.jsx("div",{style:{display:"flex",gap:"1vw",alignItems:"center",justifyContent:"space-between",width:"100%",marginLeft:`${100/(rg(t).length*2)-3}%`,marginRight:`${100/(rg(t).length*2)-3}%`},children:rg(t).map(G=>v.jsx(zU,{link:G,data:t,onLinkClick:L},G.id))})}),v.jsx("div",{style:{width:"98%",height:"1.5px",margin:"0 2%",backgroundColor:"rgba(255, 255, 255, 0.2)"}}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0",width:"100%"},children:[v.jsxs("h2",{style:{margin:"0 0 .8rem 0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600",textAlign:"left",lineHeight:".8"},children:["Tip ",t.firstName]}),LU(t,{cashAppLink:C,payPalLink:ge,venmoLink:I}).map((G,Z,ce)=>v.jsx(FU,{method:G,data:t,links:{cashAppLink:C,payPalLink:ge,venmoLink:I},onLinkClick:L,isLast:Z===ce.length-1},G.id))]}),t.thought&&t.thought.trim()&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{width:"98%",height:"1.5px",margin:"0 2%",backgroundColor:"rgba(255, 255, 255, 0.2)"}}),v.jsxs("div",{style:{width:"100%"},children:[v.jsx("h2",{style:{margin:"0 0 1rem 0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Thought"}),v.jsxs("div",{style:{backgroundColor:`${J}`,borderRadius:"20px",padding:".8rem 1rem",position:"relative",backdropFilter:"blur(5px)"},children:[v.jsx("div",{style:{position:"absolute",top:"-2px",left:"50%",transform:"translateX(-50%)",fontSize:"32px",color:"#8e8e8e",fontFamily:"Arial",fontWeight:"bold"},children:'"'}),v.jsx("p",{style:{margin:"1rem 0 0 0",color:"#c2bebd",fontSize:"14px",lineHeight:"1.5",fontWeight:"600",wordBreak:"break-word"},children:t.thought}),v.jsxs("p",{style:{margin:"1rem 0 0 0",color:"#8e8e8e",fontSize:"12px",fontWeight:"800",textAlign:"center",wordBreak:"break-word"},children:[t.firstName.toUpperCase()," ",t.lastName.toUpperCase()]})]})]})]}),v.jsxs("div",{className:"mobile-gallery-section",style:{width:"100%",display:"none"},children:[!!t.images?.length&&v.jsxs("div",{style:{width:"100%",boxSizing:"border-box"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[v.jsx("h2",{style:{margin:"0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Gallery"}),t.images.length>1&&v.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:t.images.map((G,Z)=>v.jsx("div",{className:"gallery-indicator",style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:Z===w?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.3)",transition:"background-color 0.3s ease",cursor:"pointer"},onClick:()=>{const ce=document.querySelector(".mobile-gallery-scroll");ce&&ce.scrollTo({left:Z*216,behavior:"smooth"})}},Z))})]}),v.jsx("div",{style:{width:"100%",overflow:"hidden",maxWidth:"100%"},children:v.jsx("div",{className:"mobile-gallery-scroll",style:{display:"flex",overflowX:"auto",gap:"1rem",paddingBottom:"0.5rem",width:"100%",boxSizing:"border-box",scrollSnapType:"x mandatory",scrollBehavior:"smooth"},onScroll:k,children:t.images.map((G,Z)=>v.jsx("img",{src:G,alt:"",style:{width:"200px",height:"225px",borderRadius:"20px",objectFit:"cover",flexShrink:0}},Z))})})]}),t.videos&&t.videos.length>0&&v.jsxs("div",{style:{width:"100%",boxSizing:"border-box",marginTop:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[v.jsx("h2",{style:{margin:"0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Videos"}),t.videos.length>1&&v.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:t.videos.map((G,Z)=>v.jsx("div",{className:"video-indicator",style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:Z===O?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.3)",transition:"background-color 0.3s ease",cursor:"pointer"},onClick:()=>{const ce=document.querySelector(".mobile-video-scroll");ce&&ce.scrollTo({left:Z*ce.offsetWidth,behavior:"smooth"})}},Z))})]}),v.jsx("div",{style:{width:"100%",overflow:"hidden",maxWidth:"100%",position:"relative"},children:v.jsx("div",{className:"mobile-video-scroll",style:{display:"flex",overflowX:"auto",gap:"1rem",paddingBottom:"0.5rem",width:"100%",boxSizing:"border-box",scrollSnapType:"x mandatory",scrollBehavior:"smooth"},onScroll:R,children:t.videos.map((G,Z)=>v.jsxs("div",{style:{position:"relative",width:"100%",minWidth:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease",backgroundColor:"rgba(64, 64, 64, 0.8)",backdropFilter:"blur(5px)",flexShrink:0,scrollSnapAlign:"start"},onClick:()=>{window.open(G.url,"_blank","noopener,noreferrer"),(!a||a.uid!==n)&&(async()=>{let ce={location:"Unknown"};try{ce=await ff()}catch(_e){console.error("Error getting visitor location:",_e)}try{await ng(n,"youtube_video",G.url,ce)}catch(_e){console.error("Error tracking video click:",_e)}})()},children:[v.jsx("img",{src:`https://img.youtube.com/vi/${G.id}/maxresdefault.jpg`,alt:"Video thumbnail",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px"},onError:ce=>{ce.target.src=`https://img.youtube.com/vi/${G.id}/hqdefault.jpg`}}),v.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:v.jsx("div",{style:{width:0,height:0,borderLeft:"20px solid white",borderTop:"12px solid transparent",borderBottom:"12px solid transparent",marginLeft:"4px"}})})]},Z))})})]}),t.events&&t.events.length>0&&v.jsxs("div",{style:{width:"100%",boxSizing:"border-box",marginTop:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[v.jsx("h2",{style:{margin:"0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Events"}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[v.jsx("button",{onClick:G=>{G.preventDefault(),G.stopPropagation(),se(-1)},style:{background:"none",border:"none",color:"#a8a8a5",cursor:"pointer",fontSize:"16px",padding:"4px 8px"},children:"‹"}),v.jsx("button",{onClick:G=>{G.preventDefault(),G.stopPropagation(),se(1)},style:{background:"none",border:"none",color:"#a8a8a5",cursor:"pointer",fontSize:"16px",padding:"4px 8px"},children:"›"})]})]}),v.jsx(qT,{events:t.events,onMonthChange:M,onNavigateMonths:se,calendarMonth:P,primaryColor:he,secondaryColor:he,tertiaryColor:he})]})]})]}),V&&v.jsx("button",{onClick:D,style:{background:"#ea8151",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"25px",margin:"0 0 2rem 0 ",cursor:"pointer",fontWeight:"600",fontSize:"14px",width:"100%"},children:"Edit Profile"})]})]}),v.jsxs("div",{ref:H,className:"profile-right-column",style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%",height:"fit-content"},children:[!!t.images?.length&&v.jsxs("div",{style:{width:"100%",boxSizing:"border-box"},children:[v.jsx("h2",{style:{margin:"0 0 1rem 0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Gallery"}),v.jsx("div",{style:{width:"100%",overflow:"scroll",maxWidth:"800px"},children:v.jsx("div",{className:"gallery-scroll",style:{display:"flex",overflowX:"auto",gap:"1rem",paddingBottom:"0.5rem",width:"100%",boxSizing:"border-box"},children:t.images.map((G,Z)=>v.jsx("img",{src:G,alt:"",style:{width:"240px",height:"270px",borderRadius:"30px",objectFit:"cover",flexShrink:0}},Z))})})]}),t.videos&&t.videos.length>0&&v.jsxs("div",{style:{width:"100%",boxSizing:"border-box"},children:[v.jsx("h2",{style:{margin:"0 0 1rem 0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Videos"}),v.jsx("div",{style:{width:"100%",overflow:"scroll",maxWidth:"800px"},children:v.jsx("div",{className:"video-scroll",style:{display:"flex",overflowX:"auto",gap:"1rem",paddingBottom:"0.5rem",width:"100%",boxSizing:"border-box"},children:t.videos.map((G,Z)=>v.jsxs("div",{style:{position:"relative",width:t.videos.length===2?"calc(50% - 0.5rem)":"330px",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease",backgroundColor:"rgba(64, 64, 64, 0.8)",backdropFilter:"blur(5px)",flexShrink:t.videos.length===2?1:0},onClick:()=>{window.open(G.url,"_blank","noopener,noreferrer"),(!a||a.uid!==n)&&(async()=>{let ce={location:"Unknown"};try{ce=await ff()}catch(_e){console.error("Error getting visitor location:",_e)}try{await ng(n,"youtube_video",G.url,ce)}catch(_e){console.error("Error tracking video click:",_e)}})()},children:[v.jsx("img",{src:`https://img.youtube.com/vi/${G.id}/maxresdefault.jpg`,alt:"Video thumbnail",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px"},onError:ce=>{ce.target.src=`https://img.youtube.com/vi/${G.id}/hqdefault.jpg`}}),v.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:v.jsx("div",{style:{width:0,height:0,borderLeft:"20px solid white",borderTop:"12px solid transparent",borderBottom:"12px solid transparent",marginLeft:"4px"}})}),v.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0, 0, 0, 0.8))",padding:"1rem",color:"white",fontSize:"12px",fontWeight:"500"},children:"YouTube Video"})]},Z))})})]}),t.events&&t.events.length>0&&v.jsxs("div",{style:{width:"100%",boxSizing:"border-box"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[v.jsx("h2",{style:{margin:"0",color:"#a8a8a5",fontSize:"18px",fontWeight:"600"},children:"Events"}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[v.jsx("button",{onClick:G=>{G.preventDefault(),G.stopPropagation(),se(-1)},style:{background:"none",border:"none",color:"#a8a8a5",cursor:"pointer",fontSize:"16px",padding:"4px 8px"},children:"‹"}),v.jsx("button",{onClick:G=>{G.preventDefault(),G.stopPropagation(),se(1)},style:{background:"none",border:"none",color:"#a8a8a5",cursor:"pointer",fontSize:"16px",padding:"4px 8px"},children:"›"})]})]}),v.jsx(qT,{events:t.events,onMonthChange:M,onNavigateMonths:se,calendarMonth:P,primaryColor:he,secondaryColor:he,tertiaryColor:he})]})]})]})})]})}),v.jsx("style",{children:`
        body {
          background: linear-gradient(to bottom, ${$}, ${$u(Ce,.8)}) !important;
          margin: 0;
          padding: 0;
          transition: background 0.3s ease;
          min-height: 100vh;
          display: block !important;
          place-items: unset !important;
        }
        
        /* Ensure smooth transitions when background color changes */
        .profile-container {
          transition: background-color 0.3s ease;
        }
        
        /* Hide all scrollbars */
        ::-webkit-scrollbar {
          display: none;
        }
        
        * {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        
        /* Gallery scrollbar styling - hidden */
        .gallery-scroll::-webkit-scrollbar {
          display: none;
        }
        
        .gallery-scroll {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        
        /* Video scrollbar styling - hidden */
        .video-scroll::-webkit-scrollbar {
          display: none;
        }
        
        .video-scroll {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        
        /* Mobile video scrollbar styling - hidden */
        .mobile-video-scroll::-webkit-scrollbar {
          display: none;
        }
        
        .mobile-video-scroll {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        
        /* Mobile gallery scrollbar styling - hidden */
        .mobile-gallery-scroll::-webkit-scrollbar {
          display: none;
        }
        
        .mobile-gallery-scroll {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        
        /* Calendar day styling */
        .calendar-day {
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
          color: white;
          font-size: 14px;
          font-weight: 600;
          min-height: 32px;
          position: relative;
        }
        
        .calendar-day.empty {
          background: transparent;
        }
        
        /* Desktop styles - unified scrolling behavior */
        @media (min-width: 901px) {
          .banner-wrapper {
            overflow: hidden !important;
          }
          
          /* Desktop gradient with rounded borders */
          #profile-banner > div:nth-child(2) {
            border-radius: 30px !important;
          }
          
          /* Main scroll container */
          .main-scroll-container {
            height: 100vh !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
          }
          
          /* Profile container with unified scrolling */
          .profile-container {
            min-height: 100vh !important;
            padding: 80px 0 2rem 0 !important;
          }
          
          /* Left column - no longer sticky, just part of unified scroll */
          .profile-left-column {
            position: static !important;
            height: fit-content !important;
            overflow: visible !important;
          }
          
          /* Right column - continues scrolling after left is done */
          .profile-right-column {
            height: fit-content !important;
          }
        }
        
        @media (max-width: 900px) {
          body {
            background: ${Ne} !important;
          }
          
          .mobile-card-spacer {
            height: 30px !important;
            display: block !important;
          }
          
          /* Reset main scroll container on mobile */
          .main-scroll-container {
            height: auto !important;
            overflow: visible !important;
          }
          
          /* Reset profile container on mobile */
          .profile-container {
            min-height: auto !important;
            padding: 0 !important;
          }
          
          /* Reset left column on mobile */
          .profile-left-column {
            position: static !important;
            height: auto !important;
          }
          
          /* Reset profile content on mobile */
          .profile-content {
            height: auto !important;
            overflow: visible !important;
            padding: 0 !important;
            gap: 0 !important;
          }
          
          /* Reset edit button margin on mobile */
          .profile-left-column button {
            margin: 0 !important;
          }
          
          /* Reset profile header margin on mobile */
          .profile-header {
            margin: 0 !important;
          }
          
          .navbar-spacer {
            height: 0px !important;
          }
          
          .profile-container {
            grid-template-columns: 1fr !important;
            gap: 1rem !important;
            padding: 0 !important;
            margin: 0 !important;
            overflow-x: hidden !important;
            max-width: 100vw !important;
          }
          
          /* Allow banner to overflow while keeping content constrained */
          #profile-banner {
            position: relative !important;
            width: 100% !important;
          }
          
          .banner-wrapper {
            overflow: visible !important;
            border-radius: 0 !important;
            position: absolute !important;
            left: -2vw !important;
            right: -2vw !important;
            width: calc(100% + 4vw) !important;
            height: 50% !important;
          }
          
          /* Limit banner background image height on mobile */
          .banner-wrapper > div {
            bottom: 0 !important;
            height: 100% !important;
          }
          
          /* Mobile gradient extension */
          #profile-banner > div:nth-child(2) {
            left: -5vw !important;
            right: -5vw !important;
            width: calc(100% + 10vw) !important;
          }
          
          #profile-banner > div:first-child {
            left: 0 !important;
            right: 0 !important;
            width: 100% !important;
          }
          
          /* Make sure all content fits within viewport */
          .profile-container > div {
            width: 100% !important;
            max-width: calc(100vw - 2rem) !important;
            box-sizing: border-box !important;
            margin: 0 auto !important;
          }
          
          /* Profile image sizing for mobile */
          .profile-image {
            width: clamp(150px, 30vw, 250px) !important;
            height: clamp(180px, 35vw, 300px) !important;
            min-width: 150px !important;
            min-height: 180px !important;
          }
          
          /* Name text sizing for mobile */
          .profile-name {
            font-size: clamp(2rem, 10vw, 3rem) !important;
            line-height: .8 !important;
          }
          
          .profile-lastname {
            font-size: clamp(1.8rem, 10vw, 2.8rem) !important;
          }
          
          /* Show mobile sections and hide desktop sections */
          .mobile-gallery-section {
            display: block !important;
          }
          
          /* Hide desktop gallery/videos/calendar sections on mobile */
          .profile-container > div:last-child {
            display: none !important;
          }
          
          /* Show only one month on mobile */
          .calendar-month-right {
            display: none !important;
          }
          
          /* Adjust calendar grid to single column on mobile */
          .calendar-display > div:first-child {
            grid-template-columns: 1fr !important;
            gap: 0 !important;
          }
          
          /* Hide vertical divider on mobile since there's only one month */
          .calendar-display > div:first-child > div[style*="position: absolute"][style*="left: 50%"] {
            display: none !important;
          }
          
          /* Center the calendar month on mobile with max width */
          .calendar-month-left {
            max-width: 550px !important;
            margin: 0 auto !important;
            width: 100% !important;
          }
        }
        
        /* Hide mobile sections on desktop */
        @media (min-width: 901px) {
          .mobile-gallery-section {
            display: none !important;
          }
          
          /* Hide calendar separation lines on desktop */
          .calendar-separation-line {
            display: none !important;
          }
          

        }
        
        /* Ensure no horizontal scrolling on mobile */
        body {
          overflow-x: hidden;
          max-width: 100vw;
          width: 100%;
        }
        
        /* Ensure the main container doesn't overflow */
        .profile-container {
          max-width: 100vw;
        }
        
        @media (max-width: 480px) {
          /* Further adjustments for very small screens */
          .profile-container {
            gap: 0.5rem !important;
          }
          
          /* Profile image on very small screens */
          .profile-image {
            width: clamp(130px, 28vw, 220px) !important;
            height: clamp(160px, 32vw, 280px) !important;
            min-width: 130px !important;
            min-height: 160px !important;
          }
          
          /* Name text sizing for very small screens */
          .profile-name {
            font-size: clamp(1.8rem, 5vw, 2.5rem) !important;
          }
          
          .profile-lastname {
            font-size: clamp(1.6rem, 4.5vw, 2.3rem) !important;
          }
        }
      `})]})}function HU(){const[n,e]=K.useState(null),[t,i]=K.useState(null),[a,l]=K.useState({profileViews:0,linkClicks:0,recentActivity:[],monthlyStats:[],topLinks:[]}),[c,d]=K.useState(!0),p=yl();K.useEffect(()=>sc(Rn,async w=>{if(!w){p("/signup");return}e(w),await g(w.uid)}),[p]);const g=async b=>{try{const w=await ra(hn(Nt,"recipients",b));w.exists()&&i(w.data());const N=await kU(b);l(N)}catch(w){console.error("Error loading user data:",w)}finally{d(!1)}},_=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return c?v.jsxs("div",{className:"dashboard-loading",children:[v.jsx("div",{className:"loading-spinner"}),v.jsx("p",{children:"Loading your analytics..."})]}):v.jsxs("div",{className:"dashboard",children:[v.jsxs("div",{className:"dashboard-header",children:[v.jsx("h1",{children:"Analytics Dashboard"}),v.jsxs("p",{children:["Welcome back, ",t?.firstName||"User","!"]})]}),v.jsxs("div",{className:"metrics-grid",children:[v.jsxs("div",{className:"metric-card",children:[v.jsx("div",{className:"metric-icon",children:"👁️"}),v.jsxs("div",{className:"metric-content",children:[v.jsx("h3",{children:"Profile Views"}),v.jsx("p",{className:"metric-value",children:a.profileViews.toLocaleString()})]})]}),v.jsxs("div",{className:"metric-card",children:[v.jsx("div",{className:"metric-icon",children:"🔗"}),v.jsxs("div",{className:"metric-content",children:[v.jsx("h3",{children:"Link Clicks"}),v.jsx("p",{className:"metric-value",children:a.linkClicks.toLocaleString()})]})]}),v.jsxs("div",{className:"metric-card",children:[v.jsx("div",{className:"metric-icon",children:"📊"}),v.jsxs("div",{className:"metric-content",children:[v.jsx("h3",{children:"Click Rate"}),v.jsxs("p",{className:"metric-value",children:[a.clickRate,"%"]})]})]}),v.jsxs("div",{className:"metric-card",children:[v.jsx("div",{className:"metric-icon",children:"📈"}),v.jsxs("div",{className:"metric-content",children:[v.jsx("h3",{children:"This Month"}),v.jsx("p",{className:"metric-value",children:a.monthlyStats[a.monthlyStats.length-1]?.views||0})]})]})]}),v.jsxs("div",{className:"charts-section",children:[v.jsxs("div",{className:"chart-card",children:[v.jsx("h3",{children:"Monthly Views"}),v.jsx("div",{className:"bar-chart",children:a.monthlyStats.length>0?a.monthlyStats.map((b,w)=>v.jsxs("div",{className:"bar-item",children:[v.jsx("div",{className:"bar",style:{height:`${b.views/Math.max(...a.monthlyStats.map(N=>N.views))*100}%`}}),v.jsx("span",{className:"bar-label",children:b.month}),v.jsx("span",{className:"bar-value",children:b.views})]},b.month)):v.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#999",fontStyle:"italic"},children:"No data yet"})})]}),v.jsxs("div",{className:"chart-card",children:[v.jsx("h3",{children:"Top Links"}),v.jsx("div",{className:"genre-chart",children:a.topLinks.length>0?a.topLinks.map((b,w)=>v.jsxs("div",{className:"genre-item",children:[v.jsxs("div",{className:"genre-info",children:[v.jsx("span",{className:"genre-name",children:b.link}),v.jsxs("span",{className:"genre-percentage",children:[b.clicks," clicks"]})]}),v.jsx("div",{className:"genre-bar",children:v.jsx("div",{className:"genre-fill",style:{width:`${b.percentage}%`}})})]},b.link)):v.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#999",fontStyle:"italic"},children:"No link clicks yet"})})]})]}),v.jsxs("div",{className:"recent-tips-section",children:[v.jsx("h3",{children:"Recent Activity"}),v.jsxs("div",{className:"tips-table",children:[v.jsxs("div",{className:"tips-header",children:[v.jsx("span",{children:"Type"}),v.jsx("span",{children:"Visitor"}),v.jsx("span",{children:"Date"}),v.jsx("span",{children:"Details"})]}),a.recentActivity.length>0?a.recentActivity.map(b=>v.jsxs("div",{className:"tip-row",children:[v.jsx("span",{className:`tip-amount ${b.type==="profile_view"?"view-type":"click-type"}`,children:b.type==="profile_view"?"👁️ View":"🔗 Click"}),v.jsx("span",{className:"tip-from",children:b.visitorId?.includes("visitor_")?"Anonymous":b.visitorId||"Anonymous"}),v.jsx("span",{className:"tip-date",children:_(b.timestamp)}),v.jsx("span",{className:"tip-message",children:b.type==="profile_view"?b.location||"Unknown location":`${b.linkType||"Unknown"} link`})]},b.id)):v.jsx("div",{className:"tip-row",children:v.jsx("span",{className:"tip-message",style:{gridColumn:"1 / -1",textAlign:"center",fontStyle:"italic",color:"#999"},children:"No activity yet. Share your profile to start tracking!"})})]})]}),v.jsxs("div",{className:"quick-actions",children:[v.jsx("h3",{children:"Quick Actions"}),v.jsxs("div",{className:"action-buttons",children:[v.jsx("button",{className:"action-btn primary",onClick:()=>p(`/profile/${n.uid}`),children:"View Profile"}),v.jsx("button",{className:"action-btn secondary",onClick:()=>p(`/profile/${n.uid}/edit`),children:"Edit Profile"}),v.jsx("button",{className:"action-btn secondary",children:"Export Data"}),v.jsx("button",{className:"action-btn secondary",children:"Share Profile"})]})]})]})}const HT=n=>{const e=Math.round(37-Math.min(1e3,Math.max(0,1400-n))*.02),i=1.1-.59*Math.min(1,Math.max(0,(1400-n)/1e3)),a=e-e*i,l=n<700?{x:76,y:16.5}:{x:76,y:25};return{path:`M0,${e} Q50,${a} ${l.x},${l.y}`,endpoint:l,rotation:n<700?25:n<1100?35:30}};function $U(){const[n,e]=K.useState(!1),[t,i]=K.useState(()=>HT(window.innerWidth)),[a,l]=K.useState({x:0,y:0}),c=K.useRef(null),d=()=>{if(!c.current)return;const p=c.current.getBoundingClientRect(),g=p.width/100,_=p.height/100,b=p.left+t.endpoint.x*g,w=p.top+t.endpoint.y*_,N=Math.max(80,Math.min(window.innerWidth*.09,600)),O=t.rotation*Math.PI/180,F=Math.cos(O)*N*.65,P=Math.sin(O)*N*.5;l({x:b+F,y:w+P})};return K.useEffect(()=>{requestAnimationFrame(()=>e(!0))},[]),K.useEffect(()=>{const p=()=>{i(HT(window.innerWidth)),d()};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),K.useEffect(()=>{d();const p=new ResizeObserver(d);return c.current&&p.observe(c.current),()=>p.disconnect()},[t]),v.jsxs("div",{className:"hero",children:[v.jsx("div",{className:"arc-layer",children:v.jsx("svg",{ref:c,className:"arc",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:v.jsx("path",{d:t.path,className:"arc-path"})})}),v.jsx("div",{className:"plane-container",style:{left:`${a.x}px`,top:`${a.y}px`,transform:`translate(-50%, -50%) rotate(${t.rotation}deg)`},children:v.jsx("img",{className:"plane",src:"/plane.png",alt:"","aria-hidden":!0})}),v.jsxs("div",{className:"logo-container",children:[v.jsx("img",{className:`logo ${n?"in":""}`,src:"/tipt_logo.svg",alt:"TIPT logo"}),v.jsx("p",{className:`tagline ${n?"show":""}`,children:"Get Tipped. Finally. Launching Soon."})]})]})}function GU(){const[n,e]=K.useState(null),[t,i]=K.useState(""),[a,l]=K.useState(!1),c=yl(),d=K.useRef(null);K.useEffect(()=>sc(Rn,async _=>{if(e(_),_)try{const b=await ra(hn(Nt,"recipients",_.uid));if(b.exists()){const w=b.data();w.completed?i(w.profileImageUrl||"/default-avatar.jpg"):i("/default-avatar.jpg")}else i("/default-avatar.jpg")}catch{i("/default-avatar.jpg")}else i("")}),[]),K.useEffect(()=>{const g=_=>!d.current?.contains(_.target)&&l(!1);return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const p=async()=>{await RD(Rn),l(!1),c("/")};return v.jsx("nav",{className:"navbar",children:v.jsxs("div",{className:"navbar-content",children:[v.jsx(Hg,{to:"/",className:"navbar-logo",children:v.jsx("img",{src:"/tipt_logo.svg",alt:"TIPT"})}),!n&&v.jsxs("div",{className:"navbar-buttons",children:[v.jsx("button",{onClick:()=>c("/signup"),children:"Login"}),v.jsx("button",{onClick:()=>c("/signup"),children:"Signup"})]}),n&&v.jsxs("div",{ref:d,className:"avatar-wrapper",children:[v.jsx("img",{src:t,alt:"profile",className:"avatar-img",onClick:()=>l(g=>!g)}),a&&v.jsxs("ul",{className:"avatar-menu",children:[v.jsx("li",{onClick:()=>{c("/dashboard"),l(!1)},children:"Dashboard"}),v.jsx("li",{onClick:()=>{c(`/profile/${n.uid}`),l(!1)},children:"Profile"}),v.jsx("li",{onClick:p,children:"Logout"})]})]})]})})}function YU(){return v.jsxs(v.Fragment,{children:[v.jsx(GU,{}),v.jsx("div",{children:v.jsxs(aC,{children:[v.jsx(Wo,{path:"/signup",element:v.jsx(AU,{})}),v.jsx(Wo,{path:"/dashboard",element:v.jsx(HU,{})}),v.jsx(Wo,{path:"/profile/:uid",element:v.jsx(qU,{})}),v.jsx(Wo,{path:"/profile/:uid/edit",element:v.jsx(IU,{})}),v.jsx(Wo,{path:"*",element:v.jsx($U,{})})]})})]})}zk("debug");mR.createRoot(document.getElementById("root")).render(v.jsx(cr.StrictMode,{children:v.jsx(DC,{children:v.jsx(YU,{})})}));
